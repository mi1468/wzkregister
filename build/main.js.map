{"version":3,"sources":["../../src/services/statics.ts","../../src/pages/home/home.ts","../../src/providers/electron/electron.ts","../../src/providers/checkin-service/checkin-service.ts","../../src/providers/file-manager/file-manager.ts","../../src/providers/draw/draw.ts","../../src/providers/messages/messages.ts","../../src/providers/checkin-service/checkin.modals.ts","../../src/providers/activity-tracker/activity-tracker.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/providers/storage-manager/storage-manager.ts","../../src/providers/gui-manager/gui-manager.ts","../../src/providers/form-manager/form-manager.ts","../../src/providers/touch-manager/touch-manager.ts","../../src/providers/calendar/calendarEvent.Model.ts","../../src/pages/checkin/conditions.ts","../../src/providers/calendar/calendarProvider.ts","../../src/providers/debugger/debugger.ts","../../src/pages/food-card/modal-box.page.ts","../../src/pages/Nutzungsbedingungen/nutzungsbedingungen-modal.ts","../../src/pages/Datenschutzerklarung/datenschutzerklaerung-modal.ts","../../src/pages/help/help-modal.ts","../../src/app/main.ts","../../src/providers/api/api.ts","../../src/providers/platform-manager/platform-manager.ts","../../src/providers/auth-manager/auth-manager.ts","../../src/app/app.module.ts","../../node_modules/moment/locale ^/.*$","../../src/providers/file-manager/file.modal.ts","../../src/providers/form-manager/form-modal.ts","../../src/providers/calendar/calendarUserCalendar.Model.ts","../../locale-data/complete.js (ignored)","../../src/app/app.component.ts","../../src/environments/environment.ts","../../src/pages/simple-text-modal/simple-text-modal.ts","../../src/providers/link-manager/link-manager.ts","../../src/providers/otp/otp.ts","../../src/services/is-cordova-available.ts"],"names":[],"mappings":"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CAAC;QAClC,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACd,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;gBACzB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;aACpB;YACD,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBACxB,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;aAC3C;SACF;QACD,OAAO,EAAE,CAAC;IACZ,CAAC;IA5CU,uBAAuB;QADnC,yEAAU,EAAE;yCAGsB,uFAAmB,EAAoB,mGAAuB,EAA8B,oFAAkB;OAFpI,uBAAuB,CA8CnC;IAAD,8BAAC;CAAA;AA9CmC;;;;;;;;ACNpC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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gBAC5B,gIAA8B;gBAC9B,8EAAa;aACd;YACD,SAAS,EAAE;gBACT,2EAAS;gBACT,iFAAY;gBACZ,EAAE,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAE;gBAEtD,iGAAmB;gBACnB,8FAAkB;gBAClB,0GAAsB;gBACtB,2GAAsB;gBACtB,wEAAW;gBACX,qGAAoB;gBACpB,wEAAO;gBACP,uGAAsB;gBACtB,wEAAW;gBACX,iEAAI;gBACJ,kGAAmB;gBACnB,uFAAgB;gBAChB,8EAAU;gBACV,+EAAW;gBACX,mFAAY;gBACZ,2EAAY;gBACZ,uFAAgB;gBAChB,uFAAgB;gBAChB,yEAAQ;gBACR,+FAAgB;gBAChB,gFAAW;gBACX,iFAAa;gBACb,0EAAQ;gBACR,wFAAe;gBACf,6GAAyB;gBACzB,yEAAQ;gBACR,8GAAuB;gBACvB,kGAAmB;gBACnB,8GAAuB;gBACvB,kGAAmB;aACpB;SACF,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;ACnKtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;AC9RA;AAAA;IAAA;QAUE,WAAM,GAAW,KAAK,CAAC;IAYzB,CAAC;IAAD,WAAC;AAAD,CAAC;;;;;;;;;;ACtBD;AAAA;AAAA;AAAwE;AAEvB;AAEjD;IAMI,iBAAY,SAAS,EAAE,MAAM,EAAU,eAAuC;QAAvC,oBAAe,GAAf,eAAe,CAAwB;QALtE,YAAO,GAAG,CAAC,CAAC;QACb,eAAU,GAAW,IAAI,CAAC;QAC1B,cAAS,GAAW,EAAE,CAAC;QACvB,WAAM,GAAW,EAAE,CAAC;QAGvB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;IAEM,mCAAiB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","file":"main.js","sourcesContent":["export class Info {\n    public static debug = !true;\n    /*This is the main repository for the WZK app*/\n\n    /*\n    public static backendUrl = \"http://backend.clinetplatforms.com/backend\";\n    public static apiURL = \"https://api.clinetplatforms.com:8243\";\n    public static testOtpKeyUrl = \"https://api.clinetplatforms.com/files/template/\";\n    /**/\n\n\n    // Internal project ID\n    public static projectId = \"wzk\";\n\n    private static backendUrlProd = \"https://wappbackend.wz-kliniken.de/backend\";\n    private static backendUrlDev = \"http://clinet.drupal.local\";\n\n    public static backendOauthClientId = \"6349e81a-5e76-4398-ad31-2c62e76b5834\";\n    public static backendOauthClientPassword = \"qqUefZtu2f4GsWwk\";\n    public static backendOauthClientScope = \"app\";\n\n    public static apiURL = \"https://wappapi.wz-kliniken.de/api\";\n    public static testOtpKeyUrl = \"https://wappapi.wz-kliniken.de/files/template/\";\n\n    public static showCalendarAfter = new Date('2021-03-01 00:00:01');\n    /**/\n\n/*\n  public static backendUrl = \"https://demobackend.clinetplatforms.com/backend\";\n  public static apiURL = \"https://demo.clinetplatforms.com/api\";\n  public static testOtpKeyUrl = \"https://demo.clinetplatforms.com/files/template/\";\n  /**/\n/*\n    public static backendUrl = \"https://devbackend.clinetplatforms.com/backend\";\n    public static apiURL = \"https://dev.clinetplatforms.com/api\";\n    public static testOtpKeyUrl = \"https://demo.clinetplatforms.com/files/template/\";\n    /**/\n\n    /**\n     * Returns the full path for the api or backend service,\n     * combining the main url of each service with the path specified.\n     * @param path The URI path that you want to merge\n     * @param api Set to true if the URI is on the API service, false if the URI is on the backend/drupal service. Default: false\n     */\n    public static merge(path: string, api: boolean = false) {\n        return (api ? this.apiURL : this.backendUrl()) + path;\n    }\n\n    public static backendUrl() {\n        if (this.debug == true) {\n            return this.backendUrlDev;\n        }\n        else {\n            return this.backendUrlProd\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/statics.ts","import {Component, OnInit} from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport {AuthManagerProvider} from \"../../providers/auth-manager/auth-manager\";\nimport {GuiManagerProvider} from \"../../providers/gui-manager/gui-manager\";\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage implements OnInit{\n\n  textsClinicNames = {\n    \"\" : \"Klinik\",\n    \"saulgau\" : \"Rehaklinik Saulgau\",\n    \"waldsee\" : \"Klinik im Hofgarten\",\n    \"salzelmen\" : \"Rehaklinik Bad Salzelmen\",\n    \"niederbayern\" : \"Klinik Niederbayern\"\n  };\n  textsClinicSubtitles = {\n    \"\" : \"Ein Stück Leben.\",\n    \"saulgau\" : \"Ein Stück Leben.\",\n    \"salzelmen\" : \"Ein Stück Leben.\",\n    \"waldsee\" : \"Ein Stück Leben.\",\n    \"niederbayern\" : \"Ein Stück Leben.\"\n  };\n  textsClinicDescriptions = {\n    \"\" : \"Ein Stück Leben.\",\n    \"saulgau\" : \"Fachklinik für Orthopädie und Unfallchirurgie (BGSW)\",\n    \"waldsee\" : \"Fachklinik für Orthopädie\",\n    \"salzelmen\" : \"Fachklinik für Orthopädie, Onkologie und Pneumologie\",\n    \"niederbayern\" : \"Fachklinik für Orthopädie, Physikalische und Rehabilitative Medizin\"\n  };\n  backgroundImages = {\n    \"\" : \"assets/home/home.jpg\",\n    \"saulgau\" : \"assets/home/homeImageSmaller.jpg\",\n    \"waldsee\" : \"assets/home/WZ-BadWaldsee-editSmaller.jpg\",\n    \"salzelmen\" : \"assets/home/WZ_SE_Klinik.jpg\",\n    \"niederbayern\" : \"assets/home/WZ-NB-Klinik.jpg\"\n  };\n\n  constructor(public navCtrl: NavController, private authManager:AuthManagerProvider, private guiManager:GuiManagerProvider) {\n\n\n  }\n\n  ngOnInit() {\n  }\n\n  get textClinicName() {\n    return this.textsClinicNames[this.authManager.clinicName] == undefined ? this.textsClinicNames[\"\"] : this.textsClinicNames[this.authManager.clinicName];\n  }\n\n  get textClinicSubtitle() {\n    return this.textsClinicSubtitles[this.authManager.clinicName] == undefined ? this.textsClinicSubtitles[\"\"] : this.textsClinicSubtitles[this.authManager.clinicName];\n  }\n\n  get textClinicDescription() {\n    return this.textsClinicDescriptions[this.authManager.clinicName] == undefined ? this.textsClinicDescriptions[\"\"] : this.textsClinicDescriptions[this.authManager.clinicName];\n  }\n\n  get backgroundLoggedInImage() {\n    return this.backgroundImages[this.authManager.clinicName] == undefined ? this.backgroundImages[\"\"] : this.backgroundImages[this.authManager.clinicName];\n  }\n\n  get tiles() {\n    return this.guiManager.tiles;\n  }\n  navigateTo(item) {\n\n\n    this.navCtrl.setRoot(item.component);\n  }\n\n  get footerNeed() {\n    return !this.authManager.isLoggedIn && !this.guiManager.isLoginPageActive;\n  }\n\n  goToLoginPage() {\n    this.navCtrl.setRoot('LoginPage')\n  }\n  checkDisabled(item) {\n    if(item.loader == null) return false;\n\n\n    return this.guiManager.loaders[item.loader] == true;\n  }\n  get userStatus() {\n\n    if (this.authManager.isLoggedIn && this.authManager.isMedical) return \"medical\";\n    if (this.authManager.isLoggedIn) {\n\n      return \"user\"\n\n    }\n    return 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Injectable} from '@angular/core';\nimport {Http} from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport {ModalController} from \"ionic-angular\";\n\n/*\n  Generated class for the ElectronProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class ElectronProvider {\n\n  public isElectron;\n  private websocket;\n  private currentCallback = (data) => {\n\n  };\n\n  constructor(public http: Http, private  modalCtrl: ModalController) {\n\n    const me = this;\n    try {\n\n      const socket = new WebSocket(\"ws://127.0.0.1:56796\");\n\n      socket.onclose = function (evt) {\n        if (evt.code == 3001) {\n        } else {\n          me.isElectron = false;\n        }\n      };\n\n      socket.onmessage = (rep) => {\n        const data = rep.data;\n\n        if (data.action == \"reset\") {\n          this.modalCtrl.create('PasswordResetPage', {key: data.key})\n        } else {\n          me.currentCallback(JSON.parse(data));\n        }\n      };\n      socket.onopen = () => {\n        me.isElectron = true;\n        me.websocket = socket;\n        socket.send(JSON.stringify({action: \"handshake\"}));\n      };\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  downloadFile(name, data, callback) {\n\n    this.currentCallback = callback;\n\n    this.websocket.send(JSON.stringify({\n      action: \"download\",\n      data: {point: \"api.clinetplatforms.com\", data: data, port: 8243, name: name}\n    }))\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/electron/electron.ts","import {Injectable} from '@angular/core';\nimport {Http} from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport {Condition, Node, Rule} from \"./checkin.modals\";\nimport {StorageManagerProvider} from \"../storage-manager/storage-manager\";\nimport {GuiManagerProvider} from \"../gui-manager/gui-manager\";\nimport {ApiProvider} from \"../api/api\";\nimport {OtpProvider} from \"../otp/otp\";\nimport {File} from \"@ionic-native/file\";\nimport {AlertController} from \"ionic-angular\";\nimport {PlatformManagerProvider} from \"../platform-manager/platform-manager\";\nimport {LinkManagerProvider} from \"../link-manager/link-manager\";\nimport * as moment from \"moment\";\nimport {Process} from \"../../pages/checkin/conditions\";\nimport {DrawProvider} from \"../draw/draw\";\nimport {FormManagerProvider} from \"../form-manager/form-manager\";\nimport {WebForm} from \"../form-manager/form-modal\";\n\n/*\n  Generated class for the CheckinServiceProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class CheckinServiceProvider {\n    private counter = 0;\n    private savedData = [];\n    public presetData : Node[] = null;\n    public isIE = false;\n    private viewPositionData = {};\n    private authKey = \"\";\n    private encodedEmailId = \"\";\n    private backendContent = null;\n\n    public form: WebForm = null;\n\n  constructor(public http: Http,\n              private api: ApiProvider,\n              private drawManager: DrawProvider,\n              private storageProvider: StorageManagerProvider,\n              private guiManager: GuiManagerProvider,\n              private otp: OtpProvider,\n              private file: File,\n              private platformUtils: PlatformManagerProvider,\n              private linkManager: LinkManagerProvider,\n              private alertCtrl: AlertController,\n              private formManagerProvider: FormManagerProvider) {\n\n    // this.formManagerProvider.retrieveWebFormStructureFrom(this.linkManager.getWebformAsHalJSON(), \"\", (form) => {\n    //   this.form = form;\n    // });\n\n    /*this.parse(null, (parsed) => {\n     this.presetData = parsed;\n     });*/\n  }\n\n    public initWithAuthKey(key, encodedEmailId) {\n      this.authKey = key;\n      this.encodedEmailId = encodedEmailId;\n      this.formManagerProvider.retrieveWebFormStructureFrom(this.linkManager.getWebformAsHalJSON(), encodedEmailId, form => {\n        this.form = form;\n        //  form.retrieveSavedDataAndMerge( (retrievedData) => {\n        // //   console.log(\"Retrieved data from storage: \", retrievedData);\n        // //   this.guiManager.loaders.checkin = false;\n        //  })\n        this.guiManager.loaders.checkin = false;\n      });\n\n/*\n      this.parse(this.backendContent, (parsed) => {\n        this.storageProvider.contains(this.encodedEmailId + \"checkin_custom_data\", (nodeDataContains) => {\n          //console.log(\"Custome data contains response: \", nodeDataContains);\n          if (nodeDataContains) {\n            this.storageProvider.fetch(this.encodedEmailId + \"checkin_custom_data\", (nodeDataResponse) => {\n\n              //this.guiManager.showToast(\"Contains custom data, merging nodes...\", 2000);\n              console.log(\"Saved custom data:\", nodeDataResponse);\n              this.presetData = this.mergeNodeState(parsed, nodeDataResponse);\n              this.guiManager.loaders.checkin = false;\n              //this.guiManager.showPopupMessage(\"loader off\", \"loader off 1\");\n              console.log(\"parse: callback: Checkin loader should be off now.\")\n            })\n          }\n          else {\n            console.log(\"custom data aren't in the device\", nodeDataContains);\n            this.presetData = parsed;\n            this.guiManager.loaders.checkin = false;\n            //this.guiManager.showPopupMessage(\"loader off\", \"loader off 2 \");\n            console.log(\"parse: callback: Checkin loader should be off now.\")\n          }\n        });\n      });\n*/\n\n    }\n\n    private fixNodeChildren(node) {\n      if (node.hasOwnProperty(\"children\") && node.children != undefined) {\n        for (let i=0; i < node.children.length; i++) {\n          const current = node.children[i];\n          if (current instanceof Node) {\n            this.fixNodeChildren(current);\n          }\n          else {\n            const newNode : Node = Object.assign(new Node(current.name, current.title, current.type, current.id), current);\n            this.fixNodeChildren(newNode);\n            node.children[i] = newNode;\n          }\n        }\n      }\n    }\n\n    private mergeNode(node: Node, data) {\n\n      if (data == undefined) {\n        return ;\n      }\n      // Parse data of the node itself if possible\n      if (data.hasOwnProperty(\"reflector\") && data.reflector != undefined) {\n        node.reflector = data.reflector;\n      }\n\n      if (node.type == \"checkboxes\") {\n        if (data.hasOwnProperty(\"fields\") && data.fields != undefined && data.fields ) {\n          if (data.fields instanceof Array) {\n            for (let pair of data.fields) {\n              if (pair.hasOwnProperty(\"key\") && pair.key == \"values\") {\n                node.removeField(\"values\");\n                node.addField(\"values\", pair.value);\n              }\n            }\n          }\n        }\n      }\n\n      if (node.canMultiply == true) {\n        if (data.hasOwnProperty(\"children\") && data.children.hasOwnProperty(\"length\") && data.children.length > 0) {\n          node.children = [];\n          for (let i=0; i < data.children.length; i++) {\n            const currentChild = data.children[i];\n            const newNode : Node = Object.assign(new Node(currentChild.name, currentChild.title, currentChild.type, currentChild.id), currentChild);\n            this.fixNodeChildren(newNode);\n            node.children.push( newNode );\n          }\n        }\n      }\n      else if (node.canMultiply == false) {\n        // Parse data of the children\n        if (node.children.length > 0) {\n          this.mergeNodeState(node.children, data.children)\n        }\n      }\n\n    }\n\n    private mergeNodeState(parsed: Node[], nodeSavedState) : Node[] {\n      for(let i = 0; i < parsed.length; i++) {\n        this.mergeNode(parsed[i], nodeSavedState[i]);\n      }\n      return parsed;\n    }\n\n    private parseNode(parentName, content) : Node {\n        this.counter++;\n        if (content[\"#type\"] == \"webform_signature\") return this.drawNode();\n        const contentKeys = Object.keys(content);\n        const type = content[\"#type\"];\n        const name = content[\"#title\"];\n        const node = new Node(parentName, name, type, content[\"#webform_id\"]);\n\n        for (let i = 0; i < contentKeys.length; i++) {\n            const current = contentKeys[i];\n            if (!current.startsWith(\"#\")) {\n                const newNode : Node = this.parseNode(current, content[current]);\n                //newNode.parent = node;\n                if (content[current][\"#webform_multiple\"] && content[current][\"#webform_id\"] != \"test2--an_welchen_erkrankungen_leiden_bzw_litten_sie_ausserdem_1\") {\n                    newNode.selfMultiply = true;\n                    node.canMultiply = true;\n                }\n                node.children.push(newNode);\n            }\n        }\n\n        if (content[\"#other__option_label\"] != null) {\n            node.addField(\"placeholder\", content[\"#other__placeholder\"])\n        }\n\n        // States refer to the input status, if it is disabled, visible, etc..\n        if (content[\"#states\"] != null) {\n            const keys = Object.keys(content[\"#states\"]);\n            for (let i = 0; i < keys.length; i++) {\n                const key = keys[i];\n                const current = content[\"#states\"][key];\n                const rule = new Rule(key);\n                const childKeys = Object.keys(current);\n                for (let x = 0; x < childKeys.length; x++) {\n\n                    const currentChild = current[childKeys[x]];\n                    let name = childKeys[x].substr(13).substr(0, childKeys[x].substr(13).length - 2);\n                    let number = 0;\n                    if (name.indexOf(\"[\") != -1 && name.indexOf(\"[radios]\") == -1) {\n\n                        if (Number.isNaN(Number.parseInt(name.substr(name.length - 3, 2)))) {\n\n                            number = Number.parseInt(name.substr(name.length - 2, 1));\n                            name = name.substr(0, name.length - 3);\n                        } else {\n                            number = Number.parseInt(name.substr(name.length - 3, 2));\n                            name = name.substr(0, name.length - 4);\n                        }\n                    }\n                    const conditionKeys = Object.keys(currentChild);\n\n                    for (let y = 0; y < keys.length; y++) {\n                        const c = new Condition(name, conditionKeys[y], currentChild[conditionKeys[y]]);\n                        if (number != 0) {\n                            c.fromArray = true;\n                            c.arrId = number;\n                        }\n                        rule.conditions.push(c);\n                    }\n                }\n\n                node.rules.push(rule)\n            }\n        }\n        // This is the type of the form element\n        switch (type) {\n            case \"processed_text\": {\n                node.addField(\"text\", content[\"#text\"]);\n                break\n            }\n            case \"select\": {\n                const arr = [];\n                const keys = Object.keys(content[\"#options\"]);\n                for (let i = 0; i < keys.length; i++) {\n                    arr.push(content[\"#options\"][keys[i]])\n                }\n                node.addField(\"values\", arr);\n                break\n            }\n            case \"range\" : {\n                node.addField(\"min\", content[\"#min\"]);\n                node.addField(\"max\", content[\"#max\"]);\n                break\n            }\n            case \"webform_radios_other\" : {\n                //console.log(\"Parsing webform_radios_other\", content);\n                const options = content.radios[\"#options\"];\n                const optionsKeys = Object.keys(options);\n                const arr = [];\n                for (let i = 0; i < optionsKeys.length; i++) {\n                    if (optionsKeys[i] == \"_other_\") {\n                        node.addField(\"other_select\", options[optionsKeys[i]])\n                    }\n                    arr.push(options[optionsKeys[i]])\n                }\n                node.addField(\"values\", arr);\n                //node.reflector = arr[0];\n                //console.log(\"processed node:\", node);\n                break\n            }\n            case \"radios\" : {\n                const options = content[\"#options\"];\n                const optionsKeys = Object.keys(options);\n                const arr = [];\n                for (let i = 0; i < optionsKeys.length; i++) {\n                    if (optionsKeys[i] == \"_other_\") {\n                        node.addField(\"other_select\", options[optionsKeys[i]])\n                    }\n                    arr.push(options[optionsKeys[i]])\n                }\n                node.addField(\"values\", arr);\n                //node.reflector = arr[0];\n                break\n            }\n            case \"checkboxes\" : {\n                //console.log(\"Parsing checkboxes\", content);\n                const options = content[\"#options\"];\n                const optionsKeys = Object.keys(options);\n                const arr = [];\n                for (let i = 0; i < optionsKeys.length; i++) {\n                    if (optionsKeys[i] == \"_other_\") {\n                        node.addField(\"other_select\", options[optionsKeys[i]])\n                    }\n                    arr.push({val: options[optionsKeys[i]], ref: false})\n                }\n                node.addField(\"values\", arr);\n                //console.log(\"processed node:\", node);\n                break\n            }\n            case \"webform_likert\" : {\n                const optionsArr = [];\n                const optionKeys = Object.keys(content[\"#answers\"]);\n                for (let i = 0; i < optionKeys.length; i++) {\n                    const optionValue = content[\"#answers\"][optionKeys[i]];\n                    optionsArr.push({key: optionKeys[i], value: optionValue})\n                }\n                const questions = content[\"#questions\"];\n                const questionKeys = Object.keys(questions);\n                for (let i = 0; i < questionKeys.length; i++) {\n\n                    const value = questions[questionKeys[i]];\n                    const childNode = new Node(questionKeys[i], value, \"likert_child\", content[\"#webform_id-\" + i]);\n                    childNode.addField(\"values\", optionsArr);\n                    /*for (let y = 0; y < this.savedData.length; y++) {\n                        const current = this.savedData[y];\n                        if (current.id == childNode.id) {\n                            childNode.reflector = current.value;\n                            break;\n                        }\n                    }*/\n                    node.children.push(childNode);\n                }\n                break\n            }\n            case \"webform_checkboxes_other\" : {\n//              console.log(\"Parsing webform checkboxes other\", content);\n              const options = content.checkboxes[\"#options\"];\n              const optionsKeys = Object.keys(options);\n              const arr = [];\n              for (let i = 0; i < optionsKeys.length; i++) {\n                if (optionsKeys[i] == \"_other_\") {\n                  node.addField(\"other_select\", options[optionsKeys[i]])\n                }\n                arr.push({val: options[optionsKeys[i]], ref: false})\n              }\n              node.addField(\"values\", arr);\n              node.reflector = arr[0];\n//              console.log(\"processed node:\", node);\n              break\n            }\n            default: {\n\n            }\n\n\n        }\n/*\n        for (let i = 0; i < this.savedData.length; i++) {\n            const current = this.savedData[i];\n            if (current.id == node.id) {\n\n              if (node.type == \"checkboxes\") {\n                  node.removeField(\"values\");\n                  node.addField(\"values\", current.value)\n              }\n              /!*\n              // Untested - broken code\n              else if (node.type == \"webform_checkboxes_other\") {\n                node.removeField(\"values\");\n                node.addField(\"values\", current.value)\n              }*!/\n              else if (node.type != \"checkboxes\") {\n                node.reflector = current.value;\n              }\n              break;\n            }\n        }*/\n\n\n        return node;\n    }\n\n  /**\n   * This prepares the data to be send to the backend in a specific format and returns the result.\n   * Warning: There is hardcoded re-order of the sections in case the amount of the sections is 10.\n   * @param all\n   * @param getValsForRules\n   */\n  public prepareForSend(all: Node[], getValsForRules) {\n        const arr = [];\n        const order = [2,6,8,5,3,4,9,7,10,1];\n        console.log('length of nodes is ' + all.length);\n        if (order.length == all.length) {\n          for (let i of order) {\n            const current = all[i-1];\n            arr.push({\n              title: current.title,\n              type: current.type,\n              name: current.name,\n              childs: this.prepareForSendSubroutine(current.children, getValsForRules),\n              value: current.reflector_other ? current.reflector_other : current.reflector,\n              visible: Process.rulesFullFilled('visible', current, getValsForRules),\n              options: current.getField('values') == null ? null : current.getField('values')\n            });\n          }\n          return arr;\n        }\n        else {\n          return this.prepareForSendSubroutine(all, getValsForRules)\n        }\n    }\n\n  private prepareForSendSubroutine(all: Node[], getValsForRules) {\n    const arr = [];\n    for (let i = 0; i < all.length; i++) {\n      const current = all[i];\n      let currentValue = current.reflector_other ? current.reflector_other : current.reflector;\n      if (current.type == \"date\" || current.type == \"datelist\") {\n        if (current.reflector != undefined && current.reflector != null) {\n          let date = new Date(current.reflector);\n          currentValue = moment(date).format(\"DD.MM.YYYY\");\n        }\n      }\n      if (current.type == \"canvas\") {\n          console.info('Current name is ' + current.name);\n          console.info(this.drawManager.processed);\n        let canvasImages = [{name: \"Vorne\", path:'assets/checkin/man_model_03.jpg'},\n          {name: \"Rücken\", path:'assets/checkin/man_model_04.jpg'},\n          {name: \"linke Seite\", path:'assets/checkin/man_model_05.jpg'},\n          {name: \"rechte Seite\", path:'assets/checkin/man_model_06.jpg'}];\n\n        for(let image of canvasImages) {\n          let imageData = this.drawManager.processed[current.name + image.path];\n          if (imageData != null) {\n\n            arr.push({\n              title: image.name,\n              type: \"canvas_image\",\n              name: image.name,\n              childs: [],\n              value: imageData,\n              visible: true,\n              options: null\n            });\n          }\n        }\n        continue;\n      }\n\n      if (current.type == \"webform_checkboxes_other\") {\n        if (current.isOtherChecked) {\n          currentValue = current.reflector_other\n        }\n        else {\n          currentValue = '';\n        }\n        arr.push({\n          title: current.title,\n          type: current.type,\n          name: current.name,\n          childs: [],\n          value: currentValue,\n          visible: Process.rulesFullFilled('visible', current, getValsForRules),\n          options: current.getField('values') == null ? null : current.getField('values')\n        });\n\n        continue;\n      }\n\n      arr.push({\n        title: current.title,\n        type: current.type,\n        name: current.name,\n        childs: this.prepareForSendSubroutine(current.children, getValsForRules),\n        value: currentValue,\n        visible: Process.rulesFullFilled('visible', current, getValsForRules),\n        options: current.getField('values') == null ? null : current.getField('values'),\n        group: current.getField('GroupId'),\n        question: current.getField('QuestionId'),\n        answer: current.getField('AnswerId'),\n        answer_ids: current.getField('answers')\n      });\n    }\n\n    return arr;\n  }\n\n\n\n    private hashFormFields(text) {\n        if (Array.prototype.reduce){\n          return text.split(\"\").reduce(function(a,b){a=((a<<5)-a)+b.charCodeAt(0);return a&a},0);\n        }\n        let hash = 0;\n        if (text.length === 0) return hash;\n        for (let i = 0; i < text.length; i++) {\n          let character  = text.charCodeAt(i);\n          hash  = ((hash<<5)-hash)+character;\n          hash = hash & hash; // Convert to 32bit integer\n        }\n        return hash;\n    }\n\n\n\n    private removeCache(callback) {\n\n      this.storageProvider.contains(this.encodedEmailId + \"checkin_data\", (ckdContains) => {\n        if (ckdContains) {\n          this.savedData = [];\n          this.storageProvider.remove(this.encodedEmailId + \"checkin_data\", ()=>{\n            this.storageProvider.contains(this.encodedEmailId + \"checkin_custom_data\", (ckcdContains) => {\n              if (ckcdContains) {\n                this.storageProvider.remove(this.encodedEmailId + \"checkin_custom_data\", ()=>{\n                  callback();\n                });\n              }\n              else {\n                callback();\n              }\n            });\n          });\n        }\n        else {\n          this.storageProvider.contains(this.encodedEmailId + \"checkin_custom_data\", (ckcdContains) => {\n            if (ckcdContains) {\n              this.storageProvider.remove(this.encodedEmailId + \"checkin_custom_data\", ()=>{\n                callback();\n              });\n            }\n            else {\n              callback();\n            }\n          });\n        }\n      });\n    }\n\n\n/*    parse(backendContent, callback = (nodes: Node[]) => {}) {\n\n      const parseContent = (content) => {\n        //this.guiManager.showToast(\"Received form-data from the backend...\", 1000);\n        let hash = this.hashFormFields(JSON.stringify(content));\n        console.log(\"Hash of the form: \", hash);\n        const next = () => {\n          //this.guiManager.showToast(\"Inside next function...\", 1000);\n          const nodes: Node[] = [];\n          const keys = Object.keys(content);\n          for (let i = 0; i < keys.length; i++) {\n            if (!keys[i].startsWith(\"#\")) {\n              nodes.push(this.parseNode(keys[i], content[keys[i]]))\n            }\n\n          }\n          console.log(\"parse function, fetch: Checkin loader should be off now\");\n          console.log(\"nodes are: \", nodes);\n          callback(nodes);\n          this.counter = 0;\n        };\n\n        this.storageProvider.contains(\"checkin_form_hash\", (contains) => {\n          if (contains) {\n            this.storageProvider.fetch(\"checkin_form_hash\", (previousHash) => {\n              if (previousHash != hash) {\n                console.log(\"Hash of the form is different. Clearing checkin data from cache.\");\n                this.storageProvider.save(\"checkin_form_hash\", hash, () => {\n                  console.log(\"Hash of the form has been saved in the cache.\");\n                  this.removeCache(()=> {\n                    next();\n                  });\n                });\n              }\n              else {\n                console.log(\"Hash of the form is correct. The data should load soon.\");\n                next();\n              }\n            });\n          }\n          else {\n            console.log(\"There is no hash of the form in cache. Clearing checkin data from cache\");\n            this.storageProvider.save(\"checkin_form_hash\", hash, () => {\n              console.log(\"Hash of the form has been saved in the cache.\");\n              this.removeCache(()=> {\n                next();\n              });\n            });\n          }\n        });\n      };\n\n      const fetch = () => {\n\n          if (backendContent == null) {\n            this.http.get(this.linkManager.getWebformAsHalJSON()).map(res => res.json()).subscribe(content => {\n              console.log(\"Content received by the backend: \", content);\n              this.backendContent = content;\n              parseContent(content);\n            });\n          }\n          else {\n            console.log(\"Backend content are already retrieved: \", backendContent);\n            parseContent(backendContent);\n          }\n      };\n\n\n      this.storageProvider.contains(this.encodedEmailId + \"checkin_data\", (contains) => {\n          if (contains) {\n              console.log(\"Restoring checkin data...\");\n              this.storageProvider.fetch(this.encodedEmailId + \"checkin_data\", (response) => {\n                //this.savedData = response;\n                console.log(\"Saved\", response);\n                fetch();\n              })\n          } else {\n              fetch();\n          }\n      })\n    }\n*/\n\n    parseData(data, callback) {\n        const fetch = (nodeDataResponse) => {\n            console.log(\"parseData, fetch: Starting fetching the information for the form from backend...\");\n            this.http.get(this.linkManager.getWebformAsHalJSON()).map(res => res.json()).subscribe(content => {\n                console.log(\"parseData, fetch: Finished fetching the information from the backend \", content);\n                const nodes = [];\n                const keys = Object.keys(content);\n                for (let i = 0; i < keys.length; i++) {\n                    if (!keys[i].startsWith(\"#\")) {\n                        nodes.push(this.parseNode(keys[i], content[keys[i]]))\n                    }\n\n                }\n\n                //this.presetData = nodes;\n              console.log(\"Saved custom data:\", nodeDataResponse);\n                const finalNodes = this.mergeNodeState(nodes, nodeDataResponse);\n              this.presetData = finalNodes;\n              this.guiManager.loaders.checkin = false;\n              //this.guiManager.showPopupMessage(\"loader off\", \"loader off 3\");\n              //this.guiManager.loaders.checkin = false;\n              console.log(\"parseData, fetch: Checkin loader should be off now\");\n              console.log(\"nodes are: \", finalNodes);\n              callback(finalNodes);\n                this.counter = 0;\n            }, error => {\n              this.guiManager.showPopupMessage(\"Fehler\", \"Die Formulardaten konnten nicht heruntergeladen werden. Beenden Sie die Anwendung und versuchen Sie es erneut.\");\n              console.log(\"Error when downloading the form's field data: \", error);\n            });\n        };\n        this.counter = 0;\n        this.presetData = null;\n        //this.savedData = data;\n        fetch(data);\n    }\n\n\n    public saveViewPosition(positionData) {\n      /*this.viewPositionData = positionData;*/\n      if (this.form != null) {\n        this.form.saveViewPosition(positionData);\n      }\n      /*this.storageProvider.save(this.encodedEmailId + \"checkin_view_position\", positionData, (success) => {\n        console.log(\"View position saved successfully:\", positionData)\n      });*/\n    }\n\n    public getViewPosition(callback) {\n      this.form.getViewPosition(callback)\n      /*this.storageProvider.contains(this.encodedEmailId + \"checkin_view_position\", (contains) => {\n        if (contains) {\n          this.storageProvider.fetch(this.encodedEmailId + \"checkin_view_position\", (response) => {\n            console.log(\"Saved view position retrieved: \", response);\n            callback(response);\n          })\n        } else {\n          callback({});\n        }\n      });*/\n    }\n\n    private drawNode() {\n        this.counter++;\n        return new Node(\"canvas_field\", \"Bitte einzeichnen\", \"canvas\", \"draw_canvas\")\n    }\n\n    deleteCheckins(patientEmail, callback) {\n        let apiPath = \"/checkin/delete\";\n        this.api.post(apiPath, {\n            key: this.authKey,\n            data: patientEmail\n        }, [], (success, data) => {\n            if(success) {\n                let bodyResponse = JSON.parse(data[\"_body\"]);\n                let successfullyTransferred = bodyResponse[\"success\"];\n                let dataResponse = bodyResponse[\"data\"];\n                if (successfullyTransferred) {\n                    callback(true,dataResponse);\n                }\n                else {\n                    callback(false, dataResponse);\n                }\n            }\n            else {\n                callback(false, data);\n            }\n        })\n    }\n\n    retrieveCheckins(patientsIds, callback) {\n        let doNotUseOTPEncryption: boolean = false;\n        if(this.otp.shouldNotRunOTP()) {\n            doNotUseOTPEncryption = true;\n        }\n\n        let apiPath = \"/checkin/retrieve\";\n        this.api.post(apiPath, {\n            key: this.authKey,\n            id: patientsIds,\n            crypt: doNotUseOTPEncryption\n        }, [], (success, data) => {\n            if(success) {\n                console.log(\"Success on retrieving checkins data from the server\");\n\n                let bodyResponse = JSON.parse(data[\"_body\"]);\n                let successfullyTransferred = bodyResponse[\"success\"];\n                let dataResponse = bodyResponse[\"data\"];\n                if (successfullyTransferred) {\n                    if (doNotUseOTPEncryption == true) {\n                        callback(true, dataResponse);\n                    }\n                    else {\n                        this.otp.decryptBase64DataAndGetBase64(dataResponse, (decrSuccess, decrData) => {\n                            callback(decrSuccess,decrData);\n                        });\n                    }\n                }\n                else {\n                    console.log(\"There was a problem with the server.\");\n                    console.log(false, dataResponse);\n                }\n            }\n            else {\n                console.log(\"Failed to retrieve checkin data from the server\");\n                data[\"success\"] = false;\n                callback(false, data);\n            }\n        })\n    }\n\n\n    sendCheckin(data, patientEmail, callback) {\n        let doNotUseOTPEncryption: boolean = false;\n        if(this.otp.shouldNotRunOTP()) {\n            doNotUseOTPEncryption = true;\n        }\n\n        let apiPath = \"/checkin/post\";\n\n        let preparedData = btoa(encodeURIComponent(JSON.stringify(data)));\n        if (doNotUseOTPEncryption == true) {\n            this.api.post(apiPath, {\n                key: this.authKey,\n                content: preparedData,\n                data: patientEmail,\n                crypt: doNotUseOTPEncryption\n            }, [], (success, data) => {\n                this.handleServerResponse(success, data, (s,d) => { callback(s,d);} );\n                if(success == false) {\n                    console.log(\"The server was most likely un-responsive. Please see details: \", success, data);\n                }\n            })\n        }\n        else {\n          const me = this;\n          const sendData = () => {\n            me.otp.encryptDataAndGetBase64(preparedData, (success, encodedData) => {\n              if (success == true) {\n                console.log(\"Success of encrypting data: \" , encodedData);\n                me.api.post(apiPath, {\n                  key: me.authKey,\n                  content: encodedData,\n                  data: patientEmail,\n                  crypt: doNotUseOTPEncryption\n                }, [], (success, data) => {\n                  me.handleServerResponse(success, data, (s,d) => { callback(s,d);} );\n                  if(success == false) {\n                    console.log(\"The server was most likely un-responsive. Please see details: \", success, data);\n                  }\n                })\n              }\n              else {\n                callback(false, encodedData);\n                console.log(\"Error when sending check-in:\", encodedData)\n              }\n            });\n          };\n\n          this.otp.doesKeyExistOnDevice((exists) => {\n            console.log(\"The key exists: \", exists);\n            if (exists) {\n              sendData();\n            }\n            else {\n              let userChoice = this.alertCtrl.create({\n                title: 'Sicherheitsschlüssel Herunterladen?',\n                message: 'Um das Formular abzusenden, laden Sie bitte jetzt unseren Sicherheitsschlüssel herunter. ',\n                buttons: [{\n                  text: 'Abbrechen',\n                  handler: () => {\n                    callback(false, \"Der Benutzer hat den Vorgang abgebrochen.\")\n                  }\n                }, {\n                  text: 'Herunterladen',\n                  handler: () => {\n                    this.otp.downloadOtpKey((keyDownloaded)=> {\n                      if (keyDownloaded) {\n                        sendData()\n                      }\n                      else {\n                        this.guiManager.showPopupMessage(\"Fehler beim Senden des Formulars\", \"Der Sicherheitsschlüssel konnte nicht heruntergeladen werden.\", () => {}, false)\n                        callback(false, \"\")\n                      }\n                    });\n                  }\n                }],\n                enableBackdropDismiss: false\n              });\n              userChoice.present();\n            }\n          });\n        }\n    }\n\n    sendCheckinToKIS(data, patientEmail, callback) {\n//        let doNotUseOTPEncryption: boolean = false;\n      let doNotUseOTPEncryption: boolean = true;\n        if(this.otp.shouldNotRunOTP()) {\n            doNotUseOTPEncryption = true;\n        }\n\n        let apiPath = \"/rest/app/checkin/submit\";\n\n        let preparedData = btoa(encodeURIComponent(JSON.stringify(data)));\n        if (doNotUseOTPEncryption == true) {\n            this.api.backendPost(apiPath, data, [], (success, data) => {\n              console.info(\"server answer is:\", data);\n                this.handleServerResponse(success, data, (s,d) => { callback(s,d);} );\n                if (success == false) {\n                    console.log(\"The server was most likely un-responsive. Please see details: \", success, data);\n                }\n            })\n        }\n        else {\n          const me = this;\n          const sendData = () => {\n            me.otp.encryptDataAndGetBase64(preparedData, (success, encodedData) => {\n              if (success == true) {\n                console.log(\"Success of encrypting data: \" , encodedData);\n                me.api.post(apiPath, {\n                  key: me.authKey,\n                  content: encodedData,\n                  data: patientEmail,\n                  crypt: doNotUseOTPEncryption\n                }, [], (success, data) => {\n                  me.handleServerResponse(success, data, (s,d) => { callback(s,d);} );\n                  if (success == false) {\n                    console.log(\"The server was most likely un-responsive. Please see details: \", success, data);\n                  }\n                })\n              }\n              else {\n                callback(false, encodedData);\n                console.log(\"Error when sending check-in:\", encodedData)\n              }\n            });\n          };\n\n          this.otp.doesKeyExistOnDevice((exists) => {\n            console.log(\"The key exists: \", exists);\n            if (exists) {\n              sendData();\n            }\n            else {\n              let userChoice = this.alertCtrl.create({\n                title: 'Sicherheitsschlüssel Herunterladen?',\n                message: 'Um das Formular abzusenden, laden Sie bitte jetzt unseren Sicherheitsschlüssel herunter. ',\n                buttons: [{\n                  text: 'Abbrechen',\n                  handler: () => {\n                    callback(false, \"Der Benutzer hat den Vorgang abgebrochen.\")\n                  }\n                }, {\n                  text: 'Herunterladen',\n                  handler: () => {\n                    this.otp.downloadOtpKey((keyDownloaded)=> {\n                      if (keyDownloaded) {\n                        sendData()\n                      }\n                      else {\n                        this.guiManager.showPopupMessage(\"Fehler beim Senden des Formulars\", \"Der Sicherheitsschlüssel konnte nicht heruntergeladen werden.\", () => {}, false)\n                        callback(false, \"\")\n                      }\n                    });\n                  }\n                }],\n                enableBackdropDismiss: false\n              });\n              userChoice.present();\n            }\n          });\n        }\n    }\n\n  checkIfPatientAllowedToCompleteCheckin(callback) {\n    let apiPath = \"/rest/app/users/checkin/allowed\";\n    this.api.backendPost(apiPath, [], [], (success, answer) => {\n//      console.info('answer is:', answer);\n      callback(success, answer.data);\n    });\n\n    // this.storageProvider.fetch('user_info', user_info => {\n    //   this.api.postBackend(apiPath, {\n    //     patient_id: user_info.patient_id\n    //   }, [], (success, data) => {\n    //     this.handleServerResponse(success, data, (s, d) => {\n    //       callback(s, d);\n    //     });\n    //     if (success == false) {\n    //       console.log(\"The server was most likely un-responsive. Please see details: \", success, data);\n    //     }\n    //   });\n    // });\n  }\n\n    private handleServerResponse(success, data, callback) {\n        let dataResponse = \"\";\n        let successResponse = success;\n        if (data.hasOwnProperty(\"success\")) {\n            successResponse = data[\"success\"];\n        }\n        if (data.hasOwnProperty(\"_body\")) {\n            dataResponse = data[\"_body\"];\n            try {\n                let json = JSON.parse(dataResponse);\n                if (json.hasOwnProperty(\"data\")) {\n                    dataResponse = json[\"data\"];\n                }\n                if (json.hasOwnProperty(\"success\")) {\n                    successResponse = json[\"success\"]\n                }\n            } catch (e) {\n            }\n        }\n        else {\n            dataResponse = data;\n        }\n        callback(successResponse, dataResponse);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/checkin-service/checkin-service.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport {ApiProvider} from \"../api/api\";\nimport {File} from \"./file.modal\";\nimport {ElectronProvider} from \"../electron/electron\";\nimport {isCordovaAvailable} from \"../../services/is-cordova-available\";\nimport {StorageManagerProvider} from \"../storage-manager/storage-manager\";\nimport {GuiManagerProvider} from \"../gui-manager/gui-manager\";\nimport {ResponseContentType} from \"@angular/http\";\nimport {File as FileManager} from '@ionic-native/file';\nimport {FileOpener} from \"@ionic-native/file-opener\";\nimport {OtpProvider} from \"../otp/otp\";\nimport {AlertController} from \"ionic-angular\";\nimport {PlatformManagerProvider} from \"../platform-manager/platform-manager\";\n\n/*\n  Generated class for the FileManagerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class FileManagerProvider {\n\n  public cached: File;\n\n  public fileIds = [];\n  private fetching = false;\n\n  private key: string;\n  private isMedical: boolean;\n  private name: string;\n  private encodedEmailId: string;\n\n  constructor(public http: ApiProvider, private electron: ElectronProvider, private storage: StorageManagerProvider, private guiManager: GuiManagerProvider, private fileManager: FileManager, private opener: FileOpener, private otp: OtpProvider, private alertCtrl: AlertController, private platformUtils: PlatformManagerProvider) {\n\n    this.encodedEmailId = \"\";\n\n  }\n\n  public clear() {\n    this.fileIds = [];\n    this.cached = new File();\n    this.key = \"\";\n    this.isMedical = false;\n    this.name = \"\";\n  }\n\n  private writeDataToFileAndOpen(data, file: File, notUseOTP: boolean) {\n    const me = this;\n    const id = file.fileId;\n    const hash = file.hashcode;\n    const strid: string = file.fileId + \"\";\n\n    if (notUseOTP) {\n      if (me.platformUtils.isWebApplication()) {\n        let link = document.createElement(\"a\");\n        link.href = window.URL.createObjectURL(data.blob());\n        //link.download = item.name;\n        link.download = \"Aufnahmefragebogen.pdf\";\n        link.click();\n      }\n      else {\n        const path = me.fileManager.dataDirectory.substr(7) + \"/\" + strid + \"/\" + file.name;\n\n        me.fileManager.checkDir(this.fileManager.dataDirectory, strid).then(exists => {\n          console.log(\"The folder does exist\");\n          me.fileManager.writeFile(this.fileManager.dataDirectory + \"/\" + strid, file.name, data.blob(), {replace: true}).then(written => {\n            console.log(\"saved \", file.name , \" file\");\n            console.log(\"Path is: \"+ me.fileManager.dataDirectory.substr(7)  + strid + \"/\" + file.name);\n            me.storage.save(\"file-\" + id, {id: id, hashcode: hash}, () => {\n              me.openFile(file);\n            });\n          }).catch(err => {\n          })\n        }).catch(err => {\n\n          console.log(\"Folder does not exist\")\n          me.fileManager.createDir(this.fileManager.dataDirectory, strid, true).then(_ => {\n\n            console.log(\"folder created\")\n            me.fileManager.writeFile(this.fileManager.dataDirectory + \"/\" + strid, file.name, data.blob(), {replace: true}).then(written => {\n              console.log(\"saved \", file.name , \" file\");\n              console.log(\"Path is: \"+ me.fileManager.dataDirectory.substr(7)  + strid + \"/\" + file.name);\n              me.storage.save(\"file-\" + id, {id: id, hashcode: hash}, () => {\n                me.openFile(file);\n              });\n            }).catch(err => {\n            })\n          });\n        })\n      }\n    }\n    else {\n\n      me.fileManager.checkDir(this.fileManager.dataDirectory, strid).then(exists => {\n        console.log(\"The folder does exist\");\n        me.fileManager.writeFile(this.fileManager.dataDirectory + \"/\" + strid, file.name + \".crypt\", data.blob(), {replace: true}).then(written => {\n          console.log(\"wrote .crypt file\");\n          console.log(\"Path is: \"+ me.fileManager.dataDirectory.substr(7)  + strid + \"/\" + file.name)\n\n          console.log(me.fileManager.dataDirectory.substr(7) + \"key.otp\");\n          console.log(me.fileManager.dataDirectory.substr(7) + strid + \"/\" + file.name + \".crypt\")\n          me.otp.resetKey();\n          me.otp.decrypt(me.fileManager.dataDirectory.substr(7) + \"/key.otp\", me.fileManager.dataDirectory.substr(7) + \"/\" + strid + \"/\" + file.name + \".crypt\", me.fileManager.dataDirectory.substr(7) + \"/\" + strid + \"/\" + file.name, (success) => {\n\n\n            console.log(success)\n            me.storage.save(\"file-\" + id, {id: id, hashcode: hash}, () => {\n              me.openFile(file);\n\n            });\n          }, (error) => {\n            console.log(error)\n          })\n        }).catch(err => {\n        })\n      }).catch(err => {\n\n        console.log(\"Folder does not exist\")\n        me.fileManager.createDir(this.fileManager.dataDirectory, strid, true).then(_ => {\n\n          console.log(\"folder created\")\n          me.fileManager.writeFile(this.fileManager.dataDirectory + \"/\" + strid, file.name + \".crypt\", data.blob(), {replace: true}).then(written => {\n            console.log(\"wrote .crypt file\");\n            console.log(\"Path is: \"+ me.fileManager.dataDirectory.substr(7)  + strid + \"/\" + file.name)\n            me.otp.resetKey();\n            me.otp.decrypt(me.fileManager.dataDirectory.substr(7) + \"/key.otp\", me.fileManager.dataDirectory.substr(7) + \"/\" + strid + \"/\" + file.name + \".crypt\", me.fileManager.dataDirectory.substr(7) + \"/\" + strid + \"/\" + file.name, (success) => {\n              console.log(success)\n              me.openFile(file);\n            }, (error) => {\n              console.log(error)\n\n            })\n\n\n          }).catch(err => {\n          })\n        });\n      })\n    }\n  }\n\n  private downloadFileWithHTTPS(item: File) {\n\n      const me = this;\n      const id = item.fileId;\n      const hash = item.hashcode;\n\n      const cont = () => {\n          const strid: string = item.fileId + \"\";\n\n          let data = null;\n\n\n          if (item.rawLink == null || item.rawLink == \"\") {\n              data = encodeURIComponent(btoa(JSON.stringify({fid: id, key: this.key, crypt: false})));\n          } else {\n              data = item.rawLink;\n          }\n          {\n              if (!isCordovaAvailable()) {\n                  window.open(this.http.target + \"/download/\" + data, '_blank');\n              } else {\n                  if (this.electron.isElectron) {\n\n                      me.electron.downloadFile(item.name, data, (data) => {\n                          me.guiManager.showToast(\"Datei wurde geladen\", 6500);\n                      })\n\n                  } else {\n                      const indicator = this.guiManager.showToast(\"Die Datei wird geladen\", 60000);\n                      this.http.get(\"/download/\" + data, [], (success, data) => {\n                          indicator.dismissAll();\n                        this.writeDataToFileAndOpen(data, item, true)\n\n                      }, false, ResponseContentType.Blob);\n                  }\n              }\n          }\n      };\n\n      this.storage.contains(this.encodedEmailId + \"file-\" + id, (contains) => {\n\n          if (contains) {\n              me.storage.fetch(this.encodedEmailId + \"file-\" + id, (obj) => {\n                  if (obj.hashcode == hash) {\n                      this.openFile(item);\n                  } else {\n                      cont();\n                  }\n              })\n          } else {\n              cont();\n          }\n      });\n  }\n\n  public downloadFile(item: File) {\n\n    const abort = () => {\n\n      let alerter = this.alertCtrl.create({\n        title: \"Download im Browser nicht möglich\",\n        message: \"Das herunterladen von Dateien ist nicht vom Browser möglich, bitte benutzen sie die mobile App, oder die Destop Software.\",\n        buttons: [{text: \"Ok\", handler: () => {}}]\n      }).present();\n\n    };\n\n    if(!isCordovaAvailable()) {\n\n      abort();\n      return;\n    }\n\n    if(this.otp.shouldNotRunOTP()) {\n      //abort();\n      this.downloadFileWithHTTPS(item);\n      return;\n    }\n\n    this.otp.checkOtpTestFile();\n    const me = this;\n    const id = item.fileId;\n    const hash = item.hashcode;\n\n    const cont = () => {\n      const strid: string = item.fileId + \"\";\n\n      let data = null;\n\n\n      if (item.rawLink == null || item.rawLink == \"\") {\n        data = encodeURIComponent(btoa(JSON.stringify({fid: id, key: this.key, crypt: true})));\n      } else {\n        data = item.rawLink;\n      }\n      {\n        if (!isCordovaAvailable()) {\n          window.open(this.http.target + \"/download/\" + data, '_blank');\n        } else {\n          if (this.electron.isElectron) {\n\n            me.electron.downloadFile(item.name, data, (data) => {\n              me.guiManager.showToast(\"Datei wurde geladen\", 6500);\n            })\n\n          } else {\n            const indicator = this.guiManager.showToast(\"Die Datei wird geladen\", 60000);\n            this.http.get(\"/download/\" + data, [], (success, data) => {\n              indicator.dismissAll();\n              this.writeDataToFileAndOpen(data, item, false)\n\n            }, false, ResponseContentType.Blob);\n          }\n        }\n      }\n    };\n\n    this.storage.contains(\"file-\" + id, (contains) => {\n\n      if (contains) {\n        me.storage.fetch(\"file-\" + id, (obj) => {\n          if (obj.hashcode == hash) {\n            this.openFile(item);\n          } else {\n            cont();\n          }\n        })\n      } else {\n        cont();\n      }\n    });\n  }\n\n  private openFile(item: File) {\n\n    const strid: string = item.fileId + \"\";\n    const id = item.fileId;\n    let data = null;\n    if (item.rawLink == null || item.rawLink == \"\") {\n      data = encodeURIComponent(btoa(JSON.stringify({fid: id, key: this.key, crypt: this.electron.isElectron})));\n    } else {\n      data = item.rawLink;\n    }\n    if (!isCordovaAvailable()) {\n      window.open(this.http.target + \"/download/\" + data, '_blank');\n    } else {\n      if (this.electron.isElectron) {\n        //TODO\n      } else {\n        const path = this.fileManager.dataDirectory + strid + \"/\" + item.name;\n        this.opener.open(path, item.type).catch(err => {\n          console.log(\"Err while opening: \" + JSON.stringify(err))\n        })\n      }\n    }\n  }\n\n  get current() {\n    return this.cached;\n  }\n\n\n  public init(key, isMedical, name, encodedEmailId) {\n    this.key = key;\n    this.isMedical = isMedical;\n    this.name = name;\n    this.encodedEmailId = encodedEmailId;\n\n    const me = this;\n    // this.storage.contains(this.encodedEmailId + \"saved-file-ids\", (cont) => {\n    //   if (cont) {\n    //     this.storage.fetch(this.encodedEmailId + \"saved-file-ids\", (data) => {\n    //       me.fileIds = data;\n    //       console.log(\"Init of file-manager. Calling updateFile\");\n    //       this.updateFile(() => {\n    //       })\n    //     })\n    //   }\n    //   else {\n    //     console.log(\"Init of file-manager. Calling updateFile\");\n    //     this.updateFile(() => {\n    //     })\n    //   }\n    // });\n  }\n\n\n  public updateFile(callback, returnNew = false) {\n\n    const me = this;\n    const newFileArr = returnNew ? [] : null;\n    this.guiManager.loaders[\"docs\"] = true;\n    if (this.fetching) return;\n\n    this.fetching = true;\n\n    const data = {name: this.name};\n\n\n    this.http.post(\"/search\", data, [], (success, data) => {\n\n      console.log(\"Returned from searching for the file manager updateFile method\");\n      console.log(\"Success, data:\", success, data);\n      if (success) {\n        if (data.success) {\n\n          console.log(\"This is success...?\", data.success);\n\n          if (data.data.level == \"all\") {\n            const files = data.data.results;\n            this.cached = new File();\n            this.cached.isDirectory = true;\n            this.cached.isRoot = true;\n            this.cached.childrenFiles = [];\n            this.cached.name = \"Patienten\";\n            for (let i = 0; i < files.length; i++) {\n              const current = files[i];\n              const patientFile = new File();\n              patientFile.isDirectory = true;\n              patientFile.name = current.id;\n              patientFile.childrenFiles = [];\n\n              const ownFiles = current.data;\n              for (let x = 0; x < ownFiles.length; x++) {\n                let found = false;\n                let theSub = null;\n                for (let y = 0; y < patientFile.childrenFiles.length; y++) {\n\n                  if(ownFiles[x] == null) {\n                    console.log(ownFiles, x, patientFile.name)\n                  }\n                  if (patientFile.childrenFiles[y].name == ownFiles[x].directory) {\n                    found = true;\n                    theSub = patientFile.childrenFiles[y];\n                    break;\n                  }\n                }\n                if (!found) {\n                  const newSubDir = new File();\n                  newSubDir.parent = patientFile;\n                  newSubDir.name = ownFiles[x].directory;\n                  newSubDir.isDirectory = true;\n                  newSubDir.childrenFiles = [];\n                  patientFile.childrenFiles.push(newSubDir);\n                  theSub = newSubDir;\n                }\n                const current = ownFiles[x];\n                const obj = new File();\n                obj.isDirectory = false;\n                obj.name = current.name;\n                obj.type = FileManagerProvider.fileTypeFetcher(current.name);\n                obj.siteCount = current.count;\n                obj.canOpen = current.type == \"pdf\" || current.type == \"image\";\n                if (obj.canOpen) obj.links = [];\n                obj.fileId = current.id;\n                if (me.fileIds.indexOf(obj.fileId) == -1) {\n                  me.fileIds.push(obj.fileId);\n                  if (returnNew) newFileArr.push({id: obj.fileId, name: obj.name})\n                }\n                obj.parent = theSub;\n                obj.hashcode = current.hashcode;\n                /*if (current.type == \"image\") {\n                  obj.links.push(this.generatePreviewLink(this.key, current.directory, current.name, \"image\"));\n                } else if (current.type == \"pdf\") {\n                  for (let c = 0; c < obj.siteCount; c++) {\n                    let link = this.generatePreviewLink(this.key, current.directory, current.name, \"preview\", c);\n                    obj.links.push(link)\n\n                  }\n                }*/\n                theSub.childrenFiles.push(obj)\n              }\n              this.cached.childrenFiles.push(patientFile)\n            }\n\n          }\n          else {\n            const files = data.data;\n            this.cached = new File();\n            this.cached.isDirectory = true;\n            this.cached.childrenFiles = [];\n            this.cached.name = \"Dokumente\";\n            this.cached.isRoot = true;\n            const dirs = FileManagerProvider.defaultFolders(this.cached);\n            for (let i = 0; i < files.length; i++) {\n              const current = files[i];\n              const obj = new File();\n              obj.isDirectory = false;\n              obj.name = current.name;\n              obj.siteCount = current.count;\n              obj.links = [];\n              obj.type = FileManagerProvider.fileTypeFetcher(current.name);\n              obj.canOpen = current.type == \"pdf\" || current.type == \"image\";\n              /*if (current.type == \"image\") {\n                obj.links.push(this.generatePreviewLink(this.key, current.directory, current.name, \"image\"));\n              } else if (current.type == \"pdf\") {\n                for (let c = 0; c < obj.siteCount; c++) {\n                  let link = this.generatePreviewLink(this.key, current.directory, current.name, \"preview\", c);\n                  obj.links.push(link)\n\n                }\n              }*/\n              obj.fileId = current.id;\n              if (me.fileIds.indexOf(obj.fileId) == -1) {\n                me.fileIds.push(obj.fileId);\n                if (returnNew) newFileArr.push({id: obj.fileId, name: obj.name})\n              }\n              for (let x = 0; x < dirs.length; x++) {\n                if (dirs[x].name == current.directory) {\n                  obj.parent = dirs[x];\n                }\n              }\n              obj.hashcode = current.hashcode;\n              if(obj.parent)\n                obj.parent.childrenFiles.push(obj);\n            }\n            for (let x = 0; x < dirs.length; x++) {\n              this.cached.childrenFiles.push(dirs[x]);\n            }\n          }\n\n\n          me.storage.contains(this.encodedEmailId + \"saved-file-ids\", (contains) => {\n            const next = () => {\n              me.storage.save(this.encodedEmailId + \"saved-file-ids\", me.fileIds, () => {\n                console.log(\"Loader should be off now.\");\n                me.guiManager.loaders[\"docs\"] = false;\n                if (returnNew)\n                  callback(newFileArr);\n                else callback();\n              });\n            };\n            if (contains) {\n              me.storage.remove(this.encodedEmailId + \"saved-file-ids\", () => {\n                next()\n              })\n            } else {\n              next()\n            }\n          })\n        }\n        else {\n          me.guiManager.showToast(\"Dokumente können nicht vom Server geladen werden. Erneuter Versuch, Daten zu erhalten...\", 5000);\n          this.fetching = false;\n          setTimeout( () => {\n            if (this.key != \"\") {\n              this.updateFile((newArray) => {\n                if (returnNew)\n                  callback(newArray);\n                else callback();\n              }, returnNew);\n            }\n          }, 5000);\n          console.log(\"Error receiving document data from server. Re-trying to receive Loader should be off now though.\")\n        }\n      }\n      else {\n\n          //me.guiManager.loaders[\"docs\"] = false;\n          me.guiManager.showToast(\"Dokumente können nicht vom Server geladen werden. Erneuter Versuch, Daten zu erhalten...\", 5000);\n          this.fetching = false;\n          setTimeout( () => {\n            if (this.key != \"\") {\n              this.updateFile((newArray) => {\n                if (returnNew)\n                  callback(newArray);\n                else callback();\n              }, returnNew);\n            }\n          }, 5000);\n          console.log(\"Error receiving document data from server. Re-trying to receive Loader should be off now though.\")\n      }\n\n      this.fetching = false;\n    }, this.key, true)\n\n\n  }\n\n  private static defaultFolders(parent) {\n    const generalFiles = new File();\n    const medicalFiles = new File();\n\n    {\n      generalFiles.name = \"Allgemeine-Dokumente\";\n      generalFiles.childrenFiles = [];\n      generalFiles.isDirectory = true;\n      generalFiles.parent = parent;\n\n    }\n    {\n      medicalFiles.name = \"Medizinische-Dokumente\";\n      medicalFiles.childrenFiles = [];\n      medicalFiles.isDirectory = true;\n      medicalFiles.parent = parent;\n\n    }\n\n    return [generalFiles, medicalFiles];\n  }\n\n  public static fileTypeFetcher(name) {\n    if (name.endsWith(\".pdf\")) return \"application/pdf\";\n    if (name.endsWith(\".png\")) return \"image/png\";\n    if (name.endsWith(\".jpg\")) return \"image/jpg\";\n    if (name.endsWith(\".doc\")) return \"application/msword\";\n    if (name.endsWith(\".dot\")) return \"application/msword\";\n    if (name.endsWith(\".docx\")) return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n    if (name.endsWith(\".dotx\")) return \"application/vnd.openxmlformats-officedocument.wordprocessingml.template\";\n    if (name.endsWith(\".docm\")) return \"application/vnd.ms-word.document.macroEnabled.12\";\n    if (name.endsWith(\".dotm\")) return \"application/vnd.ms-word.template.macroEnabled.12\";\n    if (name.endsWith(\".xls\")) return \"application/vnd.ms-excel\";\n    if (name.endsWith(\".xlt\")) return \"application/vnd.ms-excel\";\n    if (name.endsWith(\".xla\")) return \"application/vnd.ms-excel\";\n    if (name.endsWith(\".xlsx\")) return \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n    if (name.endsWith(\".xltx\")) return \"application/vnd.openxmlformats-officedocument.spreadsheetml.template\";\n    if (name.endsWith(\".xlsm\")) return \"application/vnd.ms-excel.sheet.macroEnabled.12\";\n    if (name.endsWith(\".xltm\")) return \"application/vnd.ms-excel.template.macroEnabled.12\";\n    if (name.endsWith(\".xlam\")) return \"application/vnd.ms-excel.addin.macroEnabled.12\";\n    if (name.endsWith(\".xlsb\")) return \"application/vnd.ms-excel.sheet.binary.macroEnabled.12\";\n    if (name.endsWith(\".ppt\")) return \"application/vnd.ms-powerpoint\";\n    if (name.endsWith(\".pot\")) return \"application/vnd.ms-powerpoint\";\n    if (name.endsWith(\".pps\")) return \"application/vnd.ms-powerpoint\";\n    if (name.endsWith(\".ppa\")) return \"application/vnd.ms-powerpoint\";\n    if (name.endsWith(\".pptx\")) return \"application/vnd.openxmlformats-officedocument.presentationml.presentation\";\n    if (name.endsWith(\".potx\")) return \"application/vnd.openxmlformats-officedocument.presentationml.template\";\n    if (name.endsWith(\".ppsx\")) return \"application/vnd.openxmlformats-officedocument.presentationml.slideshow\";\n    if (name.endsWith(\".ppam\")) return \"application/vnd.ms-powerpoint.addin.macroEnabled.12\";\n    if (name.endsWith(\".pptm\")) return \"application/vnd.ms-powerpoint.presentation.macroEnabled.12\";\n    if (name.endsWith(\".potm\")) return \"application/vnd.ms-powerpoint.template.macroEnabled.12\";\n    if (name.endsWith(\".ppsm\")) return \"application/vnd.ms-powerpoint.slideshow.macroEnabled.12\";\n    if (name.endsWith(\".mdb\")) return \"application/vnd.ms-access\";\n    return \"none\";\n  }\n\n  public generatePreviewLink(key: string, folder: string, file: string, method: string = \"preview\", site = 0): string {\n    let link = this.http.target + \"/\" + method + \"/\";\n    const json = JSON.stringify({dir: folder, file: file, site: site, key: key});\n    link += encodeURIComponent(btoa(json));\n\n    if (key == \"\") {\n      return null;\n    }\n    return link;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/file-manager/file-manager.ts","import {Injectable} from '@angular/core';\nimport {Http} from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the DrawProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class DrawProvider {\n    public imageData = {};\n    public processed = {};\n\n    constructor(public http: Http) {\n        console.log('Hello DrawProvider Provider');\n    }\n\n    processImage(path, orig, parent, callback) {\n        const backgroundImage = new Image();\n\n        backgroundImage.src = path;\n        backgroundImage.onload = () => {\n            const canvas = this.createContext(backgroundImage.width, backgroundImage.height);\n            canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\n            console.log(path)\n            canvas.getContext('2d').drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);\n\n            const img = new Image();\n            img.src = this.imageData[parent + path];\n            img.onload = () => {\n                canvas.getContext('2d').drawImage(img, 0, 0, canvas.width, canvas.height);\n                const data = canvas.toDataURL(\"image/png\");\n                this.processed[parent+path] = data;\n                callback(data);\n            }\n        };\n    }\n\n    private createContext(width, height) {\n        var canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n\n        return canvas;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/draw/draw.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport {BackgroundFetch, BackgroundFetchConfig} from \"@ionic-native/background-fetch\";\nimport {PhonegapLocalNotification} from \"@ionic-native/phonegap-local-notification\";\nimport {FileManagerProvider} from \"../file-manager/file-manager\";\nimport {Firebase} from \"@ionic-native/firebase\";\nimport {ApiProvider} from \"../api/api\";\nimport {ElectronProvider} from \"../electron/electron\";\nimport {isCordovaAvailable} from \"../../services/is-cordova-available\";\n\n/*\n  Generated class for the MessagesProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class MessagesProvider {\n\n  private x = 0;\n  private fireBaseToken = \"\";\n\n  constructor(public http: ApiProvider, private fetcher: BackgroundFetch, private noitifs: PhonegapLocalNotification, private fileManager: FileManagerProvider, private firebase: Firebase, private electron:ElectronProvider) {\n\n  }\n\n  public sendTestNotification() {\n    this.x++;\n\n    this.noitifs.create('Test Nachricht', {\n      tag: 'message' + this.x,\n      body: 'Das ist eine Test Nachricht',\n      icon: 'resources/icon.png'\n    });\n\n  }\n\n  register(code) {\n\n    if(this.electron.isElectron || !isCordovaAvailable()) return;\n\n    const me = this;\n\n\n    const next = () => {\n      me.firebase.getToken()\n        .then(token => {\n          me.fireBaseToken = token\n\n          me.http.get(\"/push/set/\" + encodeURIComponent(btoa(JSON.stringify({\n            key: code,\n            token: me.fireBaseToken\n          }))), [], (success, data) => {\n          }, true);\n\n        });\n      me.firebase.onTokenRefresh().subscribe((token: string) => {\n        me.fireBaseToken = token;\n\n        me.http.get(\"/push/set/\" + encodeURIComponent(btoa(JSON.stringify({\n          key: code,\n          token: me.fireBaseToken\n        }))), [], (success, data) => {\n\n        }, true);\n      });\n      me.firebase.onNotificationOpen().subscribe(data => {\n      });\n      me.firebase.hasPermission().then(jas => {\n        console.log(JSON.stringify(jas));\n      })\n    };\n    this.firebase.grantPermission().then(_ => {\n\n      next();\n    }).catch(err => {\n      console.log(err);\n      next()\n    });\n\n\n    const config: BackgroundFetchConfig = {\n      stopOnTerminate: false, // Set true to cease background-fetch from operating after user \"closes\" the app. Defaults to true.\n    };\n\n\n    this.noitifs.requestPermission().then(\n      (permission) => {\n        if (permission === 'granted') {\n\n          this.fetcher.configure(config)\n            .then(() => {\n\n              this.x++;\n              /*this.noitifs.create('Test message', {\n                tag: 'message' + this.x,\n                body: 'Jetzt können Nachrichten verschickt werden',\n                icon: 'resources/icon.png'\n              });*/\n\n              me.fileManager.updateFile((newFiles) => {\n\n                for (let i = 0; i < newFiles.length; i++) {\n                  const current = newFiles[i];\n\n                  me.noitifs.create(\"Neues Dokument!\", {\n                    tag: 'doc-' + current.id,\n                    body: \"Es ist ein neues Dokument vohanden, mit dem Namen: \" + current.name,\n                    icon: 'resources/icon.png'\n                  });\n                }\n              }, true);\n\n              this.fetcher.finish();\n\n            });\n\n          this.fetcher.start();\n\n        }\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/messages/messages.ts","export class Condition {\n  public fromArray = false;\n  public arrId = 0;\n\n  constructor(public name: string, public type: string, public value: any) {\n  }\n\n}\n\nexport class Rule {\n  public conditions: Condition[] = [];\n\n  constructor(public effect: string) {\n  }\n\n}\n\nexport class Node {\n  // If you uncomment this and use the variable, it results to circular reference object in the checkin module\n  // which causes JSON.stringify to fail, thus resulting in an error when trying to save and restore the checkin data\n  //public parent;\n\n  public subGroupCount = 0;\n  public subGroups = {};\n  public canMultiply = false;\n  public selfMultiply = false;\n  public children: Node[] = [];\n  public fields = [];\n  public reflector: any;\n  public reflector_other: any;\n  public rules: Rule[] = [];\n  public visible = true;\n  public style = false;\n\n  get isLegitValue() {\n    let current = this.reflector;\n    let values = this.getField(\"values\");\n\n    return (values.indexOf(current) != -1);\n  }\n\n  get isOtherChecked() {\n    let output = false;\n    let values = this.getField(\"values\");\n    let other = this.getField(\"other_select\");\n//    console.info('values is', values);\n    if (values != null) {\n      for (let i = 0; i < values.length; i++) {\n        if (values[i].val == other && values[i].ref == true) {\n          output = true;\n          break;\n        }\n      }\n    }\n\n    return output;\n  }\n\n  constructor(public name: string, public title: string, public type: string, public id: string) {\n  }\n\n  containsField(key) {\n    for (let i = 0; i < this.fields.length; i++) {\n      if (this.fields[i].key == key) return true;\n    }\n    return false;\n  }\n\n  addField(key: string, value: any) {\n    if (this.containsField(key)) return;\n    this.fields.push({key: key, value: value});\n  }\n\n  updateValue(key, value) {\n    for (let i = 0; i < this.fields.length; i++) {\n      if (this.fields[i].key == key) this.fields[i].value = value;\n    }\n  }\n\n  getFieldKeys() {\n    const arr = [];\n    for (let i = 0; i < this.fields.length; i++) {\n      arr.push(this.fields[i].key);\n    }\n\n    return arr;\n  }\n\n  getField(key) {\n    for (let i = 0; i < this.fields.length; i++) {\n      if (this.fields[i].key == key) return this.fields[i].value;\n    }\n    return null;\n  }\n\n  removeField(key) {\n    for (let i = 0; i < this.fields.length; i++) {\n      if (this.fields[i].key == key) {\n        this.fields.splice(this.fields.indexOf(this.fields[i], 1));\n        return;\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/checkin-service/checkin.modals.ts","import { Injectable } from '@angular/core';\nimport {AuthManagerProvider} from \"../auth-manager/auth-manager\";\nimport {PlatformManagerProvider} from \"../platform-manager/platform-manager\";\nimport {GuiManagerProvider} from \"../gui-manager/gui-manager\";\n\n@Injectable()\nexport class ActivityTrackerProvider {\n\n  constructor(private authManager: AuthManagerProvider, private platform: PlatformManagerProvider, private guiManagerProvider: GuiManagerProvider) {\n    this.userActionDetected();\n    let me = this;\n    setInterval(function() {\n      let expirationDateString = me.getCookie(\"expires\");\n      let expirationDate = new Date(expirationDateString);\n      if (new Date() > expirationDate && authManager.isLoggedIn == true && platform.isWebApplication()) {\n        authManager.logout();\n        me.guiManagerProvider.showLoggedOutInactivity();\n      }\n    }, 5000);\n  }\n\n  /**\n   * Should be called each time that the user does an action.\n   */\n  userActionDetected() {\n    let d = new Date();\n    let minutes = 20;\n    d.setTime(d.getTime() + (minutes*60*1000));\n    let expires = \"expires=\"+ d.toUTCString();\n    document.cookie = expires +\";\";\n  }\n\n  /**\n   * Retrieves the cookie with the name specified.\n   * @param cname\n   */\n  getCookie(cname) {\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for(let i = 0; i <ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return \"\";\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/activity-tracker/activity-tracker.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 215;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 215\n// module chunks = 35","var map = {\n\t\"../pages/calendar.module/calendar/calendar.module\": [\n\t\t668,\n\t\t5\n\t],\n\t\"../pages/calendar.module/event-modal/event-modal.module\": [\n\t\t667,\n\t\t34\n\t],\n\t\"../pages/checkin-for-doctors/checkin-for-doctors.module\": [\n\t\t669,\n\t\t33\n\t],\n\t\"../pages/checkin/checkin.module\": [\n\t\t675,\n\t\t32\n\t],\n\t\"../pages/debugger/debugger.module\": [\n\t\t670,\n\t\t31\n\t],\n\t\"../pages/document/document.module\": [\n\t\t671,\n\t\t30\n\t],\n\t\"../pages/draw/draw.module\": [\n\t\t672,\n\t\t29\n\t],\n\t\"../pages/email-confirmation/email-confirmation.module\": [\n\t\t673,\n\t\t28\n\t],\n\t\"../pages/file-upload/file-upload.module\": [\n\t\t674,\n\t\t27\n\t],\n\t\"../pages/food-card/food-card.module\": [\n\t\t679,\n\t\t26\n\t],\n\t\"../pages/imprint/imprint.module\": [\n\t\t676,\n\t\t25\n\t],\n\t\"../pages/info-item/info-item.module\": [\n\t\t677,\n\t\t24\n\t],\n\t\"../pages/info-list/info-list.module\": [\n\t\t681,\n\t\t4\n\t],\n\t\"../pages/intro-slider/intro-slider.module\": [\n\t\t678,\n\t\t23\n\t],\n\t\"../pages/login/login.module\": [\n\t\t680,\n\t\t22\n\t],\n\t\"../pages/map/map.module\": [\n\t\t682,\n\t\t3\n\t],\n\t\"../pages/message-center/message-center.module\": [\n\t\t683,\n\t\t2\n\t],\n\t\"../pages/news-item/news-item.module\": [\n\t\t685,\n\t\t21\n\t],\n\t\"../pages/news-list/news-list.module\": [\n\t\t684,\n\t\t0\n\t],\n\t\"../pages/news/news.module\": [\n\t\t688,\n\t\t20\n\t],\n\t\"../pages/password-reset/password-reset.module\": [\n\t\t689,\n\t\t19\n\t],\n\t\"../pages/privacy/privacy.module\": [\n\t\t686,\n\t\t18\n\t],\n\t\"../pages/start-filter/start-filter.module\": [\n\t\t698,\n\t\t17\n\t],\n\t\"../pages/start-text/start-text.module\": [\n\t\t687,\n\t\t16\n\t],\n\t\"../pages/text/text.module\": [\n\t\t691,\n\t\t15\n\t],\n\t\"../pages/therapy-entry/therapy-entry.module\": [\n\t\t690,\n\t\t14\n\t],\n\t\"../pages/tos/tos.module\": [\n\t\t692,\n\t\t13\n\t],\n\t\"../pages/user-settings-account-information/user-settings-account-information.module\": [\n\t\t694,\n\t\t12\n\t],\n\t\"../pages/user-settings-change-password/user-settings-change-password.module\": [\n\t\t693,\n\t\t11\n\t],\n\t\"../pages/user-settings-create-account/user-settings-create-account.module\": [\n\t\t695,\n\t\t10\n\t],\n\t\"../pages/user-settings-fingerprint-activation/user-settings-fingerprint-activation.module\": [\n\t\t696,\n\t\t9\n\t],\n\t\"../pages/user-settings-message-center/user-settings-message-center.module\": [\n\t\t697,\n\t\t8\n\t],\n\t\"../pages/user-settings-push-notification/user-settings-push-notification.module\": [\n\t\t701,\n\t\t7\n\t],\n\t\"../pages/user-settings-refill-keys/user-settings-refill-keys.module\": [\n\t\t699,\n\t\t6\n\t],\n\t\"../pages/user-settings/user-settings.module\": [\n\t\t700,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 257;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 257\n// module chunks = 35","import { Injectable } from \"@angular/core\";\nimport \"rxjs/add/operator/map\";\nimport { Storage } from \"@ionic/storage\";\n\n/*\n  Generated class for the StorageManagerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class StorageManagerProvider {\n  constructor(public storage: Storage) {\n    console.log(\"Hello StorageManagerProvider Provider\");\n  }\n  public save(key: string, value: any, callback) {\n    this.storage.set(key, value).then((_) => {\n      callback();\n    });\n  }\n\n  public contains(key, callback) {\n    this.storage.get(key).then((val) => {\n      callback(val != null && val != undefined);\n    });\n  }\n\n  public foreachCall(callbackForEach) {\n    const me = this;\n    this.storage.keys().then((keys) => {\n      for (let i = 0; i < keys.length; i++) {\n        me.fetch(keys[i], callbackForEach);\n      }\n    });\n  }\n  public fetch(key, callback) {\n    this.storage.get(key).then((val) => {\n      callback(val);\n    });\n  }\n  public remove(key, callback) {\n    this.storage.remove(key).then((_) => {\n      callback();\n    });\n  }\n  public clear(callback) {\n    this.storage.clear().then((_) => {\n      callback();\n    });\n  }\n  public myclear() {\n    this.storage.clear();\n  }\n  public removeIfContains(key, callback = () => {}) {\n    this.contains(key, (ckdContains) => {\n      if (ckdContains) this.remove(key, () => callback());\n      else callback();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage-manager/storage-manager.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport {AlertController, App, LoadingController, ToastController} from \"ionic-angular\";\nimport {IntroSliderPage} from \"../../pages/intro-slider/intro-slider\";\nimport {LinkManagerProvider} from \"../link-manager/link-manager\";\nimport {HomePage} from \"../../pages/home/home\";\nimport {Info} from \"../../services/statics\";\n\n/*\n  Generated class for the GuiManagerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class GuiManagerProvider {\n\n  public messageCenter = false;\n  public loaders = {docs: true, checkin:true};\n  public subLinks = [[{\n    title: 'Impressum',\n    path: 'wordpress-articles',\n    icon: 'copy',\n    component: \"ImprintPage\"\n  }, \n  // {\n  //   title: 'AGBs',\n  //   path: 'intro',\n  //   icon: 'calendar',\n  //   component: \"ImprintPage\"\n  // },\n\n  ]];\n  public tiles = [[\n    // {\n    //   title: 'Infocenter',\n    //   path: 'slides',\n    //   icon: 'assets/information/icon.svg',\n    //   component: 'InfoListPage',\n    //   loader: null\n    // },\n    // {\n    //   title: 'Wegeplan',\n    //   path: 'map',\n    //   icon: 'assets/map/icon.svg',\n    //   component: 'MapPage',\n    //   loader: null\n    // },\n\n    // {\n    //   title: 'News',\n    //   path: 'slides',\n    //   icon: 'assets/news/icon.svg',\n    //   component: 'NewsListPage',\n    //   loader: null\n    // }\n\n  ]];\n  public pages = {\n    Anwendungen: [\n      /*{title: 'Speiseplan', component: 'FoodCardPage', icon: 'assets/food-card/icon.svg'},*/\n      // {title: 'Infocenter', component: 'InfoListPage', icon: 'assets/information/icon.svg'},\n      // {title: 'Wegeplan', component: 'MapPage', icon: 'assets/map/icon.svg'},\n      // {title: 'News', component: 'NewsListPage', icon: 'assets/news/icon.svg'}\n    ],\n    Einstellungen: [\n      {title: 'Login', component: 'LoginPage', icon: ''},\n      // {title: 'Intro', component: 'IntroSliderPage', icon: ''},\n      // {title: 'Impressum', component: 'ImprintPage', icon: ''},\n      // {title: 'Datenschutzerklärung', component: 'TextPage', icon: '', params: {html: true, closable: false, target: this.linkManager.getDatenschutzAsJSON()}},\n      // {title: 'Nutzungsbedingungen', component: 'TextPage', icon: '', params: {html: true, closable: false, target: this.linkManager.getNutungsbedingungenAsHalJSON()}}\n\n    ]\n  };\n  public isLoginPageActive = false;\n\n  constructor(public toastCtrl: ToastController,\n              private lCtrl: LoadingController,\n              private alertCtrl: AlertController,\n              private linkManager: LinkManagerProvider,\n              private app: App) {\n    setInterval(() => {}, 250);\n  }\n\n  public showPromptMessage(title: string, message: string, callbackOnOkayPressed = () => {}, callbackOnCancelPress = () => {}) {\n      let alert = this.alertCtrl.create({\n          title: title,\n          subTitle: message.replace(\"\\n\",\"<br>\"),\n          buttons: [\n              {\n                  text: 'Bestätigen',\n                  handler: _ => {\n                      callbackOnOkayPressed()\n                  }\n              },\n              {\n                  text: 'Abbrechen',\n                  handler: _ => {\n                      callbackOnCancelPress()\n                  }\n              }\n          ]\n      });\n      alert.present();\n  }\n\n  public showPopupMessage(title: string, message: string, callback = () => {}, allowBackgroundDismiss: boolean = true) {\n      let alert = this.alertCtrl.create({\n          title: title,\n          subTitle: message.replace(\"\\n\",\"<br>\"),\n          buttons: [\n              {\n                  text: 'Bestätigen',\n                  handler: _ => {\n                      callback()\n                  }\n              }\n          ],\n          enableBackdropDismiss: allowBackgroundDismiss\n      });\n      alert.present();\n  }\n\n  public showToast(text: string, time, extraClass: string = \"\") {\n    let instance = this.toastCtrl.create({\n      message: text,\n      duration: time,\n      position: 'bottom',\n      cssClass: extraClass\n    });\n    instance.present();\n    return instance;\n  }\n\n  public afterLogin(isMedical: boolean, userGroup: number) {\n    if(isMedical && userGroup == 2) {\n      this.afterLoginForAufnahme();\n    }\n    else if (isMedical && userGroup == 1) {\n      this.afterLoginForDoctor();\n    }\n    else if (isMedical == false) {\n      this.afterLoginForPatient();\n    }\n    else {\n      console.log(\"Shouldn't be here, after log in GUI function. Medical:\", isMedical, \"Usergroup:\", userGroup);\n    }\n    /*\n    this.tiles[0].unshift( {\n      title: 'Dokumente',\n      path: 'slides',\n      icon: 'assets/document/icon.svg',\n      component: 'DocumentPage',\n      loader: \"docs\"\n    });\n    if(isMedical && userGroup == 2) {\n        this.tiles[0].unshift( {\n            title: 'Patientenaufnahme',\n            path: 'slides',\n            icon: 'assets/checkin/icon.svg',\n            component: 'CheckinForDoctorsPage',\n            loader: null\n        });\n    }\n    else {\n        this.tiles[0].unshift( {\n            title: 'Patientenaufnahme',\n            path: 'slides',\n            icon: 'assets/checkin/icon.svg',\n            component: 'CheckinPage',\n            loader: \"checkin\"\n        });\n    }\n    this.appendPage(\"Anwendungen\", \"Dokumente\", \"DocumentPage\", 'assets/document/icon.svg',\"docs\");\n    //this.appendPage(\"Anwendungen\", \"Terminplaner\", \"CalendarPage\", 'assets/document/icon.svg');\n    if(isMedical && userGroup == 2) {\n        this.prependPage(\"Anwendungen\", \"Patientenaufnahme\", \"CheckinForDoctorsPage\", 'assets/checkin/icon.svg');\n    }\n    else {\n        this.prependPage(\"Anwendungen\", \"Patientenaufnahme\", \"CheckinPage\", 'assets/checkin/icon.svg', \"checkin\");\n    }\n    this.appendPage(\"Einstellungen\", 'Einstellungen', 'UserSettingsPage');\n    this.removeByIndex(\"Einstellungen\", 0);*/\n  }\n\n  public afterLogout(isMedical: boolean, userGroup: number) {\n    if (isMedical && userGroup == 2) {\n      this.afterLogoutForAufnahme();\n    }\n    else if (isMedical && userGroup == 1) {\n      this.afterLogoutForDoctor();\n    }\n    else if (isMedical == false) {\n      this.afterLogoutForPatient();\n    }\n    else {\n      console.log(\"Shouldn't be here, after log out GUI function. Medical:\", isMedical, \"Usergroup:\", userGroup);\n    }\n\n    this.app.getActiveNav().setRoot(HomePage);\n  }\n\n  /**\n   * After login hook for patient accounts.\n   *\n   * @private\n   */\n  private afterLoginForPatient() {\n//    console.log(\"afterLoginForPatient\");\n\n    // this.tiles[0].splice(1, 0,\n      // {\n      //   title: 'Speiseplan',\n      //   path: 'slides',\n      //   icon: 'assets/food-card/icon.svg',\n      //   component: 'FoodCardPage',\n      //   loader: null\n      // });\n\n    // if (Info.projectId == 'wzk') {\n    //   this.tiles[0].splice(2, 0,\n    //     {\n    //       title: 'Terminplaner',\n    //       path: 'slides',\n    //       icon: 'assets/calendar/icon.svg',\n    //       component: 'CalendarPage',\n    //       loader: null\n    //     });\n    // }\n\n    // this.tiles[0].unshift({\n    //   title: 'Dokumente',\n    //   path: 'slides',\n    //   icon: 'assets/document/icon.svg',\n    //   component: 'DocumentPage',\n    //   loader: \"docs\"\n    // });\n\n    this.tiles[0].unshift({\n      title: 'Patientenaufnahme',\n      path: 'slides',\n      icon: 'assets/checkin/icon.svg',\n      component: 'CheckinPage',\n      loader: \"checkin\"\n    });\n\n    // if (Info.projectId == 'wzk') {\n    //   this.appendPage(\"Anwendungen\", \"Terminplaner\", \"CalendarPage\", 'assets/calendar/icon.svg', null);\n    // }\n\n    // this.appendPage(\"Anwendungen\", \"Dokumente\", \"DocumentPage\", 'assets/document/icon.svg', \"docs\");\n    // this.prependPage(\"Anwendungen\", \"Speiseplan\", \"FoodCardPage\", 'assets/food-card/icon.svg');\n    this.prependPage(\"Anwendungen\", \"Patientenaufnahme\", \"CheckinPage\", 'assets/checkin/icon.svg', \"checkin\");\n    // this.appendPage(\"Einstellungen\", 'Einstellungen', 'UserSettingsPage');\n    this.removeByName(\"Einstellungen\", 'Login'); // Remove login from menu\n    // this.removeByName(\"Einstellungen\", 'Intro'); // Remove intro from menu\n  }\n\n  private afterLogoutForPatient() {\n    console.log(\"Afterlougout patient\")\n\n    this.tiles[0].splice(0, 2);\n    this.tiles[0].splice(1, 1);\n    this.removeTileByName('Terminplaner');\n\n    // this.removeByName('Anwendungen', 'Dokumente');\n\n    // this.removeByName('Anwendungen', 'Terminplaner');\n\n    this.removeByName('Anwendungen', 'Patientenaufnahme');\n    // this.removeByName('Anwendungen', 'Speiseplan');\n    // this.removeByName('Einstellungen', 'Einstellungen');\n    // this.prependPage(\"Einstellungen\", \"Intro\", \"IntroSliderPage\");\n    this.prependPage(\"Einstellungen\", \"Login\", \"LoginPage\");\n  }\n\n  private afterLoginForDoctor() {\n    this.afterLoginForPatient();\n  }\n  private afterLogoutForDoctor() {\n    this.afterLogoutForPatient();\n  }\n\n  private afterLoginForAufnahme() {\n    this.tiles[0].splice(0, 4);\n    this.tiles[0].unshift( {\n      title: 'Patientenaufnahme',\n      path: 'slides',\n      icon: 'assets/checkin/icon.svg',\n      component: 'CheckinForDoctorsPage',\n      loader: null\n    });\n    // this.removeByName('Anwendungen', 'Infocenter');\n    // this.removeByName('Anwendungen', 'Wegeplan');\n    // this.removeByName('Anwendungen', 'Speiseplan');\n    // this.removeByName('Anwendungen', 'News');\n    this.prependPage(\"Anwendungen\", \"Patientenaufnahme\", \"CheckinForDoctorsPage\", 'assets/checkin/icon.svg');\n    // this.appendPage(\"Einstellungen\", 'Einstellungen', 'UserSettingsPage');\n    this.removeByName(\"Einstellungen\", 'Login'); // Remove login from menu\n    // this.removeByName(\"Einstellungen\", 'Intro'); // Remove intro from menu\n  }\n/*\n\n{\n  title: 'Infocenter',\n  path: 'slides',\n  icon: 'assets/information/icon.svg',\n  component: 'InfoListPage',\n  loader: null\n},\n{\n  title: 'Wegeplan',\n    path: 'map',\n  icon: 'assets/map/icon.svg',\n  component: 'MapPage',\n  loader: null\n},\n{\n  title: 'Speiseplan',\n    path: 'slides',\n  icon: 'assets/food-card/icon.svg',\n  component: 'FoodCardPage',\n  loader: null\n},\n\n{\n  title: 'News',\n    path: 'slides',\n  icon: 'assets/news/icon.svg',\n  component: 'NewsListPage',\n  loader: null\n}\n\n\n      {title: 'Speiseplan', component: 'FoodCardPage', icon: 'assets/food-card/icon.svg'},\n      {title: 'News', component: 'NewsListPage', icon: 'assets/news/icon.svg'},\n      {title: 'Wegeplan', component: 'MapPage', icon: 'assets/map/icon.svg'},\n      {title: 'Infocenter', component: 'InfoListPage', icon: 'assets/information/icon.svg'}\n*/\n\n  private afterLogoutForAufnahme() {\n    this.tiles[0].splice(0, 1);\n\n    this.tiles[0].unshift( \n      // {\n      //   title: 'Infocenter',\n      //   path: 'slides',\n      //   icon: 'assets/information/icon.svg',\n      //   component: 'InfoListPage',\n      //   loader: null\n      // },\n      // {\n      //   title: 'Wegeplan',\n      //   path: 'map',\n      //   icon: 'assets/map/icon.svg',\n      //   component: 'MapPage',\n      //   loader: null\n      // },\n      // {\n      //   title: 'Speiseplan',\n      //   path: 'slides',\n      //   icon: 'assets/food-card/icon.svg',\n      //   component: 'FoodCardPage',\n      //   loader: null\n      // },\n      // {\n      //   title: 'News',\n      //   path: 'slides',\n      //   icon: 'assets/news/icon.svg',\n      //   component: 'NewsListPage',\n      //   loader: null\n      // }\n      );\n\n    this.removeByName('Anwendungen', 'Patientenaufnahme');\n    // this.removeByName('Einstellungen', 'Einstellungen');\n    // this.prependPage(\"Einstellungen\", \"Intro\", \"IntroSliderPage\");\n    this.prependPage(\"Einstellungen\", \"Login\", \"LoginPage\");\n    // this.appendPage(\"Anwendungen\", \"Speiseplan\", \"FoodCardPage\", \"assets/food-card/icon.svg\");\n    // this.appendPage(\"Anwendungen\", \"News\", \"NewsListPage\", \"assets/news/icon.svg\");\n    // this.appendPage(\"Anwendungen\", \"Wegeplan\", \"MapPage\", \"assets/map/icon.svg\");\n    // this.appendPage(\"Anwendungen\", \"Infocenter\", \"InfoListPage\", \"assets/information/icon.svg\");\n  }\n\n  public showLoader(text: string, time) {\n\n    const loader = this.lCtrl.create({\n      content: text,\n      duration: time\n    });\n    loader.present();\n\n    return loader;\n\n  }\n\n  public removeTileByName(name) {\n    const all = this.tiles[0];\n\n    for (let i = 0; i < all.length; i++) {\n      const item = all[i];\n      if (item.title == name) {\n        all.splice(all.indexOf(item), 1)\n        break;\n      }\n    }\n  }\n\n  public removeByIndex(section, index) {\n    const all = this.pages[section];\n\n    for (let i = 0; i < all.length; i++) {\n      if (i == index) {\n        const item = all[i];\n        all.splice(all.indexOf(item), 1)\n      }\n\n    }\n  }\n\n  public removeByName(section, name) {\n    const all = this.pages[section];\n\n    for (let i = 0; i < all.length; i++) {\n      const item = all[i];\n      if (item.title == name) {\n        all.splice(all.indexOf(item), 1)\n        break;\n      }\n    }\n  }\n\n  public removeByItem(section, item) {\n    const all = this.pages[section];\n    if (all.indexOf(item) !== -1) {\n      all.splice(all.indexOf(item), 1);\n    }\n  }\n\n  public appendPage(section, name, component, icon = null, loader = \"\") {\n    if (this.pages[section] == null) this.pages[section] = [];\n    this.pages[section].push({title: name, component: component, icon:icon, loader: loader != \"\" ? loader : null});\n  }\n\n  public prependPage(section, name, component, icon = null, loader = null) {\n    if (this.pages[section] == null) this.pages[section] = [];\n    this.pages[section].unshift({title: name, component: component, icon:icon, loader: loader != \"\" ? loader : null});\n  }\n\n  showLoggedOutInactivity() {\n    this.showPopupMessage(\"Sie wurden ausgeloggt\", \"Zu Ihrer Sicherheit wurden Sie aufgrund einer Inaktivität von 20 Minuten automatisch aus der Anwendung ausgeloggt.\\n\" +\n      \"Sie können sich wieder einloggen, indem Sie die Login-Seite besuchen.\", ()=> {}, false);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/gui-manager/gui-manager.ts","import { Injectable }           from '@angular/core';\nimport {Http}                   from \"@angular/http\";\nimport {Node}                   from \"../checkin-service/checkin.modals\";\nimport {WebForm}                from \"./form-modal\";\nimport {StorageManagerProvider} from \"../storage-manager/storage-manager\";\nimport {ApiProvider}            from \"../api/api\";\n\n/*\n  Generated class for the FormManagerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class FormManagerProvider {\n\n  private formsStructure = {};\n\n  constructor(public http: ApiProvider, private storageProvider: StorageManagerProvider) {\n    console.log('Hello FormManagerProvider Provider');\n  }\n\n  public retrieveWebFormStructureFrom(url: string, accountId: string, callback: (form: WebForm) => void) {\n    console.info('URL is: ' + url);\n    if (url != null) {\n      const getForm = (content) => {\n        let form = new WebForm(accountId, WebForm.getFormId(url) ,this.storageProvider);\n         form.parse(content, (formCallback) => {\n           //TODO maybe do something extra here, although doesn't seem that is needed\n           callback(formCallback);\n         })\n      };\n\n      if (this.formsStructure.hasOwnProperty(url)) {\n        console.log(\"Content already in the memory\", this.formsStructure[url]);\n        getForm( this.formsStructure[url] );\n      }\n      else {\n        this.storageProvider.fetch('token_info', (token_info) => {\n          this.http.getBackend(url,\n                               [{name: 'Authorization', value: token_info.token_type + \" \" + token_info.access_token}],\n                               (success, data) =>  {\n                                    console.log(\"Content received by the backend: \", data);\n                                    this.formsStructure[url] = data;\n                                    getForm(this.formsStructure[url]);\n                               }, true);\n        });\n\n\n\n        // this.http.getBackend(url, [], null).map(res => res.json()).subscribe(content => {\n        //   console.log(\"Content received by the backend: \", content);\n        //   this.formsStructure[url] = content;\n        //   getForm( this.formsStructure[url] );\n        // });\n      }\n\n    }\n    else {\n      console.log(\"retrieveWebFormStructureFrom: URL is null\")\n      callback(null)\n    }\n  }\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/form-manager/form-manager.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport {TouchID} from \"@ionic-native/touch-id\";\nimport {StorageManagerProvider} from \"../storage-manager/storage-manager\";\nimport {AuthManagerProvider} from \"../auth-manager/auth-manager\";\nimport {AlertController} from \"ionic-angular\";\nimport {AndroidFingerprintAuth} from \"@ionic-native/android-fingerprint-auth\";\n\n/*\n  Generated class for the TouchManagerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class TouchManagerProvider {\n\n  constructor(private touchID: TouchID, private storage: StorageManagerProvider, private authManager: AuthManagerProvider,\n              private alert: AlertController, private androidFingerprintAuth: AndroidFingerprintAuth) {\n    console.log('Hello TouchManagerProvider Provider');\n  }\n\n  public check(callback) {\n\n\n    this.storage.contains(\"touch-info\", (contains) => {\n\n      if (contains) {\n\n        this.storage.fetch(\"touch-info\", (savedData) => {\n\n          this.touchID.isAvailable().then(_ => {\n            this.touchID.verifyFingerprint(\"Mit TouchID einloggen\").then(_ => {\n\n\n              this.authManager.login(savedData.name, savedData.password, (success) => {\n\n                callback(success);\n              })\n            })\n\n          }).catch(_ => {\n\n            this.androidFingerprintAuth.isAvailable().then(result => {\n              console.log(\"Android fingerprint available:\", result)\n              if (result.isAvailable) {\n\n                this.androidFingerprintAuth.decrypt({token: savedData.token, clientId: 'ClinetApp', dialogTitle: \"Fingerabdruck\", dialogMessage: \"Fingerabdruck zum Anmelden bei WZK Kliniken\", username: savedData.name }).then(data => {\n\n                  this.authManager.login(savedData.name, data.password, (success) => {\n\n                      callback(success);\n                  })\n                }).catch(err => {\n                  console.log(\"Error when trying to call decrypt method\", err)\n                })\n\n              }\n            })\n          })\n\n        });\n      }\n    })\n\n\n  }\n\n  public disableTouch(callback) {\n    this.storage.contains(\"touch-info\", (contains) => {\n      if (contains) {\n        this.storage.remove(\"touch-info\", () => {\n          this.storage.save(\"touch-ignore\", true, () => {\n            callback();\n          })\n        })\n      }\n      else {\n        this.storage.save(\"touch-ignore\", true, () => {\n          callback();\n        })\n      }\n    })\n  }\n\n  /**\n   * Ensures that the next time a manual log-in happens,\n   * the user will be given the chance to activate the Touch ID.\n   * On success, it calls the callback function.\n   * @param callback\n   */\n  public activateTouch(callback) {\n    this.storage.contains(\"touch-ignore\", doesIgnoreTouch => {\n      if (doesIgnoreTouch) {\n        this.storage.remove(\"touch-ignore\", () => {\n          callback();\n        })\n      }\n      else {\n        callback();\n      }\n    })\n  }\n\n  public handle(name, password) {\n    this.touchID.isAvailable().then(_ => {\n\n      const me = this;\n      me.storage.contains(\"touch-ignore\", (does) => {\n\n        if (!does) {\n          let confirm = me.alert.create({\n            title: 'Touch ID?',\n            message: 'Möchten Sie sich mit TouchID anmelden können?',\n            buttons: [{\n              text: 'Nicht aktivieren',\n              handler: () => {\n                this.storage.save(\"touch-ignore\", true, () => {\n                })\n              }\n            }, {\n              text: 'Aktivieren',\n              handler: () => {\n                this.storage.contains(\"touch-info\", (contains) => {\n                  if (contains) {\n                    this.storage.remove(\"touch-info\", () => {\n                      this.storage.save(\"touch-info\", {name: name, password: password}, () => {\n                      });\n                    });\n                  } else {\n                    this.storage.save(\"touch-info\", {name: name, password: password}, () => {\n                    });\n                  }\n                });\n              }\n            }]\n          });\n          confirm.present();\n        }\n\n      });\n\n\n    }).catch(_ => {\n\n      this.androidFingerprintAuth.isAvailable().then(result => {\n\n        if (result.isAvailable) {\n\n          this.storage.contains(\"touch-ignore\", (contains) => {\n\n            if (!contains) {\n\n              let confirm = this.alert.create({\n                title: 'Fingerabdruck?',\n                message: 'Möchten Sie sich mit ihrem Fingerabdruck anmelden können?',\n                buttons: [{\n                  text: 'Nicht aktivieren',\n                  handler: () => {\n                    this.storage.save(\"touch-ignore\", true, () => {\n                    })\n                  }\n                }, {\n                  text: 'Aktivieren',\n                  handler: () => {\n                    const androidOpts = {\n                      clientId: 'ClinetApp',\n                      username: name,\n                      password: password};\n                    this.storage.contains(\"touch-info\", (contains) => {\n                      if (contains) {\n                        this.storage.remove(\"touch-info\", () => {\n                          this.androidFingerprintAuth.encrypt(androidOpts).then(result => {\n                            if (result.withFingerprint) {\n                              this.storage.save(\"touch-info\", {token: result.token, name: name}, () => {\n                              });\n                            }\n                          });\n                        });\n                      } else {\n                        this.androidFingerprintAuth.encrypt(androidOpts).then(result => {\n                          if (result.withFingerprint) {\n                            this.storage.save(\"touch-info\", {token: result.token, name: name}, () => {\n                            });\n                          }\n                        });\n                      }\n                    });\n                  }\n                }]\n              });\n              confirm.present();\n            }\n          })\n        }\n      }).catch(exc => {\n        console.log(\"This device doesn't have a fingerprint sensor.\")\n      })\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/touch-manager/touch-manager.ts","export class CalendarEvent {\n\n  public static CUSTOM_TEXT_FOR_APPLICATION: string = \"--- Created by CLINET application.\";\n  public static CLINET_CALENDAR_TYPE: string = \"CLINET\";\n  public static GLOBAL_CALENDAR_TYPE: string = \"Global\";\n  public static EXTERNAL_CALENDAR_TYPE: string = \"External\";\n  public static TYPE1_EVENT_TYPE: number = 1;\n  public static TYPE2_EVENT_TYPE: number = 2;\n  public static GLOBAL_EVENT_TYPE: number = 3;\n  private static TYPE1_EVENT_TYPE_TEXT: string = \"Type1 event\";\n  private static TYPE2_EVENT_TYPE_TEXT: string = \"Type2 event\";\n  private static GLOBAL_EVENT_TYPE_TEXT: string = \"Global event\";\n  public static ALL_EVENT_TYPES: number[] = [CalendarEvent.TYPE1_EVENT_TYPE, CalendarEvent.TYPE2_EVENT_TYPE, CalendarEvent.GLOBAL_EVENT_TYPE];\n\n  title: string;\n  location: string;\n  notes: string;\n  start: Date;\n  startTime: Date;\n  end: Date;\n  endTime: Date;\n  allday: boolean;\n  allDay: boolean;\n  message: string;\n  id: number;\n  calendarType: string;\n  typeOfMeeting: number;\n  attending: boolean;\n  participants: string;\n  practitioner: string;\n\n    constructor(start = new Date(), end = new Date(), title = \"\", location = \"\", notes = \"\", allday = false, message = \"\", calendarType = CalendarEvent.CLINET_CALENDAR_TYPE, id = -1, typeOfMeeting = CalendarEvent.TYPE1_EVENT_TYPE, attending = false, participants = \"\", practitioner = \"\") {\n        this.title = title;\n        this.location = location;\n        this.notes = notes;\n        this.startTime = start;\n        this.endTime = end;\n        this.allday = allday;\n        this.message = message;\n        this.id = id;\n        this.calendarType = calendarType;\n        this.typeOfMeeting = typeOfMeeting;\n        this.attending = attending;\n        this.participants = participants;\n        this.practitioner = practitioner;\n    }\n\n  public static getEventTypeByNumber(type: number) {\n      if (type == CalendarEvent.TYPE1_EVENT_TYPE)\n          return CalendarEvent.TYPE1_EVENT_TYPE_TEXT;\n      if (type == CalendarEvent.TYPE2_EVENT_TYPE)\n          return CalendarEvent.TYPE2_EVENT_TYPE_TEXT;\n      if (type == CalendarEvent.GLOBAL_EVENT_TYPE)\n          return CalendarEvent.GLOBAL_EVENT_TYPE_TEXT;\n  }\n\n  public getHTMLClassName() {\n      //console.log(\"Cal event, HTML class: \", event);\n      if (this.typeOfMeeting == CalendarEvent.TYPE2_EVENT_TYPE) {\n          return \"CustomColorType2\";\n      }\n      else {\n          return \"CustomColorUnknownType\";\n      }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/calendar/calendarEvent.Model.ts","import {Node} from \"../../providers/checkin-service/checkin.modals\";\n\nexport class Process {\n    static rulesFullFilled(condition: string, item: Node, currentValues) {\n//         if (item.id.endsWith('wenn_ja_wie_lang_in_wochen_')) {\n// //          console.info(item.rules);\n//         }\n        for (let i = 0; i < item.rules.length; i++) {\n            const current = item.rules[i];\n\n            if (current.effect != condition) continue;\n\n            const conditions = current.conditions;\n            for (let c = 0; c < conditions.length; c++) {\n                const currentCondition = conditions[c];\n                const nameSearched = currentCondition.name;\n                const type = currentCondition.type;\n                const value = currentCondition.value;\n\n                // if (item.id.endsWith('wenn_ja_wie_lang_in_wochen_')) {\n                //     // console.info(currentCondition);\n                //     // console.info(currentValues);\n                // }\n                let actualValue = null;\n                for (let w = 0; w < currentValues.length; w++) {\n                    if (currentValues[w].key == nameSearched) {\n                        if (currentCondition.fromArray) {\n                            actualValue = currentValues[w].value[currentCondition.arrId - 1].ref\n                        } else {\n                            actualValue = currentValues[w].value;\n                        }\n                        break;\n                    }\n                }\n\n                if (actualValue == null) {\n                    switch (condition) {\n                        case \"visible\" : {\n                            return conditions.length == 0\n                        }\n                        case \"disabled\" : {\n                            return false\n                        }\n                    }\n                }\n\n\n                switch (condition) {\n                    case \"visible\" : {\n                        return Process.parseVisible(type, actualValue, value)\n                    }\n                    case \"disabled\" : {\n                        return Process.parseDisabled(type, actualValue, value)\n                    }\n                }\n            }\n\n        }\n\n        switch (condition) {\n            case \"visible\" : {\n                return true\n            }\n            case \"disabled\" : {\n                return false\n            }\n            case \"required\" : {\n                return Process.parseRequired(item)\n            }\n        }\n    }\n\n    /*\n      Returns if the specified Node item or its children have any unfulfilled required Rule.\n      Returns true if any required rule is unfulfilled, false otherwise.\n     */\n    public static parseRequired(item: Node) {\n        if (item.children.length == 0) {\n            for (let rule of item.rules) {\n                if (rule.effect == \"required\") {\n                    return !(item.reflector != null && item.reflector != \"\");\n                }\n            }\n            return false\n        } else {\n            let required = false;\n            for (let rule of item.rules) {\n                if (rule.effect == \"required\") {\n                    required = !(item.reflector != null && item.reflector != \"\");\n                }\n            }\n            for (let childNode of item.children) {\n                if (required) break;\n                required = Process.parseRequired(childNode)\n            }\n            return required;\n        }\n    }\n\n    private static parseVisible(type: string, actualValue, value) {\n\n        switch (type) {\n            case \"unchecked\" : {\n                if (actualValue == true) return false;\n                break\n            }\n            case \"filled\" : {\n                if (value) {\n                    if (actualValue.length == 0 || actualValue == false) return false;\n                } else {\n                    if (actualValue.length != 0 || actualValue == true) return false;\n                }\n                break\n            }\n            case \"empty\" : {\n                if (value && actualValue.length != 0) return false;\n                if (!value && actualValue.length == 0) return false;\n                break;\n            }\n            case \"value\" : {\n                if (value != actualValue) return false;\n                break\n            }\n            case \"!value\" : {\n                if (value == actualValue) return false;\n                break\n            }\n        }\n        return true\n    }\n\n    private static parseDisabled(type: string, actualValue, value) {\n\n        switch (type) {\n            case \"unchecked\" : {\n                if (actualValue == true) return true;\n                break\n            }\n            case \"filled\" : {\n                if (value) {\n                    if (actualValue.length == 0) return true;\n                } else {\n                    if (actualValue.length != 0) return true;\n                }\n                break\n            }\n            case \"empty\" : {\n                if (value && actualValue.length == 0) return true;\n                if (!value && actualValue.length == 0) return true;\n                break;\n            }\n            case \"value\" : {\n                if (value != actualValue) return true;\n                break\n            }\n            case \"!value\" : {\n                if (value == actualValue) return true;\n                break\n            }\n        }\n        return false\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkin/conditions.ts","import {Injectable} from '@angular/core';\nimport {CalendarEvent} from \"./calendarEvent.Model\";\nimport {Calendar, CalendarOptions} from \"@ionic-native/calendar\";\nimport {AlertController} from \"ionic-angular\";\nimport {UserCalendar} from \"./calendarUserCalendar.Model\";\nimport {ApiProvider} from \"../api/api\";\nimport * as moment from \"moment\";\nimport {isCordovaAvailable} from \"../../services/is-cordova-available\";\nimport {AuthManagerProvider} from \"../auth-manager/auth-manager\";\nimport {PlatformManagerProvider} from \"../platform-manager/platform-manager\";\n\n/*\n  Generated class for the CalendarProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class CalendarProvider {\n\n    public CURRENT_DATE: Date = new Date();\n    public EARLIEST_SEARCH_DATE: Date = new Date(this.CURRENT_DATE.getFullYear()-5, 0,0,0,0,0);\n    public LATEST_SEARCH_DATE: Date = new Date(this.CURRENT_DATE.getFullYear()+5, 11,31,0,0,0);\n\n\n    public userEvents:CalendarEvent[];\n    public userExternalEvents:CalendarEvent[];\n    public userCalendars:UserCalendar[];\n    public usersList = [];\n    public usersListUpdating = false;\n    public usersListFinishedUpdate = false;\n    public updatedUserEvents:boolean = false;\n    public updatedUserExternalEvents:boolean = false;\n    private static abort (text=\"Error. Calendar module isn't working properly.\") {\n        console.log(text);\n    }\n\n  constructor(private http: ApiProvider,\n              private alertCtrl: AlertController,\n              public platformUtils: PlatformManagerProvider,\n              private calendar: Calendar,\n              private authManager: AuthManagerProvider) {\n    console.log('Hello CalendarProvider Provider');\n    this.userEvents         = [];\n    this.userExternalEvents = [];\n    this.userCalendars      = [];\n    if (!isCordovaAvailable()) {\n      CalendarProvider.abort(\"Error: Cordova isn't available.\");\n    }\n    if (!this.isPlatformAvailable()) {\n      CalendarProvider.abort(\"Error: Your device isn't supported\");\n    }\n    if (calendar == null) {\n      this.calendar = new Calendar();\n    }\n  }\n\n    public isPlatformAvailable() {\n        return this.platformUtils.isMobileApplication();\n    }\n\n    /**\n     * Returns true if cordova is available and the device's OS is supported, false otherwise\n     * @returns {boolean}\n     */\n    public doChecks() : boolean {\n        return isCordovaAvailable() //&& this.isPlatformAvailable(); // TODO add for removing browser support\n    }\n\n  /**\n   * Returns if it can read/write on the external calendars\n   */\n  async hasCalendarReadWritePermission() {\n        if (this.doChecks())\n            return await this.calendar.hasReadWritePermission().catch(exc=> {console.log(\"Error while reading the calendar read & write permissions\",exc);});\n        else\n            return false;\n    }\n\n  /**\n   * Requests read/write permissions for external calendars\n   */\n  async requestCalendarReadWritePermissions() {\n        return await this.calendar.requestReadWritePermission().then(succ => {\n            console.log(\"Calendar provider request permission\", succ);\n        }, () => {\n            console.log(\"Calendar provider didn't get the permission\");\n        }).catch(exc => {\n            console.log(\"CalendarProvider exception while getting permissions\", exc);\n        });\n    }\n\n  /**\n   * Parses data that describe a calendar event\n   * @param data\n   */\n  parseCalendarEvent(data) {\n    let event = new CalendarEvent();\n    if (!data) {\n      console.log(\"There was a problem while parsing data of an event: \", data);\n      return event;\n    }\n//    console.info(data);\n    if (data.hasOwnProperty(\"start\")) {\n      event.startTime = moment(data[\"start\"], \"YYYY-MM-DD HH:mm:ss\").toDate();\n    }\n    if (data.hasOwnProperty(\"end\")) {\n      event.endTime = moment(data[\"end\"], \"YYYY-MM-DD HH:mm:ss\").toDate();\n    }\n    if (data.hasOwnProperty(\"startDate\")) {\n      event.startTime = new Date(data[\"startDate\"]);\n    }\n    if (data.hasOwnProperty(\"endDate\")) {\n      event.endTime = new Date(data[\"endDate\"]);\n    }\n    if (data.hasOwnProperty(\"title\")) {\n      event.title = data[\"title\"];\n    }\n    if (data.hasOwnProperty(\"location\")) {\n      event.location = data[\"location\"];\n    }\n    if (data.hasOwnProperty(\"notes\")) {\n      event.notes = data[\"notes\"];\n    }\n    if (data.hasOwnProperty(\"message\")) {\n      event.message = data[\"message\"];\n    }\n    if (data.hasOwnProperty(\"id\")) {\n      event.id = data[\"id\"];\n    }\n    if (data.hasOwnProperty(\"all_day\")) {\n      event.allday = data[\"all_day\"] == 1 ? true : false;\n    }\n    if (data.hasOwnProperty(\"typeOfMeeting\")) {\n      event.typeOfMeeting = data[\"typeOfMeeting\"];\n      if (event.typeOfMeeting == CalendarEvent.GLOBAL_EVENT_TYPE && this.authManager.isMedical) {\n        event.calendarType = CalendarEvent.GLOBAL_CALENDAR_TYPE;\n      }\n    }\n    if (data.hasOwnProperty(\"participants\")) {\n      event.participants = data[\"participants\"];\n    }\n\n    if (data.hasOwnProperty(\"practitioner\")) {\n      event.practitioner = data[\"practitioner\"];\n    }\n\n    // TODO: replace fields to standart names\n    event.end = event.endTime;\n    event.start = event.startTime;\n    event.allDay = event.allday;\n\n    return event;\n  }\n\n  /**\n   * Parses data into a UserCalendar\n   * @param data\n   */\n  public static parseUserCalendar(data) {\n        let usrCal = new UserCalendar();\n        if (data.hasOwnProperty(\"displayname\")) {\n            usrCal.displayname = data[\"displayname\"];\n        }\n        if (data.hasOwnProperty(\"name\")) {\n            usrCal.name = data[\"name\"];\n        }\n        if (data.hasOwnProperty(\"id\")) {\n            usrCal.id = data[\"id\"];\n        }\n        return usrCal;\n    }\n\n  /**\n   * Retrieves events in the specified time period from the external calendars.\n   * Updates the internal field of userExternalEvents.\n   * @param start\n   * @param end\n   */\n    public async retrieveAndUpdateEventsFromExternalCalendars(start:Date = this.EARLIEST_SEARCH_DATE, end:Date = this.LATEST_SEARCH_DATE) {\n        let events: CalendarEvent[] = [];\n        for(let extCalendar of this.userCalendars) {\n            let options: CalendarOptions = this.calendar.getCalendarOptions();\n            options.calendarName = extCalendar.displayname;\n            options.id = extCalendar.id + \"\";\n            options.calendarId = extCalendar.id;\n            if(extCalendar.sync==true) {\n                let calendarsEvents = await this.getEventsFromCalendarAsync(start,end, options);\n                calendarsEvents.forEach((event)=> {\n                    event.calendarType = CalendarEvent.EXTERNAL_CALENDAR_TYPE;\n                    events.push(event);\n                });\n            }\n\n        }\n        this.userExternalEvents = events;\n        this.updatedUserExternalEvents = true;\n        return events;\n    }\n\n    /**\n     * Returns an array of all the events from the devices' calendars in the specified time period. Calendar, or one of the other parameters can be used to limit the results.\n     * In case of no permissions, it returns an empty array.\n     * @param {Date} start\n     * @param {Date} end\n     * @param {CalendarOptions} calOptions\n     * @param {string} title\n     * @param {string} location\n     * @param {string} notes\n     * @returns {Promise<CalendarEvent[]>}\n     */\n    public async getEventsFromCalendarAsync(start:Date, end:Date, calOptions?:CalendarOptions, title:string = \"\",  location:string = \"\", notes:string = \"\") {\n        let data;\n        let eventsArray: CalendarEvent[] = [];\n        if(calOptions) {\n            data = await this.calendar.findEventWithOptions(title, location, notes, start, end, {'calendarId':calOptions.calendarId}).catch(exc=> {console.log(\"Probably we don't have permission:\",exc);});\n        }\n        else {\n            data = await this.calendar.findEvent(title, location, notes, start, end).catch(exc=> {console.log(\"Probably we don't have permission:\",exc);});\n        }\n        if(data)\n            data.forEach((value) => {\n                let event = this.parseCalendarEvent(value);\n                eventsArray.push(event);\n            });\n        return eventsArray;\n    }\n\n    /**\n     * Returns all the calendars registered at the device. If there are no permissions returns an empty array.\n     * @returns {Promise<UserCalendar[]>}\n     */\n    public async getUserCalendarsAsync() {\n        let hasPermissions = await this.hasCalendarReadWritePermission();\n        if (hasPermissions == false) {\n          //TODO Perhaps request permission instead?\n          return [];\n        }\n        else {\n          let data = await this.calendar.listCalendars().catch(exc=> {console.log(\"Probably we don't have permission:\",exc);});\n          let calArray: UserCalendar[] = [];\n          if (data)\n            data.forEach((value)=> {\n              let userCalendar = CalendarProvider.parseUserCalendar(value);\n              calArray.push(userCalendar);\n            });\n          return calArray;\n        }\n    }\n\n  /**\n   * Creates an event in an external calendar\n   * @param event\n   * @param calendar\n   */\n    public createEventOnUserCalendar(event: CalendarEvent, calendar: UserCalendar) {\n        const ADD_TEXT_TO_NOTES_WHEN_ADDING_TO_EXTERNAL_CALENDAR = \" ID: \" + event.id;\n        let options = this.calendar.getCalendarOptions();\n        options.calendarName = calendar.displayname;\n        options.id = calendar.id + \"\";\n        options.calendarId = calendar.id;\n        let notes = event.notes + ADD_TEXT_TO_NOTES_WHEN_ADDING_TO_EXTERNAL_CALENDAR;\n        this.createEventOnCalendarWithOptions(event.startTime,event.endTime, event.title, event.location, notes, options);\n    }\n\n  /**\n   * Creates an event in an external calendar.\n   * @param startDate\n   * @param endDate\n   * @param title\n   * @param eventLocation\n   * @param notes\n   * @param calendarOptions\n   */\n    public createEventOnCalendarWithOptions(startDate: Date, endDate: Date, title?: string, eventLocation?: string, notes?: string, calendarOptions?: CalendarOptions) {\n        this.calendar.createEventWithOptions(title,eventLocation,notes,startDate,endDate, calendarOptions)\n            .then((isCreated)=> console.log(\"Creation of event was done successfully: \", isCreated),\n                rej=> console.log(\"Creation of event got rejected\", rej))\n            .catch(exc=> console.log(\"Exception in creation of event\", exc));\n    }\n\n    /**\n     * Careful use this function! It deletes all events that are matched from the parameters from all the calendars on the device.\n     * Any of the specified parameters can be partially matched and the event will be deleted\n     * E.g. the for the strings: if the Event title is \"Hello\" and you specify \"ell\", and the rest parameters are also matched then the event will be deleted\n     * E.g. If the event starts at 10:00 and ends at 11:00 and you give as parameters the startDate 10:59 and endDate 11:00, the event will be deleted\n     * @param event Event to delete\n     */\n    public deleteEventsFromAllExternalCalendars(event: CalendarEvent) {\n        const ADD_TEXT_TO_NOTES_WHEN_ADDING_TO_EXTERNAL_CALENDAR = \" ID: \" + event.id;\n        let startDate: Date = event.startTime;\n        let endDate: Date = event.endTime;\n        let title: string = event.title;\n        let eventLocation: string = event.location;\n        let notes: string;\n        if (event.calendarType == CalendarEvent.CLINET_CALENDAR_TYPE || event.calendarType == CalendarEvent.GLOBAL_CALENDAR_TYPE)\n            notes = event.notes + ADD_TEXT_TO_NOTES_WHEN_ADDING_TO_EXTERNAL_CALENDAR;\n        else\n            notes = event.message + ADD_TEXT_TO_NOTES_WHEN_ADDING_TO_EXTERNAL_CALENDAR;\n\n        this.calendar.deleteEvent(title, eventLocation, notes, startDate, endDate)\n            .then((isDeleted)=> {\n                    console.log(\"Deletion on external calendars was done successfully: \", isDeleted, event);\n                },\n                rej=> console.log(\"Deletion on external calendars got rejected\", rej))\n            .catch(exc=> console.log(\"Exception in deleting event on external calendars\", exc));\n    }\n\n  /**\n   * Encodes data for the transmission\n   * @param data\n   */\n  public static encodeJSONForApiCall(data: string): string {\n        return btoa(encodeURIComponent(data));\n    }\n\n    /*public static decodeJSONForApiCall(data: string): string {\n        return atob(data);\n    }*/\n\n  /**\n   * Creates a json from a CalendarEvent\n   * @param event\n   */\n  public static getJSON(event: CalendarEvent) {\n        return JSON.stringify(event);\n    }\n\n  /**\n   * Adds extra fields in a json object.\n   * @param params\n   * @param object\n   */\n    public static addParametersIntoJsonObject(params, object) {\n        for(let param in params) {\n            object[param] = params[param];\n        }\n        return object;\n    }\n\n  /**\n   * Makes an API post request ot the specified endpoint.\n   * It \"encapsulates\" the key and the data in a json and sends it.\n   * Replacer can be used to replace specific fields of the data if needed\n   * @param path\n   * @param callbackFunction\n   * @param key\n   * @param data\n   * @param replacer\n   */\n    public makeAPIcall(path: string, callbackFunction, key, data, replacer = (k,v)=>{ return v;}) {\n      let preparedData = JSON.stringify(data,(key,value)=>replacer(key,value));\n      let encodedData = JSON.stringify({'key': key, 'data' : CalendarProvider.encodeJSONForApiCall(preparedData)});\n      this.http.post(path,encodedData,[],(success,data) => { callbackFunction(success, data) });\n    }\n\n    public makeBackendAPIcall(path: string, callbackFunction, key, data, replacer = (k,v)=>{ return v;}) {\n      this.http.backendPost(path, [], [], (success,data) => { callbackFunction(success, data) });\n/*        let scrf = '';\n        let preparedData = JSON.stringify(data,(key,value)=>replacer(key,value));\n        let encodedData = JSON.stringify({'key': key, 'data' : CalendarProvider.encodeJSONForApiCall(preparedData)});\n//        let scrf = this.http.getBackend('/rest/session/token', null,[],(success,data) => { callbackFunction(success, data) });\n        this.http.getBackend('/rest/session/token', [], (success, data) => {\n          this.http.CSRFToken = data.text()\n          this.http.postBackend(path,encodedData,[],(success,data) => { callbackFunction(success, data) });\n        });*/\n    }\n\n\n  /**\n   * Parse event data after an api call\n   * @param success\n   * @param data\n   */\n  public parseEventsFromAPICall(success: boolean, data) {\n    if (success) {\n      let events: CalendarEvent[] = [];\n      for (let eventData of data) {\n        eventData.calendarType = CalendarEvent.CLINET_CALENDAR_TYPE;\n        events.push(this.parseCalendarEvent(eventData));\n      }\n      this.userEvents        = events;\n      this.updatedUserEvents = true;\n    }\n  }\n\n  /**\n   * Process response after the Saving Event api call.\n   *\n   * @param success\n   * @param data\n   * @param event\n   */\n    public getResponseFromAPIAfterSavingEvent(success: boolean, data, event: CalendarEvent) {\n        console.log(\"The event data: \", event);\n        if (success) {\n            if(data.hasOwnProperty(\"success\")) {\n                if(data[\"success\"]) {\n                    console.log(\"The data received back are:\", data);\n                }\n                else {\n                    console.log(\"The data received back are:\", data);\n                }\n            } else if (data.hasOwnProperty(\"_body\")) {\n                let json = JSON.parse(data[\"_body\"]);\n                if(json[\"success\"]) {\n                    console.log(json); // Console printing after adding an event\n                    if(json[\"data\"]) {\n                        event.id = json[\"data\"];\n                        event.calendarType = CalendarEvent.CLINET_CALENDAR_TYPE;\n                    }\n                    console.log(event);\n                    this.userEvents.push(event);\n\n                    this.userCalendars.forEach( (oneCalendar) => {\n                        if(oneCalendar.sync==true)\n                            this.createEventOnUserCalendar(event,oneCalendar);\n                    });\n                    //TODO Add here any handle code for the success\n                }\n                console.log(\"The data received back are:\", data);\n            }\n            else {\n                console.log(\"Error while creating Event in DB: \", data)\n            }\n\n        }\n        else {\n            console.log(\"Error while creating Event in DB: \", data)\n        }\n    }\n\n    public getResponseFromAPIAfterDeletingEvent(success: boolean, data) {\n        if (success) {\n            console.log(\"Delete API call, success: \", success);\n            if (data.hasOwnProperty(\"_body\")) {\n                let json = JSON.parse(data[\"_body\"]);\n                let deleteMsg = json[\"data\"];\n                console.log(\"Delete response: \", deleteMsg);\n                if(deleteMsg==\"deleted\") {\n                    //TODO add any code here\n                }\n            }\n        }\n        else {\n            console.log(\"Error when deleting an event from DB: \", success, data);\n        }\n    }\n\n    public getResponseFromAPIAfterUpdatingAttendanceOfEvent(success: boolean, data, event: CalendarEvent) {\n        if (success) {\n            console.log(\"Update API call, success: \", success);\n            if (data.hasOwnProperty(\"_body\")) {\n                let json = JSON.parse(data[\"_body\"]);\n                let updateMsg = json[\"data\"];\n                if(updateMsg==\"updated\") {\n                    console.log(\"The update of the attendance was successful\")\n                    //TODO add any code here\n                }\n                else {\n                    event.attending = !event.attending;\n                    console.log(\"The update of the attendance failed\", event);\n                    console.log(\"Update response: \", updateMsg);\n                }\n            }\n        }\n        else {\n            console.log(\"Error when updating an event from DB: \", success, data, event);\n        }\n    }\n\n    public registerEventToTheDatabaseAndSync(event: CalendarEvent) {\n        const me = this;\n        let key = this.authManager.key;\n        let start = moment(event.startTime).format(\"YYYY-MM-DD HH:mm:ss\");\n        let end = moment(event.endTime).format(\"YYYY-MM-DD HH:mm:ss\");\n        let data = CalendarProvider.addParametersIntoJsonObject({'start': start, 'end': end} ,event);\n        //console.log(\"Making the API call to register the event to DB\");\n        this.makeAPIcall(\"/meetings/set\", (success, data) => {\n            me.getResponseFromAPIAfterSavingEvent(success, data, event); }, key, data);\n    }\n\n    public retrieveAndUpdateEventsFromTheDatabase() {\n        const me = this;\n        let key = this.authManager.key;\n        let data = {};\n        this.makeBackendAPIcall(\"/rest/app/meetings?_format=json\", (success, data) => { me.parseEventsFromAPICall(data.success, data.data); }, key, data);\n    }\n\n    public deleteEventFromTheDatabase(event: CalendarEvent) {\n        const me = this;\n        if ( event.calendarType == CalendarEvent.GLOBAL_CALENDAR_TYPE && this.authManager.isMedical != true) {\n            console.log(\"You are not authorized to delete Global events.\");\n            return;\n        }\n        let key = this.authManager.key;\n        let data = JSON.stringify({'key': key, 'id' : event.id});\n        this.http.post(\"/meetings/delete\",data,[],(success, data) => { me.getResponseFromAPIAfterDeletingEvent(success, data); });\n    }\n\n    public updateEventAttendanceInTheDatabase(event: CalendarEvent) {\n        const me = this;\n        let key = this.authManager.key;\n        let start = moment(event.startTime).format(\"YYYY-MM-DD HH:mm:ss\");\n        let end = moment(event.endTime).format(\"YYYY-MM-DD HH:mm:ss\");\n        let data = CalendarProvider.addParametersIntoJsonObject({'start': start, 'end': end} ,event);\n        console.log(\"Making the API call to update the event on DB\");\n        this.makeAPIcall(\"/meetings/update\", (success, data) => {\n            console.log(\"In the callback function after doing the call to DB to update attendance of event\"); me.getResponseFromAPIAfterUpdatingAttendanceOfEvent(success, data, event); }, key, data);\n    }\n\n    public updateUserList() {\n        if (this.usersListUpdating == true) {\n            return;\n        }\n        this.usersListUpdating = true;\n        let result = [];\n        if (this.authManager.isMedical == true) {\n            let query = JSON.stringify({\"key\": this.authManager.key, \"data\": \"*\"});\n            console.log(\"Retrieving user data from the API call...\");\n            this.http.post(\"/search\", query, [], (success, searchData) => {\n                console.log(\"Finished retrieving user data from the API call...\");\n                if (searchData.hasOwnProperty(\"_body\")) {\n                    let json = JSON.parse(searchData[\"_body\"]);\n                    if (json[\"data\"][\"level\"] == \"all\") {\n                        result = json[\"data\"][\"results\"];\n                    }\n                }\n                this.setUserList(result);\n                this.usersListUpdating = false;\n            });\n        }\n        else {\n            this.setUserList(result);\n            this.usersListUpdating = false;\n        }\n    }\n\n    public setUserList(array) {\n        this.usersList = array;\n        this.usersListFinishedUpdate = true;\n    }\n\n    /*\n    // I'll just leave those here\n    // ucs-2 string to base64 encoded ascii\n    public  utoa(str) {\n        return btoa(encodeURIComponent(str));\n    }\n    // base64 encoded ascii to ucs-2 string\n    public atou(str) {\n        return decodeURIComponent(atob(str));\n    }\n    */\n  receiveTherapyEntryWithId(id: string, callback: (success, data) => void) {\n    const data = {id: id};\n    this.http.post('/therapy/get', data, [], (success, data) => {\n\n      console.log(\"POST reply: \", success, data);\n      if (success) {\n        if (data.success) {\n          callback(true, data.data);\n        } else {\n          callback(false, data)\n        }\n      }\n      else {\n        callback(false, data)\n      }\n\n    }, this.authManager.key, true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/calendar/calendarProvider.ts","import {Injectable} from '@angular/core';\nimport {Http} from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the DebuggerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class DebuggerProvider {\n\n  private printStack = [];\n  public ownCallback = (content) => {\n\n  };\n\n  set callback(item) {\n    this.ownCallback = item;\n  }\n  constructor(public http: Http) {\n    console.log('Hello DebuggerProvider Provider');\n  }\n\n  get stack() {\n    return this.printStack;\n  }\n\n  register() {\n\n    const me = this;\n    window[\"logCallback\"] = (args) => {\n\n      var content = \"LOG: \";\n      const obType = typeof {};\n      const arrType = typeof [];\n      for (let i = 0; i < args.length; i++) {\n        const current = args[i];\n\n        if (typeof current == obType || typeof current == arrType) {\n          content += JSON.stringify(current) + \" \";\n        }\n      }\n\n      me.printStack.push(content);\n      me.ownCallback(content);\n    };\n    window[\"errCallback\"] = (args) => {\n\n      var content = \"ERR: \";\n      const obType = typeof {};\n      const arrType = typeof [];\n      for (let i = 0; i < args.length; i++) {\n        const current = args[i];\n\n        if (typeof current == obType || typeof current == arrType) {\n          content += JSON.stringify(current) + \" \";\n        }\n      }\n\n      me.printStack.push(content);\n      me.ownCallback(content);\n    };\n    window[\"warnCallback\"] = (args) => {\n\n      var content = \"WARN: \";\n      const obType = typeof {};\n      const arrType = typeof [];\n      for (let i = 0; i < args.length; i++) {\n        const current = args[i];\n\n        if (typeof current == obType || typeof current == arrType) {\n          content += JSON.stringify(current) + \" \";\n        }\n      }\n\n      me.printStack.push(content);\n      me.ownCallback(content);\n    };\n\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/debugger/debugger.ts","import {Component} from '@angular/core';\nimport {Platform, NavParams, ViewController} from 'ionic-angular';\nimport {LinkManagerProvider} from \"../../providers/link-manager/link-manager\";\nimport {Http} from \"@angular/http\";\n\n\n@Component({\n  templateUrl: 'modal-box.html'\n\n})\nexport class ModalContentPage {\n  public title: any;\n  public calorie: any;\n  public additives: any;\n  public value: any;\n  public menu: any;\n  public menuData: any;\n  public nids: any = [];\n  public time: any;\n\n  constructor(public platform: Platform,\n              public params: NavParams,\n              public viewCtrl: ViewController,\n              private http: Http,\n              private linkManager: LinkManagerProvider) {\n    this.title = this.params.get('art');\n\n    this.nids = this.params.get('food_ids');\n    this.time = this.params.get('time');\n\n    console.log(\"Showing the day's nids:\", this.nids);\n    const me = this;\n\n    http.get( this.linkManager.getMenuFoodAdditionals(this.nids.join('+')) ).map(res => res.json()).subscribe(response => {\n/*\n      let reference_array = me.nids;\n      let reference_object = {};\n      for (let i = 0; i < reference_array.length; i++) {\n        reference_object[reference_array[i]] = i;\n      }\n      response.sort(function(a, b) {\n        return reference_object[a.nid] - reference_object[b.nid];\n      });\n*/\n      response.sort(function(a, b) {\n        return me.nids.indexOf(a.nid) - me.nids.indexOf(b.nid);\n      });\n      console.log(response);\n      this.menuData = response;\n    });\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/food-card/modal-box.page.ts","import { Component } from \"@angular/core\";\r\nimport { ViewController } from \"ionic-angular\";\r\n\r\n@Component({\r\n  selector: \"nutzungsbedingungen-modal\",\r\n  templateUrl: \"nutzungsbedingungen-modal.html\",\r\n})\r\nexport class NutzungsbedingungenModalPage {\r\n  constructor(public viewCtrl: ViewController) {}\r\n\r\n  close() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Nutzungsbedingungen/nutzungsbedingungen-modal.ts","import { Component } from \"@angular/core\";\r\nimport { ViewController } from \"ionic-angular\";\r\n\r\n@Component({\r\n  selector: \"datenschutzerklaerung-modal\",\r\n  templateUrl: \"datenschutzerklaerung-modal.html\",\r\n})\r\nexport class DatenschutzerklaerungModalPage {\r\n  constructor(public viewCtrl: ViewController) {}\r\n\r\n  close() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Datenschutzerklarung/datenschutzerklaerung-modal.ts","import { Component } from \"@angular/core\";\r\nimport { ViewController } from \"ionic-angular\";\r\n\r\n@Component({\r\n  selector: \"help-modal\",\r\n  templateUrl: \"help-modal.html\",\r\n})\r\nexport class helpModalPage {\r\n  constructor(public viewCtrl: ViewController) {}\r\n\r\n  close() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/help/help-modal.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Injectable }                                       from '@angular/core';\nimport {Http, Headers, RequestOptions, ResponseContentType} from \"@angular/http\";\nimport 'rxjs/add/operator/map';\nimport {Info}                                               from \"../../services/statics\";\nimport {StorageManagerProvider}                             from \"../storage-manager/storage-manager\";\nimport {isArray}                                            from \"rxjs/util/isArray\";\nimport {isObject}                                           from \"rxjs/util/isObject\";\n\n/*\n  Generated class for the ApiProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class ApiProvider {\n\n  public target = Info.apiURL;\n  public targetBackend = Info.backendUrl();\n  public CSRFToken = '';\n\n  constructor(public http: Http, private storage: StorageManagerProvider) {\n  }\n\n  /**\n   * Makes a post request to the API endpoint.\n   * @param path The relative path to the base API endpoint\n   * @param data\n   * @param headers\n   * @param callback\n   * @param key\n   * @param json\n   * @param responseType\n   */\n  public post(path:string, data:any, headers:any[], callback, key:string = null,  json = false, responseType = ResponseContentType.Text) {\n    const opts = new Headers();\n    opts.append(\"Content-type\", \"application/json\");\n    for(let i = 0; i < headers.length; i++) {\n      opts.append(headers[i].name, headers[i].value);\n    }\n    if(key !== null && key.length > 0) data.key = key;\n    let headersObject = new RequestOptions({headers: opts, responseType: responseType});\n    if(!json) {\n      this.http.post(this.target + path, data, headersObject).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    } else {\n      this.http.post(this.target + path, data, headersObject).map(res => res.json()).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    }\n  }\n\n  public postBackend(path:string, data:any, headers:any[], callback, key:string = null,  json = false, responseType = ResponseContentType.Text) {\n    if (this.CSRFToken == '') {\n      this.getBackend('/rest/session/token', [], (success, data) => {\n        this.CSRFToken = data.text()\n      });\n    }\n    const opts = new Headers();\n    opts.append(\"Content-type\", \"application/json\");\n    if (this.CSRFToken != '') {\n      opts.append(\"X-CSRF-Token\", this.CSRFToken);\n    }\n//    opts.append(\"withCredentials\", \"true\");\n    console.info('this.CSRFToken is ', this.CSRFToken);\n    for(let i = 0; i < headers.length; i++) {\n      opts.append(headers[i].name, headers[i].value);\n    }\n    if(key !== null && key.length > 0) data.key = key;\n    let headersObject = new RequestOptions({headers: opts, responseType: responseType});\n    if(!json) {\n      this.http.post(this.targetBackend + path, data, headersObject).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    } else {\n      this.http.post(this.targetBackend + path, data, headersObject).map(res => res.json()).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    }\n  }\n\n  /**\n   * Make post request to Drupal backend.\n   *\n   * @param uri\n   * @param payload\n   * @param headers\n   * @param callback\n   */\n  public backendPost(uri: string, payload: any = [], headers: any[] = [], callback = null) {\n    console.info('backendPost ---------------------------------');\n    this.storage.fetch('token_info', (token_info) => {\n      let opts = this.prepareHeaders(token_info, headers);\n      // const opts = new Headers();\n      // opts.append(\"Content-type\", \"application/json\");\n      //\n      // for(let i = 0; i < headers.length; i++) {\n      //   opts.append(headers[i].name, headers[i].value);\n      // }\n      //\n      // if (isObject(token_info)) {\n      //   opts.append(\"Authorization\", token_info.token_type + ' ' + token_info.access_token);\n      // }\n\n      console.info(opts);\n      let headersObject = new RequestOptions({headers: opts});\n\n      this.http.post(this.targetBackend + uri, JSON.stringify(payload), headersObject).subscribe(\n          Response => {\n            console.info(Response);\n            console.info(Response.status);\n            callback(true, Response.json());\n          },\n          Error => {\n            if (Error.status == 401) {\n              this.postBackendRefreshOAuthToken(token_info.refresh_token, (success, new_token) => {\n                if (success) {\n                  this.storage.save('token_info', new_token, _ => {\n                    let opts = this.prepareHeaders(new_token, headers);\n                    let headersObject = new RequestOptions({headers: opts});\n\n                    this.http.post(this.targetBackend + uri, payload, headersObject).subscribe(\n                        Response => {\n                          callback(true, Response.json());\n                        },\n                        Error => {\n                          callback(false, Error);\n                        }\n                    );\n                  })\n                }\n              });\n            }\n            else if (Error.status == 403) {\n              callback(false, null);\n            }\n          })\n    });\n//    this.http.post(this.targetBackend).subscribe().\n  }\n\n  /**\n   * Create headers list for request.\n   *\n   * @param token_info\n   * @param headers\n   * @private\n   */\n  private prepareHeaders(token_info: any, headers: any[] = []) {\n    const opts = new Headers();\n    opts.append(\"Content-type\", \"application/json\");\n\n    for(let i = 0; i < headers.length; i++) {\n      opts.append(headers[i].name, headers[i].value);\n    }\n\n    if (isObject(token_info)) {\n      opts.append(\"Authorization\", token_info.token_type + ' ' + token_info.access_token);\n    }\n\n    return opts;\n  }\n\n  public postBackendGetOAuthToken(user, pass, callback) {\n    const formData = new FormData();\n    formData.append(\"grant_type\", \"password\");\n    formData.append(\"client_id\", Info.backendOauthClientId);\n    formData.append(\"client_secret\", Info.backendOauthClientPassword);\n    formData.append(\"username\", user);\n    formData.append(\"password\", pass);\n    formData.append(\"scope\", Info.backendOauthClientScope);\n\n    const opts = new Headers();\n//    opts.append(\"withCredentials\", \"true\");\n    let headersObject = new RequestOptions({headers: opts});\n\n    this.http.post(this.targetBackend + \"/oauth/token\", formData, headersObject).map(res => res.json()).subscribe(val => {\n      callback(true, val);\n    }, error => {\n      callback(false, error);\n    })\n  }\n\n  public postBackendRefreshOAuthToken(refresh_token, callback) {\n    const formData = new FormData();\n    formData.append(\"grant_type\", \"refresh_token\");\n    formData.append(\"refresh_token\", refresh_token);\n    formData.append(\"client_id\", Info.backendOauthClientId);\n    formData.append(\"client_secret\", Info.backendOauthClientPassword);\n\n    const opts = new Headers();\n//    opts.append(\"withCredentials\", \"true\");\n    let headersObject = new RequestOptions({headers: opts});\n\n    this.http.post(this.targetBackend + \"/oauth/token\", formData, headersObject).map(res => res.json()).subscribe(val => {\n      callback(true, val);\n    }, error => {\n      callback(false, error);\n    })\n  }\n\n  /**\n   * Makes a get request to the API endpoint.\n   * @param path The relative path to the base API endpoint\n   * @param headers\n   * @param callback\n   * @param json\n   * @param responseType\n   */\n  public get(path:string,  headers:any[], callback, json = false, responseType = ResponseContentType.Text) {\n    const opts = new Headers();\n    if(json) opts.append(\"Content-type\", \"application/json\");\n    for(let i = 0; i < headers.length; i++) {\n      opts.append(headers[i].name, headers[i].value);\n    }\n\n    let headersObject = new RequestOptions({headers: opts, responseType: responseType});\n    if(!json) {\n      this.http.get(this.target + path, headersObject).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    } else {\n      this.http.get(this.target + path, headersObject).map(res => res.json()).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    }\n  }\n\n  public getBackend(path:string,  headers:any[], callback, json = false, responseType = ResponseContentType.Text) {\n    const opts = new Headers();\n    if (json) opts.append(\"Content-type\", \"application/json\");\n\n    for(let i = 0; i < headers.length; i++) {\n      opts.append(headers[i].name, headers[i].value);\n    }\n//    opts.append(\"withCredentials\", \"true\");\n    opts.append(\"Accept\", \"application/vnd.api+json\");\n\n    let headersObject = new RequestOptions({headers: opts, responseType: responseType});\n    if(!json) {\n      this.http.get(this.targetBackend + path, headersObject).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    } else {\n      this.http.get(this.targetBackend + path, headersObject).map(res => res.json()).subscribe(val => {\n        callback(true, val);\n      }, error => {\n        callback(false, error);\n      })\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","import {Injectable, isDevMode} from '@angular/core';\nimport {Platform} from \"ionic-angular\";\n\n@Injectable()\nexport class PlatformManagerProvider {\n\n  constructor(public platform: Platform) {\n    console.log('Hello PlatformManagerProvider Provider');\n    if (this.isRunningIOS())\n      console.log(\"This is an iOS device.\");\n    if (this.isRunningAndroid())\n      console.log(\"This is an Android device.\");\n\n    if (this.isMobileApplication())\n      console.log(\"This is being run in mobile application\");\n    else if (this.isWebApplication())\n      console.log(\"This is being run in web browser application\");\n    else\n      console.log(\"This is being run on unknown type\")\n  }\n\n  public printInConsole() {\n    if (this.isRunningIOS())\n      console.log(\"This is an iOS device.\");\n    if (this.isRunningAndroid())\n      console.log(\"This is an Android device.\");\n\n    if (this.isMobileApplication())\n      console.log(\"This is being run in mobile application\");\n    else if (this.isWebApplication())\n      console.log(\"This is being run in web browser application\");\n    else\n      console.log(\"This is being run on unknown type\")\n  }\n\n  public isMobileApplication() {\n    return (\n      document.URL.indexOf('ionic') === 0 ||\n      document.URL.indexOf('http://localhost') === 0 ||\n      document.URL.indexOf('https://localhost') === 0\n    );\n  }\n\n  public isRunningIOS() {\n    return this.platform.is(\"ios\");\n  }\n\n  public isRunningAndroid() {\n    return this.platform.is(\"android\");\n  }\n\n  public isWebApplication() {\n    return !this.isMobileApplication()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/platform-manager/platform-manager.ts","import { Injectable } from \"@angular/core\";\nimport \"rxjs/add/operator/map\";\nimport { ApiProvider } from \"../api/api\";\nimport { FileManagerProvider } from \"../file-manager/file-manager\";\nimport { StorageManagerProvider } from \"../storage-manager/storage-manager\";\nimport { GuiManagerProvider } from \"../gui-manager/gui-manager\";\nimport { OtpProvider } from \"../otp/otp\";\nimport { MessagesProvider } from \"../messages/messages\";\nimport { CheckinServiceProvider } from \"../checkin-service/checkin-service\";\nimport { Info } from \"../../services/statics\";\n//import {Info} from \"../../services/statics\";\n// import { NavController } from \"ionic-angular\";\n\n/*\n  Generated class for the AuthManagerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n\n@Injectable()\nexport class AuthManagerProvider {\n  private loggedIn: boolean;\n  public isMedical = false;\n  public email: string = \"\";\n  public key: string = \"\";\n  private resetSaveMail = \"\";\n  public userGroup: number = 0;\n  public clinicName: string = \"\";\n  public encodedEmailId: string = \"\";\n  public registered;\n  public userInfo = [];\n\n  constructor(\n    public http: ApiProvider,\n    private fileManager: FileManagerProvider,\n    private storage: StorageManagerProvider,\n    private guiManager: GuiManagerProvider,\n    private otpProvider: OtpProvider,\n    private messageService: MessagesProvider,\n    private checkinService: CheckinServiceProvider,\n    // public navCtrl: NavController,\n  ) {}\n\n  checkLogin(callback, check = false) {\n    if (!check) {\n      this.storage.contains(\"token_info\", (c) => {\n        if (c) {\n          this.storage.fetch(\"token_info\", (saved) => {\n            const loader = this.guiManager.showLoader(\"Einloggen\", 60000);\n            // this.http.post(\"/check\", {key: saved.key}, [], (success, data) => {\n            //   loader.dismissAll();\n            //   callback(success && data.data)\n            //   if (success && data.data) {\n            //     this.internalPostLogin(saved.key, saved.medical, saved.name, saved.userGroup, saved.clinicName,\n            //                            saved.clinicId, saved.registered);\n            //   }\n            // }, null, true);\n            this.http.postBackendRefreshOAuthToken(\n              saved.refresh_token,\n              (success, data) => {\n                loader.dismissAll();\n                if (success) {\n                  this.internalPostLogin_new(data);\n                } else {\n                  this.logout();\n                }\n\n                callback(true);\n              },\n            );\n          });\n        }\n      });\n    }\n    /*    else {\n      this.storage.contains(\"user_info\", (c) => {\n        if (c) {\n          this.storage.fetch(\"user_info\", (saved) => {\n            // this.http.post(\"/check\", {key: saved.key}, [], (success, data) => {\n            //   callback(success && data.data)\n            // }, null, true);\n            this.http.getBackend(\"/rest/app/users/current\",[],(success, data) => {\n              callback(success)\n            },true);\n          });\n        }\n        else {\n          callback(false)\n        }\n      });\n    }*/\n  }\n\n  /**\n   * Logins with the mail and password and\n   * receives the authkey of the session.\n   * @param mail\n   * @param password\n   * @param callback\n   */\n  login(mail, password, callback) {\n    const loader = this.guiManager.showLoader(\"Einloggen...\", 60000);\n    //    const data = JSON.stringify({mail: mail, pass: password, pass2: password});\n    //    this.http.post(\"/login/*\", data, [], (success, data) => {\n    //    const data = JSON.stringify({name: mail, pass: password});\n    this.http.postBackendGetOAuthToken(mail, password, (success, data) => {\n      console.log(\"Loggin success: \", success);\n      console.log(\"Loggin response: \", data);\n      loader.dismissAll();\n      if (success) {\n        // this.storage.save('registration', 'login', _ => {\n        //   console.log(\"Registration status has been updated in storage to login\")\n        // });\n\n        callback(success);\n        //        if (data.success) {\n        //           if (this.loggedIn == true) {\n        //             this.logout();\n        //           }\n        //           const key        = data.data.key;\n        //           const isMedical  = data.data.medical;\n        //           const userGroup  = data.data.group;\n        //           const clinicName = data.data.clinicName;\n        //           const clinicId   = data.data.clinicId;\n        //           const registerd  = data.data.registered;\n\n        this.internalPostLogin_new(data);\n        //        }\n        // else {\n        //   const msg = data.data;\n        //   if (msg == \"wrong_pass\") {\n        //     this.guiManager.showToast(\"Das Passwort ist nicht korrekt!\", 5000);\n        //\n        //   }\n        //   if (msg == \"name_or_password_null\") {\n        //     this.guiManager.showToast(\"Es wurden nicht alle felder ausgefüllt\", 5000);\n        //   }\n        //   if (msg == \"empty_result\") {\n        //     this.guiManager.showToast(\"dies ist keine korrekte E-Mail Adresse\", 5000);\n        //   }\n        //\n        // }\n      } else {\n        const answer = JSON.parse(data._body);\n        this.guiManager.showPopupMessage(\n          \"Anmeldung nicht möglich\",\n          \"Bitte stellen Sie sicher, dass Ihr Handy über eine Internetverbindung verfügt und versuchen Sie es erneut.<br/><br/>Fehler: \" +\n            answer.message,\n        );\n        //this.guiManager.showPopupMessage(\"Unable to login\", \"Please ensure that your mobile has internet connection and retry.\\nError:\" + data);\n        callback(false);\n      }\n    });\n  }\n\n  /**\n   * Initialization of different components that need authentication\n   * @param key\n   * @param isMedical\n   * @param mail\n   * @param userGroup\n   * @param clinicName\n   * @param clinicId\n   * @param registered\n   */\n  private internalPostLogin(\n    key,\n    isMedical,\n    mail,\n    userGroup,\n    clinicName,\n    clinicId,\n    registered = null,\n  ) {\n    console.log(\n      \"This is internal post login message. Medical\",\n      isMedical,\n      \" User group: \",\n      userGroup,\n    );\n    console.log(\"The clinic name is: \" + clinicName);\n    console.log(\"The clinic id is : \" + clinicId);\n    console.log(\"The registered is : \" + registered);\n    console.info(\"showCalendarAfter is:\", Info.showCalendarAfter);\n    this.loggedIn = true;\n    this.key = key;\n    this.email = mail;\n    this.encodedEmailId = encodeURIComponent(btoa(this.email));\n    this.isMedical = isMedical;\n    this.userGroup = userGroup;\n    this.clinicName = clinicName;\n    if (registered != null) {\n      this.registered = new Date(registered);\n    } else {\n      this.registered = null;\n    }\n\n    this.guiManager.afterLogin(isMedical, userGroup);\n\n    if (Info.projectId == \"wzk\") {\n      if (\n        this.registered == null ||\n        Info.showCalendarAfter == null ||\n        (this.registered != null && this.registered < Info.showCalendarAfter) ||\n        clinicId != 115\n      ) {\n        // TODO: check this later!\n        // this.guiManager.removeByName(\"Anwendungen\", \"Terminplaner\");\n        // this.guiManager.removeTileByName(\"Terminplaner\");\n      }\n    }\n\n    this.fileManager.init(this.key, this.isMedical, mail, this.encodedEmailId);\n    this.otpProvider.checkOtpTestFile();\n    this.messageService.register(this.key);\n    this.checkinService.initWithAuthKey(this.key, this.encodedEmailId);\n    this.storage.contains(\"save\", (contains) => {\n      if (contains) {\n        this.storage.remove(\"save\", (_) => {\n          this.storage.save(\n            \"save\",\n            {\n              key: this.key,\n              name: mail,\n              medical: isMedical,\n              userGroup: userGroup,\n              clinicName: clinicName,\n              clinicId: clinicId,\n              registered: this.registered,\n            },\n            () => {},\n          );\n        });\n      } else {\n        this.storage.save(\n          \"save\",\n          {\n            key: this.key,\n            name: mail,\n            medical: isMedical,\n            userGroup: userGroup,\n            clinicName: clinicName,\n            clinicId: clinicId,\n            registered: registered,\n          },\n          () => {},\n        );\n      }\n    });\n  }\n\n  private internalPostLogin_new(\n    tokenInfo = [] /*, key, isMedical, mail, userGroup, clinicName, clinicId, registered = null*/,\n  ) {\n    const isMedical = false;\n    const userGroup = 0;\n\n    console.log(\n      \"This is NEW internal post login message. Medical\",\n      isMedical,\n      \" User group: \",\n      userGroup,\n    );\n\n    const userInfo = tokenInfo[\"user_info\"];\n    const currentUser = userInfo[\"current_user\"];\n    const clinicId = currentUser.clinic_id;\n\n    delete tokenInfo[\"user_info\"];\n\n    console.info(\"tokenInfo is: \");\n    console.info(tokenInfo);\n    console.info(\"current_user is: \");\n    console.info(currentUser);\n    // console.log(\"The clinic name is: \" + clinicName);\n    // console.log(\"The clinic id is : \" + clinicId);\n    // console.log(\"The registered is : \" + registered);\n    // console.info('showCalendarAfter is:', Info.showCalendarAfter);\n\n    this.userInfo = currentUser;\n    this.loggedIn = currentUser.id > 0;\n    this.key = userInfo[\"csrf_token\"];\n    this.email = currentUser.mail;\n    this.encodedEmailId = encodeURIComponent(btoa(this.email));\n    this.isMedical = isMedical;\n    this.userGroup = userGroup;\n    this.clinicName = currentUser.clinic_name;\n    if (currentUser.registered != null) {\n      this.registered = new Date(currentUser.registered);\n    } else {\n      this.registered = null;\n    }\n\n    this.storage.contains(\"user_info\", (contains) => {\n      if (contains) {\n        this.storage.remove(\"user_info\", (_) => {\n          this.storage.save(\"user_info\", currentUser, () => {});\n        });\n      } else {\n        this.storage.save(\"user_info\", currentUser, () => {});\n      }\n    });\n\n    // this.storage.contains(\"token_info\", (contains) => {\n    //   if (contains) {\n    //     this.storage.remove(\"token_info\", (_) => {\n    //       this.storage.save(\"token_info\", tokenInfo, () => {});\n    //     })\n    //   }\n    //   else {\n    //     this.storage.save(\"token_info\", tokenInfo, () => {});\n    //   }\n    // });\n\n    this.storage.save(\"token_info\", tokenInfo, () => {\n      this.guiManager.afterLogin(isMedical, userGroup);\n\n      if (Info.projectId == \"wzk\") {\n        if (\n          this.registered == null ||\n          Info.showCalendarAfter == null ||\n          (this.registered != null &&\n            this.registered < Info.showCalendarAfter) ||\n          clinicId != 115\n        ) {\n          //          this.guiManager.removeByName(\"Anwendungen\", \"Terminplaner\");\n          //          this.guiManager.removeTileByName(\"Terminplaner\");\n        }\n      }\n\n      this.fileManager.init(\n        this.key,\n        this.isMedical,\n        this.email,\n        this.encodedEmailId,\n      );\n      this.otpProvider.checkOtpTestFile();\n      this.messageService.register(this.key);\n      this.checkinService.initWithAuthKey(this.key, this.encodedEmailId);\n    });\n  }\n\n  /**\n   * Registers with user using the activation code/invitation number.\n   * @param email\n   * @param password\n   * @param passsword2\n   * @param code\n   * @param callback\n   */\n  registerWithInvitationNumber(email, password, passsword2, code, callback) {\n    const data = JSON.stringify({\n      key: code,\n      mail: email,\n      pass: password,\n      pass2: passsword2,\n    });\n    this.register(data, email, callback);\n  }\n\n  /**\n   * Registers the user using the Fallnummer and birthday.\n   * @param email\n   * @param password\n   * @param passsword2\n   * @param fallnummer\n   * @param birthday\n   * @param callback\n   */\n  registerWithFallnummer(\n    email,\n    password,\n    passsword2,\n    fallnummer,\n    birthday,\n    callback,\n  ) {\n    const data = JSON.stringify({\n      fallnummer: fallnummer,\n      birthday: birthday,\n      mail: email,\n      pass: password,\n      pass2: passsword2,\n    });\n    //    this.register(data, email, callback);\n    this.register_new(data, email, callback);\n  }\n\n  /**\n   * Registers the user.\n   * @param data\n   * @param email\n   * @param callback\n   */\n  // TODO: Deprecated method\n  register(data, email, callback) {\n    const loader = this.guiManager.showLoader(\"Registrieren...\", 60000);\n\n    this.http.post(\n      \"/create/*\",\n      data,\n      [],\n      (success, data) => {\n        loader.dismissAll();\n\n        if (success) {\n          callback(data.success);\n          if (data.success) {\n            const key = data.data.key;\n            const isMedical = data.data.medical;\n            const userGroup = data.data.userGroup;\n            const clinicName = data.data.clinicName;\n            const clinicId = data.data.clinicId;\n\n            this.internalPostLogin(\n              key,\n              isMedical,\n              email,\n              userGroup,\n              clinicName,\n              clinicId,\n            );\n          } else {\n            const msg = data.data;\n            if (msg == \"missing_arg\") {\n              this.guiManager.showToast(\"Wurden alle Felder ausgefüllt?\", 5000);\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Wurden alle Felder ausgefüllt?\",\n              );\n            }\n            if (msg == \"birthday_wrong_format\") {\n              this.guiManager.showToast(\"Fehler im Geburtstagsformat\", 5000);\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Bitte füllen Sie den Geburtstag im folgenden Format aus: TT.MM.JJJJJJ z.B. 31.12.1999\",\n              );\n            }\n            if (msg == \"unknown_patient_combination\") {\n              this.guiManager.showToast(\"Falsche Informationen\", 5000);\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Die von Ihnen angegebenen Informationen sind auf der Datenbank nicht vorhanden. Bitte überprüfen Sie, ob sie korrekt sind. Wenn der Fehler weiterhin besteht, kontaktieren Sie uns bitte.\",\n              );\n            }\n            if (msg == \"mail_taken\") {\n              this.guiManager.showToast(\n                \"Diese Email Adresse wurde bereits verwendet\",\n                5000,\n              );\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Diese Email Adresse wurde bereits verwendet\",\n              );\n            }\n            if (msg == \"invalid_result\") {\n              this.guiManager.showToast(\n                \"Der eingegebene Zugangscode ist nicht gültig!\",\n                5000,\n              );\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Der eingegebene Zugangscode ist nicht gültig!\",\n              );\n            }\n            if (msg == \"alrdy_confirmed\") {\n              this.guiManager.showToast(\n                \"Dieser Schlüssel wurde bereits benutzt!\",\n                5000,\n              );\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Dieser Schlüssel wurde bereits benutzt!\",\n              );\n            }\n            if (msg == \"pass_not_same\") {\n              this.guiManager.showToast(\n                \"Dies´angebenen Passworter stimment nicht überrein!\",\n                5000,\n              );\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Dies´angebenen Passworter stimment nicht überrein!\",\n              );\n            }\n            if (msg == \"empty_vals\") {\n              this.guiManager.showToast(\n                \"Einiege Felder wurden nicht ausgefüllt!\",\n                5000,\n              );\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Einiege Felder wurden nicht ausgefüllt!\",\n              );\n            }\n            if (msg == \"db_err\") {\n              this.guiManager.showToast(\n                \"Es ist ein Interner Fehler aufgetreten, bitte versuche es später erneut! db_err\",\n                5000,\n              );\n              this.guiManager.showPopupMessage(\n                \"Fehler\",\n                \"Es ist ein Interner Fehler aufgetreten, bitte versuche es später erneut! db_err\",\n              );\n            }\n          }\n        } else {\n          //TODO handle error messages\n          callback(false);\n          this.guiManager.showPopupMessage(\n            \"Fehler\",\n            \"Es ist ein Fehler aufgetreten. Möglicherweise gibt es keine Internetverbindung. \\nWeitere Informationen siehe unten: \" +\n              JSON.stringify(data),\n          );\n        }\n      },\n      null,\n      true,\n    );\n  }\n\n  /**\n   * Send request for register user to backend.\n   *\n   * @param data\n   * @param email\n   * @param callback\n   */\n  register_new(data, email, callback) {\n    const loader = this.guiManager.showLoader(\"Registrieren...\", 60000);\n\n    this.http.postBackend(\n      \"/rest/app/users/register\",\n      data,\n      [],\n      (success, data) => {\n        loader.dismissAll();\n        if (success) {\n          this.guiManager.showPopupMessage(\n            \"Ihre Registrierung war erfolgreich\",\n            \"Bitte machen Sie weiter mit Login\",\n          );\n          console.info(\"yess go to login form\");\n          // this.navCtrl.setRoot(\"LoginPage\");\n          // this.navCtrl.push(\"LoginPage\");\n\n          return;\n        }\n        console.info(\"success is: \" + success);\n        console.info(\"data is:\");\n        console.info(data);\n        const answer = JSON.parse(data[\"_body\"]);\n        console.info(\"answer is:\");\n        console.info(answer);\n        if (success) {\n          this.guiManager.showPopupMessage(\"yesss1\", \"its ok !!!!!!!!!!\");\n          console.info(\"yess go to login form\");\n\n          // return;\n        }\n        if (success) {\n          this.guiManager.showToast(\"Its ok !!!!!!\", 5000);\n          // return;\n\n          callback(success);\n\n          // if (data.success) {\n          //   const key = data.data.key;\n          //   const isMedical = data.data.medical;\n          //   const userGroup = data.data.userGroup;\n          //   const clinicName = data.data.clinicName;\n          //   const clinicId = data.data.clinicId;\n\n          //   this.guiManager.showPopupMessage(\"yesss\", \"its ok !!!!!!!!!!\");\n\n          //   this.internalPostLogin(\n          //     key,\n          //     isMedical,\n          //     email,\n          //     userGroup,\n          //     clinicName,\n          //     clinicId,\n          //   );\n          // }\n\n          // else {\n          //   const msg = data.data;\n          //   if (msg == \"missing_arg\") {\n          //     this.guiManager.showToast(\"Wurden alle Felder ausgefüllt?\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Wurden alle Felder ausgefüllt?\");\n          //\n          //   }\n          //   if (msg == \"birthday_wrong_format\") {\n          //     this.guiManager.showToast(\"Fehler im Geburtstagsformat\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Bitte füllen Sie den Geburtstag im folgenden Format aus: TT.MM.JJJJJJ z.B. 31.12.1999\");\n          //   }\n          //   if (msg == \"unknown_patient_combination\") {\n          //     this.guiManager.showToast(\"Falsche Informationen\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Die von Ihnen angegebenen Informationen sind auf der Datenbank nicht vorhanden. Bitte überprüfen Sie, ob sie korrekt sind. Wenn der Fehler weiterhin besteht, kontaktieren Sie uns bitte.\");\n          //   }\n          //   if (msg == \"mail_taken\") {\n          //     this.guiManager.showToast(\"Diese Email Adresse wurde bereits verwendet\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Diese Email Adresse wurde bereits verwendet\");\n          //   }\n          //   if (msg == \"invalid_result\") {\n          //     this.guiManager.showToast(\"Der eingegebene Zugangscode ist nicht gültig!\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Der eingegebene Zugangscode ist nicht gültig!\");\n          //   }\n          //   if (msg == \"alrdy_confirmed\") {\n          //     this.guiManager.showToast(\"Dieser Schlüssel wurde bereits benutzt!\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Dieser Schlüssel wurde bereits benutzt!\");\n          //   }\n          //   if (msg == \"pass_not_same\") {\n          //     this.guiManager.showToast(\"Dies´angebenen Passworter stimment nicht überrein!\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Dies´angebenen Passworter stimment nicht überrein!\");\n          //\n          //   }\n          //   if (msg == \"empty_vals\") {\n          //     this.guiManager.showToast(\"Einiege Felder wurden nicht ausgefüllt!\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Einiege Felder wurden nicht ausgefüllt!\");\n          //\n          //   }\n          //   if (msg == \"db_err\") {\n          //     this.guiManager.showToast(\"Es ist ein Interner Fehler aufgetreten, bitte versuche es später erneut! db_err\", 5000);\n          //     this.guiManager.showPopupMessage(\"Fehler\",\"Es ist ein Interner Fehler aufgetreten, bitte versuche es später erneut! db_err\");\n          //\n          //   }\n          // }\n        } else {\n          const answer = JSON.parse(data[\"_body\"]);\n          callback(false);\n          this.guiManager.showPopupMessage(\n            \"Fehler\",\n            \"Es ist ein Fehler aufgetreten. Weitere Informationen siehe unten: <b>\" +\n              answer.message +\n              \"</b>\",\n          );\n        }\n      },\n      null,\n      true,\n    );\n  }\n\n  /**\n   * Logs out the user.\n   */\n  logout() {\n    const me = this;\n    this.clinicName = \"\";\n    this.fileManager.clear();\n    this.guiManager.afterLogout(this.isMedical, this.userGroup);\n    this.loggedIn = false;\n    this.userInfo = [];\n\n    this.storage.contains(\"user_info\", (contains) => {\n      if (contains) {\n        this.storage.remove(\"user_info\", (_) => {\n          me.storage.contains(\n            this.encodedEmailId + \"saved-file-ids\",\n            (contains) => {\n              if (contains) {\n                me.storage.remove(\n                  this.encodedEmailId + \"saved-file-ids\",\n                  (_) => {},\n                );\n              }\n            },\n          );\n        });\n      }\n    });\n\n    this.storage.contains(\"token_info\", (contains) => {\n      if (contains) {\n        this.storage.remove(\"token_info\", (_) => {});\n      }\n    });\n\n    console.debug(\"User is logged out\");\n  }\n\n  /**\n   * Requests a password reset.\n   * @param mail\n   * @param callback\n   */\n  public requestPasswordReset(mail, callback) {\n    this.http.get(\n      \"/reset/request/\" + encodeURIComponent(btoa(mail)),\n      [],\n      (success, data) => {\n        callback(data.success);\n        if (data.success) this.resetSaveMail = mail;\n      },\n      true,\n    );\n  }\n\n  get isLoggedIn() {\n    return this.loggedIn;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-manager/auth-manager.ts","import { BrowserModule } from \"@angular/platform-browser\";\nimport { ErrorHandler, NgModule } from \"@angular/core\";\nimport { IonicApp, IonicErrorHandler, IonicModule } from \"ionic-angular\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\nimport { StatusBar } from \"@ionic-native/status-bar\";\nimport { MyApp } from \"./app.component\";\nimport { HomePage } from \"../pages/home/home\";\nimport { AuthManagerProvider } from \"../providers/auth-manager/auth-manager\";\nimport { GuiManagerProvider } from \"../providers/gui-manager/gui-manager\";\nimport { StorageManagerProvider } from \"../providers/storage-manager/storage-manager\";\nimport { IonicStorageModule } from \"@ionic/storage\";\nimport { CheckinServiceProvider } from \"../providers/checkin-service/checkin-service\";\nimport { ApiProvider } from \"../providers/api/api\";\nimport { TouchManagerProvider } from \"../providers/touch-manager/touch-manager\";\nimport { TouchID } from \"@ionic-native/touch-id\";\nimport { AndroidFingerprintAuth } from \"@ionic-native/android-fingerprint-auth\";\nimport { OtpProvider } from \"../providers/otp/otp\";\nimport { File } from \"@ionic-native/file\";\nimport { FileManagerProvider } from \"../providers/file-manager/file-manager\";\nimport { ElectronProvider } from \"../providers/electron/electron\";\nimport { FileOpener } from \"@ionic-native/file-opener\";\nimport { ModalContentPage } from \"../pages/food-card/modal-box.page\";\nimport { NgCalendarModule } from \"ionic2-calendar\";\nimport { Geolocation } from \"@ionic-native/geolocation\";\nimport { InAppBrowser } from \"@ionic-native/in-app-browser\";\nimport { DrawProvider } from \"../providers/draw/draw\";\nimport { MessagesProvider } from \"../providers/messages/messages\";\nimport { DebuggerProvider } from \"../providers/debugger/debugger\";\nimport { Calendar } from \"@ionic-native/calendar\";\nimport { CalendarProvider } from \"../providers/calendar/calendarProvider\";\nimport { FileChooser } from \"@ionic-native/file-chooser\";\nimport { FilePath } from \"@ionic-native/file-path\";\nimport { IOSFilePicker } from \"@ionic-native/file-picker\";\nimport { BackgroundFetch } from \"@ionic-native/background-fetch\";\nimport { PhonegapLocalNotification } from \"@ionic-native/phonegap-local-notification\";\nimport { Firebase } from \"@ionic-native/firebase\";\nimport { PlatformManagerProvider } from \"../providers/platform-manager/platform-manager\";\nimport { LinkManagerProvider } from \"../providers/link-manager/link-manager\";\nimport { ActivityTrackerProvider } from \"../providers/activity-tracker/activity-tracker\";\nimport { FormManagerProvider } from \"../providers/form-manager/form-manager\";\nimport { AngularFireModule } from \"@angular/fire\";\nimport { AngularFireAuthModule } from \"@angular/fire/auth\";\nimport { environment } from \"../environments/environment\";\nimport { HttpModule } from \"@angular/http\";\nimport { SimpleTextModalPage } from \"../pages/simple-text-modal/simple-text-modal\";\nimport { NutzungsbedingungenModalPage } from \"../pages/Nutzungsbedingungen/nutzungsbedingungen-modal\";\nimport { DatenschutzerklaerungModalPage } from \"../pages/Datenschutzerklarung/datenschutzerklaerung-modal\";\nimport { helpModalPage } from \"../pages/help/help-modal\";\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    ModalContentPage,\n    SimpleTextModalPage,\n    NutzungsbedingungenModalPage,\n    DatenschutzerklaerungModalPage,\n    helpModalPage,\n  ],\n  imports: [\n    BrowserModule,\n    NgCalendarModule,\n\n    IonicModule.forRoot(MyApp, {\n      backButtonText: \"Zurück\",\n      scrollAssist: false,\n      autoFocusAssist: false,\n    }),\n    IonicStorageModule.forRoot({\n      name: \"__mydb\",\n      driverOrder: [\"sqlite\", \"websql\", \"indexeddb\", \"localstorage\"],\n    }),\n    HttpModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireAuthModule,\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    ModalContentPage,\n    SimpleTextModalPage,\n    NutzungsbedingungenModalPage,\n    DatenschutzerklaerungModalPage,\n    helpModalPage,\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n\n    AuthManagerProvider,\n    GuiManagerProvider,\n    StorageManagerProvider,\n    CheckinServiceProvider,\n    ApiProvider,\n    TouchManagerProvider,\n    TouchID,\n    AndroidFingerprintAuth,\n    OtpProvider,\n    File,\n    FileManagerProvider,\n    ElectronProvider,\n    FileOpener,\n    Geolocation,\n    InAppBrowser,\n    DrawProvider,\n    MessagesProvider,\n    DebuggerProvider,\n    Calendar,\n    CalendarProvider,\n    FileChooser,\n    IOSFilePicker,\n    FilePath,\n    BackgroundFetch,\n    PhonegapLocalNotification,\n    Firebase,\n    PlatformManagerProvider,\n    LinkManagerProvider,\n    ActivityTrackerProvider,\n    FormManagerProvider,\n  ],\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var map = {\n\t\"./af\": 258,\n\t\"./af.js\": 258,\n\t\"./ar\": 259,\n\t\"./ar-dz\": 260,\n\t\"./ar-dz.js\": 260,\n\t\"./ar-kw\": 261,\n\t\"./ar-kw.js\": 261,\n\t\"./ar-ly\": 262,\n\t\"./ar-ly.js\": 262,\n\t\"./ar-ma\": 263,\n\t\"./ar-ma.js\": 263,\n\t\"./ar-sa\": 264,\n\t\"./ar-sa.js\": 264,\n\t\"./ar-tn\": 265,\n\t\"./ar-tn.js\": 265,\n\t\"./ar.js\": 259,\n\t\"./az\": 266,\n\t\"./az.js\": 266,\n\t\"./be\": 267,\n\t\"./be.js\": 267,\n\t\"./bg\": 268,\n\t\"./bg.js\": 268,\n\t\"./bm\": 269,\n\t\"./bm.js\": 269,\n\t\"./bn\": 270,\n\t\"./bn-bd\": 271,\n\t\"./bn-bd.js\": 271,\n\t\"./bn.js\": 270,\n\t\"./bo\": 272,\n\t\"./bo.js\": 272,\n\t\"./br\": 273,\n\t\"./br.js\": 273,\n\t\"./bs\": 274,\n\t\"./bs.js\": 274,\n\t\"./ca\": 275,\n\t\"./ca.js\": 275,\n\t\"./cs\": 276,\n\t\"./cs.js\": 276,\n\t\"./cv\": 277,\n\t\"./cv.js\": 277,\n\t\"./cy\": 278,\n\t\"./cy.js\": 278,\n\t\"./da\": 279,\n\t\"./da.js\": 279,\n\t\"./de\": 280,\n\t\"./de-at\": 281,\n\t\"./de-at.js\": 281,\n\t\"./de-ch\": 282,\n\t\"./de-ch.js\": 282,\n\t\"./de.js\": 280,\n\t\"./dv\": 283,\n\t\"./dv.js\": 283,\n\t\"./el\": 284,\n\t\"./el.js\": 284,\n\t\"./en-au\": 285,\n\t\"./en-au.js\": 285,\n\t\"./en-ca\": 286,\n\t\"./en-ca.js\": 286,\n\t\"./en-gb\": 287,\n\t\"./en-gb.js\": 287,\n\t\"./en-ie\": 288,\n\t\"./en-ie.js\": 288,\n\t\"./en-il\": 289,\n\t\"./en-il.js\": 289,\n\t\"./en-in\": 290,\n\t\"./en-in.js\": 290,\n\t\"./en-nz\": 291,\n\t\"./en-nz.js\": 291,\n\t\"./en-sg\": 292,\n\t\"./en-sg.js\": 292,\n\t\"./eo\": 293,\n\t\"./eo.js\": 293,\n\t\"./es\": 294,\n\t\"./es-do\": 295,\n\t\"./es-do.js\": 295,\n\t\"./es-mx\": 296,\n\t\"./es-mx.js\": 296,\n\t\"./es-us\": 297,\n\t\"./es-us.js\": 297,\n\t\"./es.js\": 294,\n\t\"./et\": 298,\n\t\"./et.js\": 298,\n\t\"./eu\": 299,\n\t\"./eu.js\": 299,\n\t\"./fa\": 300,\n\t\"./fa.js\": 300,\n\t\"./fi\": 301,\n\t\"./fi.js\": 301,\n\t\"./fil\": 302,\n\t\"./fil.js\": 302,\n\t\"./fo\": 303,\n\t\"./fo.js\": 303,\n\t\"./fr\": 304,\n\t\"./fr-ca\": 305,\n\t\"./fr-ca.js\": 305,\n\t\"./fr-ch\": 306,\n\t\"./fr-ch.js\": 306,\n\t\"./fr.js\": 304,\n\t\"./fy\": 307,\n\t\"./fy.js\": 307,\n\t\"./ga\": 308,\n\t\"./ga.js\": 308,\n\t\"./gd\": 309,\n\t\"./gd.js\": 309,\n\t\"./gl\": 310,\n\t\"./gl.js\": 310,\n\t\"./gom-deva\": 311,\n\t\"./gom-deva.js\": 311,\n\t\"./gom-latn\": 312,\n\t\"./gom-latn.js\": 312,\n\t\"./gu\": 313,\n\t\"./gu.js\": 313,\n\t\"./he\": 314,\n\t\"./he.js\": 314,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 316,\n\t\"./hr.js\": 316,\n\t\"./hu\": 317,\n\t\"./hu.js\": 317,\n\t\"./hy-am\": 318,\n\t\"./hy-am.js\": 318,\n\t\"./id\": 319,\n\t\"./id.js\": 319,\n\t\"./is\": 320,\n\t\"./is.js\": 320,\n\t\"./it\": 321,\n\t\"./it-ch\": 322,\n\t\"./it-ch.js\": 322,\n\t\"./it.js\": 321,\n\t\"./ja\": 323,\n\t\"./ja.js\": 323,\n\t\"./jv\": 324,\n\t\"./jv.js\": 324,\n\t\"./ka\": 325,\n\t\"./ka.js\": 325,\n\t\"./kk\": 326,\n\t\"./kk.js\": 326,\n\t\"./km\": 327,\n\t\"./km.js\": 327,\n\t\"./kn\": 328,\n\t\"./kn.js\": 328,\n\t\"./ko\": 329,\n\t\"./ko.js\": 329,\n\t\"./ku\": 330,\n\t\"./ku.js\": 330,\n\t\"./ky\": 331,\n\t\"./ky.js\": 331,\n\t\"./lb\": 332,\n\t\"./lb.js\": 332,\n\t\"./lo\": 333,\n\t\"./lo.js\": 333,\n\t\"./lt\": 334,\n\t\"./lt.js\": 334,\n\t\"./lv\": 335,\n\t\"./lv.js\": 335,\n\t\"./me\": 336,\n\t\"./me.js\": 336,\n\t\"./mi\": 337,\n\t\"./mi.js\": 337,\n\t\"./mk\": 338,\n\t\"./mk.js\": 338,\n\t\"./ml\": 339,\n\t\"./ml.js\": 339,\n\t\"./mn\": 340,\n\t\"./mn.js\": 340,\n\t\"./mr\": 341,\n\t\"./mr.js\": 341,\n\t\"./ms\": 342,\n\t\"./ms-my\": 343,\n\t\"./ms-my.js\": 343,\n\t\"./ms.js\": 342,\n\t\"./mt\": 344,\n\t\"./mt.js\": 344,\n\t\"./my\": 345,\n\t\"./my.js\": 345,\n\t\"./nb\": 346,\n\t\"./nb.js\": 346,\n\t\"./ne\": 347,\n\t\"./ne.js\": 347,\n\t\"./nl\": 348,\n\t\"./nl-be\": 349,\n\t\"./nl-be.js\": 349,\n\t\"./nl.js\": 348,\n\t\"./nn\": 350,\n\t\"./nn.js\": 350,\n\t\"./oc-lnc\": 351,\n\t\"./oc-lnc.js\": 351,\n\t\"./pa-in\": 352,\n\t\"./pa-in.js\": 352,\n\t\"./pl\": 353,\n\t\"./pl.js\": 353,\n\t\"./pt\": 354,\n\t\"./pt-br\": 355,\n\t\"./pt-br.js\": 355,\n\t\"./pt.js\": 354,\n\t\"./ro\": 356,\n\t\"./ro.js\": 356,\n\t\"./ru\": 357,\n\t\"./ru.js\": 357,\n\t\"./sd\": 358,\n\t\"./sd.js\": 358,\n\t\"./se\": 359,\n\t\"./se.js\": 359,\n\t\"./si\": 360,\n\t\"./si.js\": 360,\n\t\"./sk\": 361,\n\t\"./sk.js\": 361,\n\t\"./sl\": 362,\n\t\"./sl.js\": 362,\n\t\"./sq\": 363,\n\t\"./sq.js\": 363,\n\t\"./sr\": 364,\n\t\"./sr-cyrl\": 365,\n\t\"./sr-cyrl.js\": 365,\n\t\"./sr.js\": 364,\n\t\"./ss\": 366,\n\t\"./ss.js\": 366,\n\t\"./sv\": 367,\n\t\"./sv.js\": 367,\n\t\"./sw\": 368,\n\t\"./sw.js\": 368,\n\t\"./ta\": 369,\n\t\"./ta.js\": 369,\n\t\"./te\": 370,\n\t\"./te.js\": 370,\n\t\"./tet\": 371,\n\t\"./tet.js\": 371,\n\t\"./tg\": 372,\n\t\"./tg.js\": 372,\n\t\"./th\": 373,\n\t\"./th.js\": 373,\n\t\"./tk\": 374,\n\t\"./tk.js\": 374,\n\t\"./tl-ph\": 375,\n\t\"./tl-ph.js\": 375,\n\t\"./tlh\": 376,\n\t\"./tlh.js\": 376,\n\t\"./tr\": 377,\n\t\"./tr.js\": 377,\n\t\"./tzl\": 378,\n\t\"./tzl.js\": 378,\n\t\"./tzm\": 379,\n\t\"./tzm-latn\": 380,\n\t\"./tzm-latn.js\": 380,\n\t\"./tzm.js\": 379,\n\t\"./ug-cn\": 381,\n\t\"./ug-cn.js\": 381,\n\t\"./uk\": 382,\n\t\"./uk.js\": 382,\n\t\"./ur\": 383,\n\t\"./ur.js\": 383,\n\t\"./uz\": 384,\n\t\"./uz-latn\": 385,\n\t\"./uz-latn.js\": 385,\n\t\"./uz.js\": 384,\n\t\"./vi\": 386,\n\t\"./vi.js\": 386,\n\t\"./x-pseudo\": 387,\n\t\"./x-pseudo.js\": 387,\n\t\"./yo\": 388,\n\t\"./yo.js\": 388,\n\t\"./zh-cn\": 389,\n\t\"./zh-cn.js\": 389,\n\t\"./zh-hk\": 390,\n\t\"./zh-hk.js\": 390,\n\t\"./zh-mo\": 391,\n\t\"./zh-mo.js\": 391,\n\t\"./zh-tw\": 392,\n\t\"./zh-tw.js\": 392\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 605;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 605\n// module chunks = 35","export class File {\n  name: string;\n  date:string;\n  isDirectory: boolean;\n  parent:File;\n  downloaded:boolean;\n  type:string;\n\n  rawLink:string;\n\n  isRoot:boolean = false;\n\n  childrenFiles: File[];\n\n  siteCount:number;\n  hashcode:string;\n  fileId:string;\n  canOpen:boolean;\n  links:any[];\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/file-manager/file.modal.ts","import {Condition, Node, Rule} from \"../checkin-service/checkin.modals\";\nimport {StorageManagerProvider} from \"../storage-manager/storage-manager\";\nimport {isString} from \"ionic-angular/util/util\";\n\nexport class WebForm {\n    private counter = 0;\n    public presetData: Node[] = null;\n    public accountId: string = \"\";\n    public formId: string = \"\";\n\n    constructor(accountId, formId, private storageProvider: StorageManagerProvider) {\n        this.accountId = accountId;\n        this.formId = formId;\n    }\n\n    public saveDataToStorage(callback) {\n        this.storageProvider.save(this.accountId + \"form_custom_data\" + this.formId, this.presetData, () => {\n//      console.log(\"Saving the form custom data :\", this.presetData, \"under the: \", this.accountId + \"form_custom_data\" + this.formId);\n            callback()\n        });\n    }\n\n    public retrieveSavedDataAndMerge(callback) {\n        if (this.presetData != null) {\n            this.storageProvider.contains(this.accountId + \"form_custom_data\" + this.formId, (nodeDataContains) => {\n                //console.log(\"Custome data contains response: \", nodeDataContains);\n//        console.log(\"Checking for custom data of the form... Found: \", nodeDataContains);\n                if (nodeDataContains) {\n                    this.storageProvider.fetch(this.accountId + \"form_custom_data\" + this.formId, (nodeDataResponse) => {\n//            console.log(\"Checking for custom data of the form... The data are: \", nodeDataResponse);\n                        //this.guiManager.showToast(\"Contains custom data, merging nodes...\", 2000);\n                        //console.log(\"Saved custom data fetched:\", nodeDataResponse);\n                        this.presetData = this.mergeNodeState(this.presetData, nodeDataResponse);\n                        callback(true);\n                    })\n                } else {\n//          console.log(\"custom data aren't in the device\", nodeDataContains);\n                    callback(false);\n                }\n            });\n        } else {\n            callback(false)\n        }\n\n    }\n\n    parse(backendContent, callback = (form: WebForm) => {\n    }) {\n        const parseContent = (content) => {\n            //this.guiManager.showToast(\"Received form-data from the backend...\", 1000);\n            let hash = WebForm.hashFormFields(JSON.stringify(content));\n//      console.log(\"Hash of the form: \", hash);\n            const next = () => {\n                //this.guiManager.showToast(\"Inside next function...\", 1000);\n                const nodes: Node[] = [];\n                const keys = Object.keys(content.Objects.FormDef.NFormDefAttribute.FormDefAttribute);\n                console.info(keys);\n                // for (let i = 0; i < keys.length; i++) {\n                //   if (!keys[i].startsWith(\"#\")) {\n                //     nodes.push(this.parseNode(keys[i], content[keys[i]]))\n                //   }\n                // }\n\n                console.log(\"parse function, fetch: Checkin loader should be off now\");\n                content.Objects.FormDef.NFormDefAttribute.FormDefAttribute.forEach(xmlNode => {\n//          console.info(xmlNode);\n                    this.parseNodeNew(xmlNode, nodes);\n                })\n\n                console.log(\"nodes are: \", nodes);\n\n                console.log(\"this is test\", nodes[1].children[3].title)\n\n                function findJsonObjectByTitle(arr, targetTitle) {\n                    for (let i = 0; i < arr.length; i++) {\n                        const obj = arr[i];\n\n                        if (targetTitle.indexOf(obj.title) > -1) {\n                            return obj;\n                        }\n\n                        if (obj.children && obj.children.length > 0) {\n                            const nestedObject = findJsonObjectByTitle(obj.children, targetTitle);\n                            if (nestedObject) {\n                                return nestedObject;\n                            }\n                        }\n                    }\n\n                    return null;\n                }\n\n                const targetTitle = ['Möchten Sie uns noch weitere Informationen zu Ihrer Schmerzbeschreibung geben?','Gab es akute Ereignisse, die zu den Beeinträchtigungen geführt haben (z. B. Unfälle?)'];\n\n                for (let target = 0; target < targetTitle.length; target++) {\n                    const jsonObject = findJsonObjectByTitle(nodes, targetTitle);\n                    if (jsonObject && targetTitle[target] === \"Möchten Sie uns noch weitere Informationen zu Ihrer Schmerzbeschreibung geben?\") {\n                        jsonObject.title = 'Sonstiges und Anmerkungenzur Schmerzanammase';\n                    }\n                    else if (jsonObject && targetTitle[target] === \"Gab es akute Ereignisse, die zu den Beeinträchtigungen geführt haben (z. B. Unfälle?)\"){\n                        jsonObject.style = true\n                    }\n                }\n\n                this.remakeNodeArray(nodes);\n                this.presetData = nodes;\n                callback(this);\n                this.counter = 0;\n            };\n\n            this.storageProvider.contains(this.accountId + \"form_hash\" + this.formId, (contains) => {\n                if (contains) {\n                    this.storageProvider.fetch(this.accountId + \"form_hash\" + this.formId, (previousHash) => {\n                        if (previousHash != hash) {\n//              console.log(\"Hash of the form is different. Clearing checkin data from cache.\");\n                            this.storageProvider.save(this.accountId + \"form_hash\" + this.formId, hash, () => {\n//                console.log(\"Hash of the form has been saved in the cache.\");\n                                this.removeCache(() => {\n                                    next();\n                                });\n                            });\n                        } else {\n//              console.log(\"Hash of the form is correct. The data should load soon.\");\n                            next();\n                        }\n                    });\n                } else {\n//          console.log(\"There is no hash of the form in cache. Clearing checkin data from cache\");\n                    this.storageProvider.save(this.accountId + \"form_hash\" + this.formId, hash, () => {\n//            console.log(\"Hash of the form has been saved in the cache.\");\n                        this.removeCache(() => {\n                            next();\n                        });\n                    });\n                }\n            });\n        };\n\n//  TODO:  parseContent(backendContent);\n        callback(this);\n\n        const fetch = () => {\n            console.info(backendContent);\n            if (backendContent == null) {\n                // this.http.get(this.linkManager.getWebformAsHalJSON()).map(res => res.json()).subscribe(content => {\n                //   console.log(\"Content received by the backend: \", content);\n                //   this.backendContent = content;\n                //   parseContent(content);\n                // });\n            } else {\n                console.log(\"Backend content are already retrieved: \", backendContent);\n                parseContent(backendContent);\n            }\n        };\n\n\n        // this.storageProvider.contains(this.encodedEmailId + \"form_data\", (contains) => {\n        //   if (contains) {\n        //     console.log(\"Restoring checkin data...\");\n        //     this.storageProvider.fetch(this.encodedEmailId + \"form_data\", (response) => {\n        //       //this.savedData = response;\n        //       console.log(\"Saved\", response);\n        //       fetch();\n        //     })\n        //   }\n        //   else {\n        //     fetch();\n        //   }\n        // })\n        fetch();\n    }\n\n    private remakeNodeArray(nodes: Node[]): void {\n        const newNode = nodes;\n        const removeValFromIndex = [ 10, 11, 12];\n        for (var i = removeValFromIndex.length - 1; i >= 0; i--) {\n            newNode.splice(removeValFromIndex[i], 1);\n        }\n        console.log(newNode)\n        this.presetData = newNode\n    }\n\n    private parseNodeNew(content, nodes: Node[]): Node {\n        this.counter++;\n\n        let node = null;\n\n//    console.info(content);\n        /*    const title        = content.AnswerDesc;\n            const type = content.ControlType;\n            const id = content.AnswerId;\n\n        //    console.info(content);\n        */\n        let Group = this.getNodebyValue(content.GroupId, 'GroupId', nodes);\n        if (Group == null) {\n            Group = new Node(content.GroupId, content.GroupDesc, 'group', content.GroupId);\n            Group.addField('GroupId', content['GroupId']);\n            nodes.push(Group);\n        }\n\n        let Question = this.getNodebyValue(content.QuestionId, 'QuestionId', Group.children);\n        if (Question == null) {\n            Question = new Node(content.QuestionId, content.QuestionDesc, 'fieldset', content.QuestionId);\n            Question.addField('GroupId', content['GroupId']);\n            Question.addField('QuestionId', content['QuestionId']);\n            Group.children.push(Question);\n        }\n\n        let title = content.AnswerDesc;\n\n        // Grouping all radio buttons from Question\n        if (content.ControlType == 'RadioButton') {\n//      console.info(content);\n            title = content.QuestionDesc;\n            let Answer = this.getNodebyValue(content.QuestionId + 'radios', 'AnswerId', Question.children);\n            if (Answer == null) {\n                Answer = new Node(content.AnswerId, title, 'radios', content.AnswerId);\n\n                Answer.addField('GroupId', content.GroupId);\n                Answer.addField('QuestionId', content.QuestionId);\n                Answer.addField('AnswerId', content.QuestionId + 'radios');\n\n                Answer.addField(\"values\", [content.AnswerDesc]);\n                Answer.addField(\"answers\", [content.AnswerId]);\n\n                Question.children.push(Answer);\n//        console.info('New radio created');\n            } else {\n                let values = Answer.getField(\"values\");\n                values.push(content.AnswerDesc)\n                Answer.updateValue(\"values\", values);\n\n                let answers = Answer.getField(\"answers\");\n                answers.push(content.AnswerId);\n                Answer.updateValue(\"answers\", answers);\n\n//        console.info('Radio updated');\n            }\n\n//      console.info(Answer);\n        } else {\n            let Answer = this.getNodebyValue(content.AnswerId, 'AnswerId', Question.children);\n            if (Answer == null) {\n                // Preprocessing nodes.\n                if (content.ControlType == 'List') {\n                    title = content.NColumn.Column.ColumnHeader;\n                } else if (content.ControlType == 'Memo') {\n//          console.info(content.QuestionDesc == content.AnswerDesc, 'Titles equal');\n                    if (content.QuestionDesc == content.AnswerDesc) {\n                        title = '';\n                    }\n                }\n\n                Answer = new Node(content.AnswerId, title, content.ControlType, content.AnswerId);\n\n                // Postprocessing nodes.\n                Answer.addField('GroupId', content.GroupId);\n                Answer.addField('QuestionId', content.QuestionId);\n                Answer.addField('AnswerId', content.AnswerId);\n\n                if (content.ControlType == 'Checkbox') {\n                    Answer.addField(\"values\", [{val: content.AnswerDesc, ref: false}]);\n                } else if (content.ControlType == 'RadioButton') {\n                    Answer.addField(\"values\", [content.AnswerDesc]);\n                } else if (content.ControlType == 'List') {\n                    let values = [];\n                    content.NColumn.Column.NColumnItem.ColumnItem.forEach(value => {\n                        values.push(value);\n                    })\n                    Answer.addField(\"values\", values);\n                    if (title != content.AnswerDesc) {\n                        Answer.addField(\"description\", content.AnswerDesc);\n                    }\n                } else if (content.ControlType == 'Float') {\n                    if (content.Unit != null) {\n                        Answer.addField(\"suffix\", content.Unit);\n                    }\n                } else if (content.ControlType == 'Memo') {\n//          console.info(content);\n//          Answer.addField(\"text\", [content.AnswerDesc]);\n//          console.info(Answer);\n                }\n\n                this.checkPrivateData(Answer, content);\n\n//        console.info(Answer);\n                Question.children.push(Answer);\n            }\n        }\n        return node;\n    }\n\n    public getNodebyValue(value, searchField, nodes: Node[]): Node {\n        let found = false;\n        let node = null;\n\n        const next = (items) => {\n            items.forEach(currNode => {\n                if (currNode.getField(searchField) == value) {\n                    found = true;\n                    node = currNode;\n                }\n                if (!found) {\n                    next(currNode.children);\n                }\n            });\n        }\n\n        next(nodes);\n\n        return node;\n    }\n\n    private parseNode(parentName, content): Node {\n        this.counter++;\n        // if (content[\"#type\"] == \"webform_signature\") {\n        //   return this.drawNode(content)\n        // }\n//    console.info('parsing for ', content);\n        const contentKeys = Object.keys(content);\n        const type = content[\"#type\"] == \"webform_signature\" ? \"canvas\" : content[\"#type\"];\n        const name = content[\"#title\"];\n        const node = new Node(parentName, name, type, content[\"#webform_id\"]);\n//    Node(\"canvas_field\", content['#title'], \"canvas\", \"draw_canvas\")\n        for (let i = 0; i < contentKeys.length; i++) {\n            const current = contentKeys[i];\n            if (!current.startsWith(\"#\")) {\n                const newNode: Node = this.parseNode(current, content[current]);\n                //newNode.parent = node;\n                if (content[current][\"#webform_multiple\"] && content[current][\"#webform_id\"] != \"checkin_2--an_welchen_erkrankungen_leiden_bzw_litten_sie_ausserdem_1\") {\n                    newNode.selfMultiply = true;\n                    node.canMultiply = true;\n                }\n                node.children.push(newNode);\n            }\n        }\n\n        // if (content[\"#other__option_label\"] != null) {\n        //   node.addField(\"placeholder\", content[\"#other__placeholder\"])\n        // }\n        if (content[\"#other__placeholder\"] != null) {\n            node.addField(\"placeholder\", content[\"#other__placeholder\"])\n        } else {\n            node.addField(\"placeholder\", '');\n        }\n\n        if (content[\"#other__field_prefix\"] != null) {\n            node.addField(\"other_prefix\", content[\"#other__field_prefix\"])\n        }\n\n        if (content[\"#other__field_suffix\"] != null) {\n            node.addField(\"other_suffix\", content[\"#other__field_suffix\"])\n        }\n\n        if ('#description' in content && '#markup' in content['#description']) {\n            node.addField(\"description\", content[\"#description\"]['#markup']);\n        }\n        // else {\n        //   node.addField(\"description\", '');\n        // }\n\n        // States refer to the input status, if it is disabled, visible, etc..\n        if (content[\"#states\"] != null) {\n            let marker = ':input';\n            const keys = Object.keys(content[\"#states\"]);\n//      console.info(content[\"#states\"]);\n            for (let i = 0; i < keys.length; i++) {\n                const key = keys[i];\n                const current = content[\"#states\"][key];\n                const rule = new Rule(key);\n                const childKeys = Object.keys(current);\n                for (let x = 0; x < childKeys.length; x++) {\n                    const currentChild = current[childKeys[x]];\n                    let name = null;\n                    let found = childKeys[x].match(/\\\"([^\"]+)\"/g); //.substr(13).substr(0, childKeys[x].substr(13).length - 2);\n                    if (found) {\n                        name = found[0].replace('\"', '').replace('\"', '');\n                    }\n                    let number = 0;\n                    /*          if (name.indexOf(\"[\") != -1 && name.indexOf(\"[radios]\") == -1) {\n                     if (Number.isNaN(Number.parseInt(name.substr(name.length - 3, 2)))) {\n\n                     number = Number.parseInt(name.substr(name.length - 2, 1));\n                     name = name.substr(0, name.length - 3);\n                     } else {\n                     number = Number.parseInt(name.substr(name.length - 3, 2));\n                     name = name.substr(0, name.length - 4);\n                     }\n                     }*/\n                    const conditionKeys = Object.keys(currentChild);\n\n                    for (let y = 0; y < keys.length; y++) {\n                        const c = new Condition(name, conditionKeys[y], currentChild[conditionKeys[y]]);\n                        if (number != 0) {\n                            c.fromArray = true;\n                            c.arrId = number;\n                        }\n                        rule.conditions.push(c);\n                    }\n                }\n                node.rules.push(rule)\n            }\n        }\n\n        // This is the type of the form element\n        switch (type) {\n            case \"processed_text\": {\n                node.addField(\"text\", content[\"#text\"]);\n                break\n            }\n            case \"select\": {\n                const arr = [];\n                const keys = Object.keys(content[\"#options\"]);\n                for (let i = 0; i < keys.length; i++) {\n                    arr.push(content[\"#options\"][keys[i]])\n                }\n                node.addField(\"values\", arr);\n                break\n            }\n            case \"range\" : {\n                node.addField(\"min\", content[\"#min\"]);\n                node.addField(\"max\", content[\"#max\"]);\n                break\n            }\n            case \"webform_radios_other\" : {\n//        console.log(\"Parsing webform_radios_other\", content);\n                const options = content.radios[\"#options\"];\n                const optionsKeys = Object.keys(options);\n                const arr = [];\n                for (let i = 0; i < optionsKeys.length; i++) {\n                    if (optionsKeys[i] == \"_other_\") {\n                        node.addField(\"other_select\", options[optionsKeys[i]])\n                    }\n                    arr.push(options[optionsKeys[i]])\n                }\n                node.addField(\"values\", arr);\n                if ('#default_value' in content) {\n                    node.reflector = content['#default_value'];\n                }\n//        console.log(\"processed node:\", node);\n                break\n            }\n            case \"radios\" : {\n                const options = content[\"#options\"];\n                const optionsKeys = Object.keys(options);\n                const arr = [];\n                for (let i = 0; i < optionsKeys.length; i++) {\n                    if (optionsKeys[i] == \"_other_\") {\n                        node.addField(\"other_select\", options[optionsKeys[i]])\n                    }\n                    arr.push(options[optionsKeys[i]])\n                }\n                node.addField(\"values\", arr);\n                //node.reflector = arr[0];\n                break\n            }\n            case \"checkboxes\" : {\n                //console.log(\"Parsing checkboxes\", content);\n                const options = content[\"#options\"];\n                const optionsKeys = Object.keys(options);\n                const arr = [];\n                for (let i = 0; i < optionsKeys.length; i++) {\n                    if (optionsKeys[i] == \"_other_\") {\n                        node.addField(\"other_select\", options[optionsKeys[i]])\n                    }\n                    arr.push({val: options[optionsKeys[i]], ref: false})\n                }\n                node.addField(\"values\", arr);\n                //console.log(\"processed node:\", node);\n                break;\n            }\n            case \"webform_likert\" : {\n                const optionsArr = [];\n                const optionKeys = Object.keys(content[\"#answers\"]);\n                for (let i = 0; i < optionKeys.length; i++) {\n                    const optionValue = content[\"#answers\"][optionKeys[i]];\n                    optionsArr.push({key: optionKeys[i], value: optionValue})\n                }\n                const questions = content[\"#questions\"];\n                const questionKeys = Object.keys(questions);\n                for (let i = 0; i < questionKeys.length; i++) {\n\n                    const value = questions[questionKeys[i]];\n                    const childNode = new Node(questionKeys[i], value, \"likert_child\", content[\"#webform_id-\" + i]);\n                    childNode.addField(\"values\", optionsArr);\n                    /*for (let y = 0; y < this.savedData.length; y++) {\n                     const current = this.savedData[y];\n                     if (current.id == childNode.id) {\n                     childNode.reflector = current.value;\n                     break;\n                     }\n                     }*/\n                    node.children.push(childNode);\n                }\n                break\n            }\n            case \"webform_checkboxes_other\" : {\n//        console.log(\"Parsing webform checkboxes other\", content);\n                const options = content.checkboxes[\"#options\"];\n                const optionsKeys = Object.keys(options);\n                const other = content.other;\n                const arr = [];\n                for (let i = 0; i < optionsKeys.length; i++) {\n                    if (optionsKeys[i] == \"_other_\") {\n                        node.addField(\"other_select\", options[optionsKeys[i]])\n                        node.reflector = options[optionsKeys[i]];\n                    }\n                    arr.push({val: options[optionsKeys[i]], ref: false})\n                }\n                node.addField(\"values\", arr);\n//        node.reflector = arr[0];\n                if ('#field_suffix' in other) {\n                    node.addField(\"other_suffix\", other['#field_suffix']);\n                }\n\n                node.addField(\"other_type\", other['#type'].replace('field', ''));\n\n//        console.log(\"processed node:\", node);\n                break;\n            }\n            case \"checkbox\" : {\n//        console.log(\"Parsing webform checkbox\", content);\n                node.addField(\"values\", [{val: content[\"#title\"], ref: false}]);\n//        console.log(\"processed node:\", node);\n                break;\n            }\n            case \"canvas\": {\n//        console.log(\"Parsing webform canvas\", content);\n                if ('#kind' in content) {\n                    node.addField(\"kind\", content['#kind']);\n                } else {\n                    node.addField(\"kind\", \"human\");\n                }\n//        node.addField(\"values\", [{val: content[\"#title\"], ref: false}]);\n//        console.log(\"processed node:\", node);\n                break;\n            }\n            // End to-do\n            default: {\n\n            }\n\n\n        }\n        /*\n         for (let i = 0; i < this.savedData.length; i++) {\n         const current = this.savedData[i];\n         if (current.id == node.id) {\n\n         if (node.type == \"checkboxes\") {\n         node.removeField(\"values\");\n         node.addField(\"values\", current.value)\n         }\n         /!*\n         // Untested - broken code\n         else if (node.type == \"webform_checkboxes_other\") {\n         node.removeField(\"values\");\n         node.addField(\"values\", current.value)\n         }*!/\n         else if (node.type != \"checkboxes\") {\n         node.reflector = current.value;\n         }\n         break;\n         }\n         }*/\n\n\n        return node;\n    }\n\n    private drawNode(content) {\n        this.counter++;\n        return new Node(\"canvas_field\", content['#title'], \"canvas\", \"draw_canvas\")\n    }\n\n    private removeCache(callback) {\n        this.storageProvider.removeIfContains(this.accountId + \"form_data\", () => {\n            this.storageProvider.removeIfContains(this.accountId + \"form_custom_data\" + this.formId, () => {\n                callback();\n            });\n        });\n    }\n\n\n    public saveViewPosition(positionData) {\n        this.storageProvider.save(this.accountId + \"form_view_position\" + this.formId, positionData, (success) => {\n//      console.log(\"View position saved successfully:\", positionData)\n        });\n    }\n\n    public getViewPosition(callback) {\n        this.storageProvider.contains(this.accountId + \"form_view_position\" + this.formId, (contains) => {\n            if (contains) {\n                this.storageProvider.fetch(this.accountId + \"form_view_position\" + this.formId, (response) => {\n//          console.log(\"Saved view position retrieved: \", response);\n                    callback(response);\n                })\n            } else {\n                callback({});\n            }\n        });\n    }\n\n    private fixNodeChildren(node) {\n        if (node.hasOwnProperty(\"children\") && node.children != undefined) {\n            for (let i = 0; i < node.children.length; i++) {\n                const current = node.children[i];\n                if (current instanceof Node) {\n                    this.fixNodeChildren(current);\n                } else {\n                    const newNode: Node = Object.assign(new Node(current.name, current.title, current.type, current.id), current);\n                    this.fixNodeChildren(newNode);\n                    node.children[i] = newNode;\n                }\n            }\n        }\n    }\n\n    private mergeNode(node: Node, data) {\n\n        if (data == undefined) {\n            return;\n        }\n        // Parse data of the node itself if possible\n        if (data.hasOwnProperty(\"reflector\") && data.reflector != undefined) {\n            node.reflector = data.reflector;\n        }\n\n        if (node.type == \"checkboxes\") {\n            if (data.hasOwnProperty(\"fields\") && data.fields != undefined && data.fields) {\n                if (data.fields instanceof Array) {\n                    for (let pair of data.fields) {\n                        if (pair.hasOwnProperty(\"key\") && pair.key == \"values\") {\n                            node.removeField(\"values\");\n                            node.addField(\"values\", pair.value);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (node.canMultiply == true) {\n            if (data.hasOwnProperty(\"children\") && data.children.hasOwnProperty(\"length\") && data.children.length > 0) {\n                node.children = [];\n                for (let i = 0; i < data.children.length; i++) {\n                    const currentChild = data.children[i];\n                    const newNode: Node = Object.assign(\n                        new Node(currentChild.name, currentChild.title, currentChild.type, currentChild.id), currentChild);\n                    this.fixNodeChildren(newNode);\n                    node.children.push(newNode);\n                }\n            }\n        } else if (node.canMultiply == false) {\n            // Parse data of the children\n            if (node.children.length > 0) {\n                this.mergeNodeState(node.children, data.children)\n            }\n        }\n\n    }\n\n    private mergeNodeState(parsed: Node[], nodeSavedState): Node[] {\n        for (let i = 0; i < parsed.length; i++) {\n            this.mergeNode(parsed[i], nodeSavedState[i]);\n        }\n        return parsed;\n    }\n\n    private static hashFormFields(text) {\n        if (Array.prototype.reduce) {\n            return text.split(\"\").reduce(function (a, b) {\n                a = ((a << 5) - a) + b.charCodeAt(0);\n                return a & a\n            }, 0);\n        }\n        let hash = 0;\n        if (text.length === 0) {\n            return hash;\n        }\n        for (let i = 0; i < text.length; i++) {\n            let character = text.charCodeAt(i);\n            hash = ((hash << 5) - hash) + character;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return hash;\n    }\n\n    private checkPrivateData(node: Node, data) {\n        if (isString(data.PrivateData)) {\n            // console.info(node.id, node.type, data.PrivateData);\n            if (data.PrivateData.startsWith('inv')) {\n                const rule = new Rule('visible');\n                const c = new Condition(node.name, 'value', '@');\n                rule.conditions.push(c);\n                node.rules.push(rule);\n//        node.visible = false;\n//        node.rules.push({'visible', false});\n            }\n        }\n    }\n\n    /**\n     * Returns the form id of a form based on the url string.\n     * @param url The URL string of the form.\n     */\n    public static getFormId(url: string): string {\n        return encodeURIComponent(btoa(url))\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/form-manager/form-modal.ts","export class UserCalendar {\n  name: string;\n  displayname: string;\n  id: number;\n  sync: boolean;\n\n  constructor(name?:string, displayname?:string, id?:number, sync = false) {\n    this.name = name;\n    this.displayname = displayname;\n    this.id = id;\n    this.sync = sync;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/calendar/calendarUserCalendar.Model.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locale-data/complete.js (ignored)\n// module id = 630\n// module chunks = 35","import { Component, ViewChild } from \"@angular/core\";\nimport { Content, ModalController, Nav, Platform } from \"ionic-angular\";\nimport { StatusBar } from \"@ionic-native/status-bar\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\nimport { HomePage } from \"../pages/home/home\";\nimport { GuiManagerProvider } from \"../providers/gui-manager/gui-manager\";\nimport { AuthManagerProvider } from \"../providers/auth-manager/auth-manager\";\nimport { IntroSliderPage } from \"../pages/intro-slider/intro-slider\";\nimport { LoginPage } from \"../pages/login/login\";\nimport { CheckinServiceProvider } from \"../providers/checkin-service/checkin-service\";\nimport { ActivityTrackerProvider } from \"../providers/activity-tracker/activity-tracker\";\nimport { PlatformManagerProvider } from \"../providers/platform-manager/platform-manager\";\n\ndeclare var cordova: any;\n\n@Component({\n  templateUrl: \"app.html\",\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n  @ViewChild(Content) content: Content;\n  private homePage = { title: \"Home\", component: HomePage };\n\n  rootPage: any = \"LoginPage\";\n  appManager: any = {};\n\n  // Importing from Visit iran\n  public profile_pic: string = \"assets/sidebar/no_pic.jpg\";\n  public fullname: string = \"unknown name\";\n  public acs_lvl_typ: string = \"\";\n\n  goEditProfile() {\n    //this.nav.push(\"ProfilePage\");\n    console.log(\"Unsupported function: goEditprofile (app.component.ts)\");\n  }\n  ///\n\n  get showMsgCenter() {\n    return this.guiManager.messageCenter;\n  }\n\n  get pages() {\n    this.content.resize();\n    return this.guiManager.pages;\n  }\n\n  constructor(\n    public platform: Platform,\n    public statusBar: StatusBar,\n    public splashScreen: SplashScreen,\n    public guiManager: GuiManagerProvider,\n    private authProvider: AuthManagerProvider,\n    private modalCtrl: ModalController,\n    private checkinProvider: CheckinServiceProvider,\n    private tracker: ActivityTrackerProvider,\n    private platformManager: PlatformManagerProvider\n  ) {\n    this.initializeApp();\n    this.detectOldIE();\n  }\n\n  initializeApp() {\n    this.tracker.userActionDetected();\n    const me = this;\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n\n      if (this.platformManager.isWebApplication()) {\n        this.nav._app.viewDidEnter.subscribe((view, error, complete) => {\n          this.tracker.userActionDetected();\n        });\n      }\n      this.authProvider.checkLogin((success) => {\n        if (success) this.nav.setRoot(HomePage);\n      });\n    });\n  }\n\n  private detectOldIE() {\n    var isOldIE = navigator.userAgent.match(/Trident/);\n    console.log(\"Monkey patched because of old IE\" + isOldIE);\n\n    if (isOldIE) {\n      document.body.classList.add(\"ie-old\");\n      this.appManager.isOldIEVersion = true;\n      console.log(\"Monkey patched because of old IE\");\n      this.checkinProvider.isIE = true;\n    }\n  }\n\n  openMessageCenter() {\n    const modal = this.modalCtrl.create(\"MessageCenterPage\");\n    modal.present();\n  }\n\n  openDrawer() {\n    this.nav.push(\"DrawPage\");\n  }\n\n  logout() {\n    this.authProvider.logout();\n    this.nav.setRoot(HomePage);\n  }\n\n  get loggedIn() {\n    return this.authProvider.isLoggedIn;\n  }\n\n  sitesFromKey(key) {\n    return this.pages[key];\n  }\n\n  get pageKeys() {\n    return Object.keys(this.pages);\n  }\n\n  get footerNeed() {\n    return !this.authProvider.isLoggedIn && !this.guiManager.isLoginPageActive;\n  }\n\n  goToLoginPage() {\n    this.nav.setRoot(\"LoginPage\");\n  }\n\n  checkDisabled(item) {\n    if (item.loader == null) return false;\n\n    return this.guiManager.loaders[item.loader] == true;\n  }\n\n  openHomePage() {\n    this.nav.setRoot(HomePage, {}, { animate: true, direction: \"forward\" });\n  }\n\n  openPage(page) {\n    this.nav.setRoot(page.component, page.params != null ? page.params : {}, {\n      animate: true,\n      direction: \"forward\",\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const environment = {\n    production: false,\n    firebase: {\n        apiKey: \"AIzaSyB4945532LPNKZztQR_DMl35YBdZps8wX0\",\n        authDomain: \"clinet-patient-whitelabel.firebaseapp.com\",\n        databaseURL: \"https://clinet-patient-whitelabel.firebaseio.com\",\n        projectId: \"clinet-patient-whitelabel\",\n        storageBucket: \"clinet-patient-whitelabel.appspot.com\",\n        messagingSenderId: \"1089286241779\",\n        appId: \"1:1089286241779:web:5f631c6f1b9c073d27a686\"\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { Component } from \"@angular/core\";\r\nimport { ViewController } from \"ionic-angular\";\r\n\r\n@Component({\r\n  selector: \"simple-text-modal\",\r\n  templateUrl: \"simple-text-modal.html\",\r\n})\r\nexport class SimpleTextModalPage {\r\n  constructor(public viewCtrl: ViewController) {}\r\n\r\n  close() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/simple-text-modal/simple-text-modal.ts","import { Injectable } from \"@angular/core\";\nimport { Info } from \"../../services/statics\";\n\n/*\n  Generated class for the LinkManagerProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class LinkManagerProvider {\n  constructor() {}\n\n  // If you create new webform in Drupal, you can retrieve the elements and structure of the webform with this url:\n  // (BACKEND_URL)/webform_rest/elements/WEBFORM_NAME?_format=hal_json\n  private webforms = {\n    //    \"\": Info.merge(\"/webform_rest/checkin_2/elements?_format=hal_json\"),\n    \"\": \"/rest/app/checkin/template?_format=json\",\n    saulgau: Info.merge(\"/webform_rest/checkin_2/elements?_format=hal_json\"),\n    waldsee: Info.merge(\"/webform_rest/checkin_2/elements?_format=hal_json\"),\n    salzelmen: Info.merge(\"/webform_rest/checkin_2/elements?_format=hal_json\"),\n    wurzach: Info.merge(\"/webform_rest/checkin_2/elements?_format=hal_json\"),\n    aplenblick: Info.merge(\"/webform_rest/checkin_2/elements?_format=hal_json\"),\n    argenta: Info.merge(\"/webform_rest/checkin_2/elements?_format=hal_json\"),\n    schwabenland: Info.merge(\n      \"/webform_rest/checkin_2/elements?_format=hal_json\",\n    ),\n    niederbayern: Info.merge(\n      \"/webform_rest/checkin_2/elements?_format=hal_json\",\n    ),\n  };\n  private foodMenus = {\n    \"\": Info.merge(\"/api/menu\"),\n    saulgau: Info.merge(\"/saulgau/api/menu\"),\n    waldsee: Info.merge(\"/waldsee/api/menu\"),\n    salzelmen: Info.merge(\"/salzelmen/api/menu\"),\n    wurzach: Info.merge(\"/wurzach/api/menu\"),\n    aplenblick: Info.merge(\"/aplenblick/api/menu\"),\n    argenta: Info.merge(\"/argenta/api/menu\"),\n    schwabenland: Info.merge(\"/schwabenland/api/menu\"),\n    niederbayern: Info.merge(\"/niederbayern/api/menu\"),\n  };\n  private infoIdsLists = {\n    \"\": Info.merge(\"/api/infos/ids/114\"),\n    saulgau: Info.merge(\"/saulgau/api/infos/ids\"),\n    waldsee: Info.merge(\"/waldsee/api/infos/ids\"),\n    salzelmen: Info.merge(\"/salzelmen/api/infos/ids\"),\n    wurzach: Info.merge(\"/wurzach/api/infos/ids\"),\n    aplenblick: Info.merge(\"/aplenblick/api/infos/ids\"),\n    argenta: Info.merge(\"/argenta/api/infos/ids\"),\n    schwabenland: Info.merge(\"/schwabenland/api/infos/ids\"),\n    niederbayern: Info.merge(\"/niederbayern/api/infos/ids\"),\n    \"111\": Info.merge(\"/api/infos/ids/111\", false),\n    \"114\": Info.merge(\"/api/infos/ids/114\", false),\n  };\n\n  private newsList = {\n    \"\": \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=8&linkprefix=https://www.rehabilitationsklinik-bad-saulgau.de/154.html?id=\",\n    saulgau:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=8&linkprefix=https://www.rehabilitationsklinik-bad-saulgau.de/154.html?id=\",\n    waldsee:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=7&linkprefix=https://www.klinik-im-hofgarten.de/154.html?id=\",\n    salzelmen:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=11&linkprefix=https://www.rehaklinik-bad-salzelmen.de/154.html?id=\",\n    wurzach:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=6&linkprefix=https://www.rehabilitationsklinik-bad-wurzach.de/154.html?id=\",\n    aplenblick:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=3&linkprefix=https://www.klinik-alpenblick.de/154.html?id=\",\n    argenta:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=2&linkprefix=https://www.argentalklinik.de/154.html?id=\",\n    schwabenland:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=1&linkprefix=https://www.klinik-schwabenland.de/154.html?id=\",\n    niederbayern:\n      \"https://www.wz-kliniken.de/news-rss.php?section=2&kliniken=10&linkprefix=https://www.klinik-niederbayern.de/154.html?id=\",\n  };\n\n  public getNews(clinic: string = \"\"): string {\n    console.log(\"getNews is: \" + this.newsList[clinic]);\n    return this.newsList[clinic] == undefined\n      ? this.newsList[\"\"]\n      : this.newsList[clinic];\n  }\n\n  public getRegistrierungsanweisungenAsJSON(): string {\n    return Info.merge(\"/registrierungsanweisungen?_format=json\", false);\n  }\n\n  public getNutungsbedingungenAsHalJSON(): string {\n    console.log(Info.merge(\"/nutzungsbedingungen?_format=hal_json\", false));\n\n    return Info.merge(\"/nutzungsbedingungen?_format=hal_json\", false);\n  }\n\n  public getDatenschutzAsJSON(): string {\n    return Info.merge(\"/datenschutz?_format=json\", false);\n  }\n\n  public getWebformAsHalJSON(clinic: string = \"\"): string {\n    console.log(\"getWebformAsHalJSON is: \" + this.webforms[clinic]);\n    return this.webforms[clinic] == undefined\n      ? this.webforms[\"\"]\n      : this.webforms[clinic];\n  }\n\n  public getInfoIdsList(clinic: string = \"\"): string {\n    console.log(\"getInfoIdsList is: \" + this.infoIdsLists[clinic]);\n    return this.infoIdsLists[clinic] == undefined\n      ? this.infoIdsLists[\"\"]\n      : this.infoIdsLists[clinic];\n  }\n\n  public getMenu(clinic: string = \"\"): string {\n    console.log(\"getMenu is: \" + this.foodMenus[clinic]);\n    return this.foodMenus[clinic] == undefined\n      ? this.foodMenus[\"\"]\n      : this.foodMenus[clinic];\n  }\n  /**\n   * @param subFoodsIds String of IDs combined with the plus symbol\n   */\n  public getMenuFoodAdditionals(subFoodsIds: string): string {\n    return Info.merge(\"/menu/food/additionals\" + \"/\" + subFoodsIds, false);\n  }\n\n  /**\n   *\n   * @param ids String of IDs combined with the plus symbol\n   */\n  public getInfos(ids: string): string {\n    return Info.merge(\"/api/infos\" + ids, false);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/link-manager/link-manager.ts","import {Injectable} from '@angular/core';\nimport {Http, RequestOptions, ResponseContentType} from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport {File} from \"@ionic-native/file\";\nimport {AlertController, LoadingController} from \"ionic-angular\";\nimport {StorageManagerProvider} from \"../storage-manager/storage-manager\";\nimport {isCordovaAvailable} from \"../../services/is-cordova-available\";\nimport {Info} from \"../../services/statics\";\nimport {GuiManagerProvider} from \"../gui-manager/gui-manager\";\nimport {PlatformManagerProvider} from \"../platform-manager/platform-manager\";\n\n/*\n  Generated class for the OtpProvider provider.\n\n  tps://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\ndeclare var cordova: any;\n\n@Injectable()\nexport class OtpProvider {\n\n    private keyFile = \"\";\n    private ready = false;\n    public tempFileName = \"temp.crypt\";\n    private keyTemplate = \"key.template\";\n\n    constructor(public http: Http, private fileNative: File, private alertCtrl: AlertController, private storage: StorageManagerProvider, private guiManager: GuiManagerProvider, private platformUtils: PlatformManagerProvider, private loadingController: LoadingController) {\n\n    }\n\n    /**\n     * Based on the platform, it returns if this device should not use\n     * the OTP encryption/decryption algorithm.\n     * Returns true if the encryption shouldn't be used, false if it should be used.\n     */\n    public shouldNotRunOTP() {\n        //return (this.platformUtils.isWebApplication()) || (this.platformUtils.isMobileApplication() && this.platformUtils.isRunningIOS());\n        return this.platformUtils.isWebApplication();\n    }\n\n    public downloadOtpKey(callback = (success) => {}) {\n        const me = this;\n        let headersObject = new RequestOptions({responseType: ResponseContentType.Blob});\n        console.log(\"Starting download of otp key\");\n        let loadingMsg = this.loadingController.create({\n            content: \"Die Sicherheitsschlüsseldatei wird gerade heruntergeladen.<br>\" +\n                \"Dies kann je nach Netzwerkverbindung einige Zeit dauern.<br>\" +\n                \"Bitte warten Sie...\",\n            enableBackdropDismiss: false,\n            spinner: \"ios\"\n        });\n\n        loadingMsg.present().then(msgThen => {\n            console.log(\"message then\", msgThen)\n        }).catch(msgCathc => {\n            console.log(\"msg catch\", msgCathc)\n        });\n\n        /*\n\n        let message = this.alertCtrl.create({\n          title: 'Herunterladen von Sicherheitsschlüsseln',\n          message: \"Die Sicherheitsschlüsseldatei wird gerade heruntergeladen.\\n\" +\n            \"Dies kann je nach Netzwerkverbindung einige Zeit dauern.\\n\" +\n            \"Bitte warten Sie...\",\n          buttons: [],\n          enableBackdropDismiss: false\n        });\n        message.present().then(msgThen => {\n          console.log(\"message then\", msgThen)\n        }).catch(msgCathc => {\n          console.log(\"msg catch\", msgCathc)\n        })*/\n\n        /*\n        this.navCtrl.setRoot(InProgressPage, {title: \"Herunterladen von Sicherheitsschlüsseln\", message: \"Die Sicherheitsschlüsseldatei wird gerade heruntergeladen.\\n\" +\n            \"Dies kann je nach Netzwerkverbindung einige Zeit dauern.\\n\" +\n            \"Bitte warten Sie...\"}).catch( catchRej => {\n              console.log(\"Catching the rejection of the Inprogress page...\");\n        }).then(thenProgress => {\n          console.log(\"Cathcing the then of the Inprogress page....\");\n        });\n        */\n        me.http.get(Info.testOtpKeyUrl, headersObject).toPromise().then( content => {\n            console.log(\"Finished download of otp key.\");\n            me.fileNative.writeFile(me.fileNative.dataDirectory, me.keyTemplate, content.blob(), {replace: true}).then(_ => {\n                loadingMsg.dismiss().then(thenDismss => {\n                    console.log(\"message dimiss then:\", thenDismss)\n                }).catch(dismissCathc => {\n                    console.log(\"message dismiss\", dismissCathc)\n                })\n                me.storage.save(\"otp_downloaded\", true, (x) => {\n                    me.ready = true;\n                    me.resetKey(() => {\n                        //alert(\"Der sicherheitsschlüssel wurde heruntergeladen!\")\n                        this.guiManager.showPopupMessage(\"Erfolgreicher Download\", \"Der sicherheitsschlüssel wurde heruntergeladen!\", ()=>{ callback(true) }, false)\n                    })\n\n                });\n            }).catch(saveRej => {\n                loadingMsg.dismiss().then(thenDismss => {\n                    console.log(\"message dimiss then:\", thenDismss)\n                }).catch(dismissCathc => {\n                    console.log(\"message dismiss\", dismissCathc)\n                })\n                console.log(\"Error while saving the file:\", saveRej)\n                this.guiManager.showPopupMessage(\"Download fehlgeschlagen\", \"Fehler beim Speichern der Datei:\\n\" + JSON.stringify(saveRej), ()=>{ callback(false) }, false)\n            })\n        }).catch(rej => {\n            console.log(\"Http download of OTP key failed. Rejection: \", rej);\n            this.guiManager.showPopupMessage(\"Download fehlgeschlagen\", \"Fehler beim Speichern der Datei:\\n\" + JSON.stringify(rej), ()=>{ callback(false) }, false)\n            loadingMsg.dismiss().then(thenDismss => {\n                console.log(\"message dimiss then:\", thenDismss)\n            }).catch(dismissCathc => {\n                console.log(\"message dismiss\", dismissCathc)\n            })\n        });\n        /*\n        me.http.get(Info.testOtpKeyUrl, headersObject).subscribe(content => {\n          console.log(\"Finished download of otp key.\");\n          me.fileNative.writeFile(me.fileNative.dataDirectory, \"key.template\", content.blob()).then(_ => {\n            me.storage.save(\"otp_downloaded\", true, (x) => {\n              me.ready = true;\n              me.resetKey(() => {\n                //alert(\"Der sicherheitsschlüssel wurde heruntergeladen!\")\n                message.dismiss().then(thenDismss => {\n                  console.log(\"message dimiss then:\", thenDismss)\n                }).catch(dismissCathc => {\n                  console.log(\"message dismiss\", dismissCathc)\n                })\n                this.guiManager.showPopupMessage(\"Erfolgreicher Download\", \"Der sicherheitsschlüssel wurde heruntergeladen!\", ()=>{}, false)\n              })\n\n            });\n          })\n        })*/\n    }\n\n    public checkOtpTestFile(callback = (fileExists) => {}) {\n        const me = this;\n\n        if (isCordovaAvailable()) {\n            if(this.platformUtils.isMobileApplication()) {\n\n                {\n\n                    this.storage.contains(\"otp_downloaded\", (c) => {\n                        if(!c) {\n                            let confirm = me.alertCtrl.create({\n                                title: 'Sicherheitsschlüssel Herunterladen?',\n                                message: 'Um Daten mit Ihrer Klinik zu teilen, benötigen Sie einen Sicherheitsschlüssel. Dadurch garantieren wir Ihnen den verlässlichen Schutz Ihrer vertraulichen Informationen.', //Um clinetplatforms Sicherheits System zu benutzen, muss die App eine 30MB große Datei herunterladen(Einmalig), soll die app dies jetzt tun?\n                                buttons: [{\n                                    text: 'Später',\n                                    handler: () => {\n                                        callback(false)\n                                    }\n                                }, {\n                                    text: 'Herunterladen',\n                                    handler: () => {\n                                        me.downloadOtpKey((success) => {\n                                            callback(success)\n                                        });\n                                    }\n                                }],\n                                enableBackdropDismiss: false\n                            });\n                            confirm.present();\n                        }\n                        else {\n                            if (c == true)\n                                callback(true);\n                            else {\n                                callback(false);\n                            }\n                        }\n                    })\n                }\n\n            }\n            else {\n                callback(false)\n            }\n\n        }\n        else {\n            callback(false)\n        }\n    }\n\n    public resetKey(callback = null) {\n\n        const me = this;\n        const next = () => {\n            me.fileNative.copyFile(me.fileNative.dataDirectory, me.keyTemplate, me.fileNative.dataDirectory, \"key.otp\").then(_ => {\n\n                if (callback != null) callback();\n            }).catch(err => {\n\n                console.log(\"Could not copy File: \" + JSON.stringify(err));\n                this.guiManager.showPopupMessage(\"OTP key could not be used\", \"The OTP key could not be copied internally to encrypt the data. Please re-try. If the problem persists, contact the application's support. Error: \" + JSON.stringify(err));\n            })\n        };\n        me.fileNative.checkFile(me.fileNative.dataDirectory, \"key.otp\").then(contains => {\n            if (contains) {\n                me.fileNative.removeFile(me.fileNative.dataDirectory, \"key.otp\").then(_ => {\n                    next();\n                }).catch(err => {\n\n                    console.log(\"Could not delete: \" + JSON.stringify(err));\n\n                })\n            } else {\n                next();\n            }\n        }).catch(err => {\n            console.log(\"Could not check File: \" + JSON.stringify(err));\n            next();\n        })\n    }\n\n    public getDefaultOTPKeyPath() {\n        return this.fileNative.dataDirectory.substr(7) + \"/key.otp\";\n    }\n\n\n    decrypt(keyPath: string, filePath: string, outPath: string, successCallback: (success) => void, errorCallback: (error) => void) {\n        console.log(\"OTP decrypt method has been called with arguments:\", \"Keypath: \"+ keyPath, \"Filepath: \" + filePath, \"Output path: \" + outPath);\n        return cordova.plugins.OTP.decrypt(keyPath,filePath,outPath,successCallback,errorCallback)\n    }\n\n    encrypt(keyPath: string, filePath: string, outPath: string, successCallback: (success) => void, errorCallback: (error) => void) {\n        console.log(\"OTP encrypt method has been called with arguments:\", \"Keypath: \"+ keyPath, \"Filepath: \" + filePath, \"Output path: \" + outPath);\n        return cordova.plugins.OTP.encrypt(keyPath,filePath,outPath,successCallback,errorCallback)\n    }\n\n    /**\n     * Data should be in base64 format.\n     * Callback should be a function with 2 parameters, first one is a boolean and indicates if the process was successful and the second one has the decrypted data or an error message in case of an error.\n     * @param base64data\n     * @param callback\n     */\n    decryptBase64DataAndGetBase64(base64data: any, callback) {\n        let returnSuccess = true;\n        let returnDecryptedData = \"\";\n\n        let workingFileDirectory = this.fileNative.dataDirectory;\n\n        let tempFilename = \"file.dec.temp.crypt\";\n        let tempDecryptedFilename = \"file.dec.temp\";\n        let fileDirectoryForDecryption = workingFileDirectory.substr(7);\n\n        const base64ToArrayBuffer = (base64) => {\n            console.log(\"Converting base 64 to array buffer...\");\n            const binary_string =  atob(base64);\n            const len = binary_string.length;\n            const bytes = new Uint8Array(len);\n            for (let i = 0; i < len; i++) {\n                bytes[i] = binary_string.charCodeAt(i);\n            }\n            return bytes.buffer;\n        };\n\n        let encryptedData = base64ToArrayBuffer(base64data);\n\n        const createTempFileWithData = (data: any, folder: string, file: string, callback) => {\n            this.fileNative.writeFile(folder, file, data, {replace: true}).then( written => {\n                if (written) {\n                    console.log(\"Data were successfully written in the temp file \" + file + \" on location: \" + folder);\n                    callback();\n                }\n                else {\n                    console.log(\"Writing the data to the temp file \" + file + \" on location: \" + folder + \" was not successful: \", written);\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnDecryptedData = \"OTP_Decrypt: Unable to create temp file: \" + file + \" at \" + folder +\" . Error message: \" + written;\n                    }\n                    callback();\n                }\n            }, rej => {\n                console.log(\"Rejection while trying to write the data to the temp file for creating decrypted data: \", rej);\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnDecryptedData = \"OTP_Decrypt: Rejection: Unable to create temp file: \" + file + \" at \" + folder +\" . Error message: \" + rej;\n                }\n                callback();\n            }).catch( exc => {\n                console.log(\"Exception while trying to write the data to the temp file for creating decrypted data: \", exc);\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnDecryptedData = \"OTP_Decrypt: Exception: Unable to create temp file: \" + file + \" at \" + folder +\" . Error message: \" + exc;\n                }\n                callback();\n            });\n        };\n\n        const decryptFileWithData = (folder: string, inputFile: string, outputFile: string, callback) => {\n            this.decrypt(this.getDefaultOTPKeyPath(), folder + inputFile, folder + outputFile, (decryptionSuccess) => {\n                console.log(\"OTP decrypt success: \" + decryptionSuccess);\n                callback();\n            }, (error) => {\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnDecryptedData = \"OTP_Decrypt: Error when decrypting the data. Error message: \" + error;\n                }\n                callback();\n            })\n        };\n\n        const deleteFile = (folder: string,\n                            filename: string,\n                            callbackSuccess = (success)=>{console.log(\"Deletion of the file \" + filename + \" was: \",success);},\n                            callbackError = (error) => { console.log(\"Error while deleting file \" + filename + \":\", error);}) => {\n            this.fileNative.removeFile(folder,filename).then(success => {\n                callbackSuccess(success);\n            }, rej => {\n                callbackError(rej);\n            }).catch(exc => {\n                callbackError(exc);\n            })\n        };\n\n        const readDecryptedData = (fileDirectory: string, filename: string, callback) => {\n\n            this.fileNative.checkFile(workingFileDirectory, filename).then( _ => {\n                this.fileNative.readAsDataURL(fileDirectory, filename).then(encryptedData=> {\n                    if (encryptedData) {\n                        returnDecryptedData = encryptedData.substring(encryptedData.indexOf(\"base64,\") + 7);\n                        callback();\n                    }\n                    else {\n                        if (returnSuccess == true) {\n                            returnSuccess = false;\n                            returnDecryptedData = \"OTP_Decrypt: Error when reading decrypting data from file: Error message: \" + encryptedData;\n                        }\n                        callback();\n                    }\n                }, rej => {\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnDecryptedData = \"OTP_Decrypt: Rejection: Error when reading decrypting data from file. Error message: \" + rej;\n                    }\n                    callback();\n                }).catch( exc => {\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnDecryptedData = \"OTP_Decrypt: Exception: Error when reading decrypting data from file. Error message: \" + exc;\n                    }\n                    callback();\n                });\n            }, rej => {\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnDecryptedData = \"OTP_Decrypt: Rejection: Decrypted file was not created. Error message: \" + rej;\n                }\n                callback();\n            }).catch( exc => {\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnDecryptedData = \"OTP_Decrypt: Exception: Decrypted file was not created. Error message: \" + exc;\n                }\n                callback();\n            });\n\n        };\n\n\n        this.resetKey(() => { // TODO Do not reset key!\n\n            this.fileNative.checkFile(workingFileDirectory, tempDecryptedFilename).then( _ => {\n                this.fileNative.removeFile(workingFileDirectory, tempDecryptedFilename).then(deleted => {\n                    if (deleted) {\n                        console.log(\"Encrypted Temp file for DEC was deleted. Trying to create the encrypted temp file...\");\n                        createTempFileWithData(encryptedData, workingFileDirectory, tempFilename, ()=> {\n                            decryptFileWithData(fileDirectoryForDecryption, tempFilename, tempDecryptedFilename, () => {\n                                deleteFile(workingFileDirectory, tempFilename);\n                                readDecryptedData(workingFileDirectory, tempDecryptedFilename, () => {\n                                    deleteFile(workingFileDirectory, tempDecryptedFilename);\n                                    callback(returnSuccess, returnDecryptedData);\n                                });\n                            });\n                        });\n                    }\n                }).catch(rej => {\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnDecryptedData = \"OTP_Decrypt: Rejection: Error when trying to re-create temp file. Error message: \" + rej;\n                    }\n                    callback(returnSuccess, returnDecryptedData);\n                    console.log(\"Trying to delete the temp encrypted file, but exception occured:\", rej);\n                })\n            }).catch(rej => {\n                console.log(\"No Encrypted Temp file for DEC probably exist with that name. Trying to create the encrypted temp file...\");\n                createTempFileWithData(encryptedData, workingFileDirectory, tempFilename, ()=> {\n                    decryptFileWithData(fileDirectoryForDecryption, tempFilename, tempDecryptedFilename, () => {\n                        deleteFile(workingFileDirectory, tempFilename);\n                        readDecryptedData(workingFileDirectory, tempDecryptedFilename, () => {\n                            deleteFile(workingFileDirectory, tempDecryptedFilename);\n                            callback(returnSuccess, returnDecryptedData);\n                        });\n                    });\n                });\n            })\n        });\n\n    }\n\n    /**\n     * Data preferably should be in base64 format.\n     * Callback should be a function with 2 parameters, first one is a boolean and indicates if the process was successful and the second one has the encrypted data or an error message in case of an error.\n     * @param data\n     * @param callback\n     */\n    encryptDataAndGetBase64(data: any, callback) {\n        let returnSuccess = true;\n        let returnEncryptedData = \"\";\n\n        let workingFileDirectory = this.fileNative.dataDirectory;\n\n        let tempFilename = \"file.temp\";\n        let tempEncryptedFilename = \"file.temp.crypt\";\n        let fileDirectoryForEncryption = workingFileDirectory.substr(7);\n\n        const createTempFileWithData = (data: any, folder: string, file: string, callback) => {\n            this.fileNative.writeFile(folder, file, data, {replace: true}).then( written => {\n                if (written) {\n                    console.log(\"Data were successfully written in the temp file \" + file + \" on location: \" + folder);\n                    callback();\n                }\n                else {\n                    console.log(\"Writing the data to the temp file \" + file + \" on location: \" + folder + \" was not successful: \", written);\n                    console.log(\"Data are: \", data);\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnEncryptedData = \"OTP_Encrypt: Unable to create temp file: \" + file + \" at \" + folder +\" . Error message: \" + written;\n                    }\n                    callback();\n                }\n            }, rej => {\n                console.log(\"Rejection while trying to write the data to the temp file for creating encrypted data: \", rej);\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnEncryptedData = \"OTP_Encrypt: Rejection: Unable to create temp file: \" + file + \" at \" + folder +\" . Error message: \" + rej;\n                }\n                callback();\n            }).catch( exc => {\n                console.log(\"Exception while trying to write the data to the temp file for creating encrypted data: \", exc);\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnEncryptedData = \"OTP_Encrypt: Exception: Unable to create temp file: \" + file + \" at \" + folder +\" . Error message: \" + exc;\n                }\n                callback();\n            });\n        };\n\n        const encryptFileWithData = (folder: string, inputFile: string, outputFile: string, callback) => {\n            this.encrypt(this.getDefaultOTPKeyPath(), folder + inputFile, folder + outputFile, (encryptionSuccess) => {\n                console.log(\"OTP encrypt success: \" + encryptionSuccess);\n                callback();\n            }, (error) => {\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnEncryptedData = \"OTP_Encrypt: Error when encrypting the data. Error message: \" + error;\n                }\n                callback();\n            })\n        };\n\n        const deleteFile = (folder: string,\n                            filename: string,\n                            callbackSuccess = (success)=>{console.log(\"Deletion of the file \" + filename + \" was: \",success);},\n                            callbackError = (error) => { console.log(\"Error while deleting file \" + filename + \":\", error);}) => {\n            this.fileNative.removeFile(folder,filename).then(success => {\n                callbackSuccess(success);\n            }, rej => {\n                callbackError(rej);\n            }).catch(exc => {\n                callbackError(exc);\n            })\n        };\n\n        const readEncryptedData = (fileDirectory: string, filename: string, callback) => {\n\n            this.fileNative.checkFile(workingFileDirectory, filename).then( _ => {\n                this.fileNative.readAsDataURL(fileDirectory, filename).then(encryptedData=> {\n                    if (encryptedData) {\n                        returnEncryptedData = encryptedData.substring(encryptedData.indexOf(\"base64,\") + 7);\n                        callback();\n                    }\n                    else {\n                        if (returnSuccess == true) {\n                            returnSuccess = false;\n                            returnEncryptedData = \"OTP_Encrypt: Error when reading encrypting data from file: Error message: \" + encryptedData;\n                        }\n                        callback();\n                    }\n                }, rej => {\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnEncryptedData = \"OTP_Encrypt: Rejection: Error when reading encrypting data from file. Error message: \" + rej;\n                    }\n                    callback();\n                }).catch( exc => {\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnEncryptedData = \"OTP_Encrypt: Exception: Error when reading encrypting data from file. Error message: \" + exc;\n                    }\n                    callback();\n                });\n            }, rej => {\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnEncryptedData = \"OTP_Encrypt: Rejection: Encrypted file was not created. Error message: \" + rej;\n                }\n                callback();\n            }).catch( exc => {\n                if (returnSuccess == true) {\n                    returnSuccess = false;\n                    returnEncryptedData = \"OTP_Encrypt: Exception: Encrypted file was not created. Error message: \" + exc;\n                }\n                callback();\n            });\n\n        };\n\n        this.resetKey(() => { // TODO Do not reset key!\n\n            this.fileNative.checkFile(workingFileDirectory, tempEncryptedFilename).then( _ => {\n                this.fileNative.removeFile(workingFileDirectory, tempEncryptedFilename).then(deleted => {\n                    if (deleted) {\n                        console.log(\"Enc Temp file was deleted. Trying to create the encrypted temp file...\");\n                        createTempFileWithData(data, workingFileDirectory, tempFilename, ()=> {\n                            encryptFileWithData(fileDirectoryForEncryption, tempFilename, tempEncryptedFilename, () => {\n                                deleteFile(workingFileDirectory, tempFilename);\n                                readEncryptedData(workingFileDirectory, tempEncryptedFilename, () => {\n                                    deleteFile(workingFileDirectory, tempEncryptedFilename);\n                                    callback(returnSuccess, returnEncryptedData);\n                                });\n                            });\n                        });\n                    }\n                }).catch(rej => {\n                    if (returnSuccess == true) {\n                        returnSuccess = false;\n                        returnEncryptedData = \"OTP_Encrypt: Rejection: Error when trying to re-create temp file. Error message: \" + rej;\n                    }\n                    callback(returnSuccess, returnEncryptedData);\n                    console.log(\"Trying to delete the temp encrypted file, but exception occured:\", rej);\n                })\n            }).catch(rej => {\n                console.log(\"No enc temp file probably exist with that name. Trying to create the encrypted temp file...\");\n                createTempFileWithData(data, workingFileDirectory, tempFilename, ()=> {\n                    encryptFileWithData(fileDirectoryForEncryption, tempFilename, tempEncryptedFilename, () => {\n                        deleteFile(workingFileDirectory, tempFilename);\n                        readEncryptedData(workingFileDirectory, tempEncryptedFilename, () => {\n                            deleteFile(workingFileDirectory, tempEncryptedFilename);\n                            callback(returnSuccess, returnEncryptedData);\n                        });\n                    });\n                });\n            })\n        });\n\n    }\n\n    /**\n     * Checks if the OTP key exists in the device and calls the passed method with either true or false.\n     * @param callback\n     */\n    public doesKeyExistOnDevice(callback) {\n        const me = this;\n        me.fileNative.checkFile(me.fileNative.dataDirectory, me.keyTemplate).then(success => {\n            console.log(\"Success :\", success)\n            callback(true)\n        }, rej => {\n            console.log(\"Rejection: \", rej)\n            callback(false)\n        }).catch(exc => {\n            console.log(\"Exception: \", exc)\n            callback(true)\n        })\n    }\n\n    public copyKeyFromUSB() {\n        this.guiManager.showPromptMessage(\"Plug in flash drive\", \"Please plug in the flash drive to your mobile device and press Confirm.\", ()=> {\n            this.findPathOfMainUSBFolder( usbDevicesArray => {\n                this.scanContentsOfUSBsAndCopyKey(usbDevicesArray)\n            })\n        }, () => {\n            console.log(\"User cancelled the refill process.\");\n        });\n    }\n\n\n    public copyKeyToInternalAppStorage(path, dirname, filename) {\n        let folderToMoveKeysTo = this.fileNative.dataDirectory;\n        let nameOfKey = \"key.otp\";\n        this.fileNative.moveFile(path + \"/\" + dirname, filename, folderToMoveKeysTo, nameOfKey).then( success => {\n            console.log(\"key was moved successfully!\", success);\n            this.guiManager.showPopupMessage(\"Key transfer completed\", \"The key refill was completed successfully!\");\n        }, rej => {\n            console.log(\"Failed to move the key from the USB to local storage\", rej);\n            this.guiManager.showPopupMessage(\"Key transfer failed\", \"Failed to move the key from the flash drive to local storage: \" + rej.toString());\n        }).catch(err => {\n            console.log(\"Error moving the key from the USB to the local storage \", err);\n            this.guiManager.showPopupMessage(\"Key transfer failed\", \"Failed to move the key from the flash drive to local storage: \" + err.toString());\n        })\n    }\n\n    public scanContentsOfUSBsAndCopyKey(usbArray) {\n        if (usbArray.length == 0) {\n            this.guiManager.showPopupMessage(\"Flash drive not connected\", \"No flash drives were detected. Please re-try.\");\n        }\n\n        for (let usb of usbArray) {\n            this.fileNative.listDir(usb.path, usb.dirName).then( success => {\n                console.log(\"USB with ID \" + usb.dirName + \" has contents: \", success)\n                let foundKey = false;\n                for (let entry of success) {\n                    if (entry.isFile && entry.name.endsWith(\"otp\") && foundKey == false) {\n                        foundKey = true;\n                        this.copyKeyToInternalAppStorage(usb.path, usb.dirName, entry.name);\n                    }\n                }\n\n                if (foundKey == false) {\n                    this.guiManager.showPopupMessage(\"Key not found\", \"No keys were detected in the connected devices.\");\n                }\n\n            }, rej => {\n                console.log(\"REJ on USB with ID \" + usb.dirName + \" : \", rej)\n            }).catch(err => {\n                console.log(\"ERr on USB with ID \" + usb.dirName + \" : \", err)\n            })\n        }\n\n    }\n\n    public findPathOfMainUSBFolder(callback) {\n\n        let usbDevicesConnected = [];\n        this.fileNative.listDir(\"file:///\", \"storage\").then( success => {\n            for (let entry of success) {\n                if (entry.isDirectory == true && entry.name != \"emulated\" && entry.name != \"self\") {\n                    usbDevicesConnected.push({path: \"file:///storage/\", dirName: entry.name});\n                    console.log(\"USB \", entry.name, \" has been added to the list\");\n                }\n            }\n            callback(usbDevicesConnected)\n        }, rej => {\n            this.guiManager.showPopupMessage(\"Device unsupported\", \"This device is not supported for copying keys from flash drives.\\n\" + rej);\n            console.log(\"rej file:///, storage \", \"Contents: \", rej);\n        }).catch(err => {\n            this.guiManager.showPopupMessage(\"Device unsupported\", \"This device is not supported for copying keys from flash drives.\\n\" + err);\n            console.log(\"err file:///, storage \", \"Contents: \", err);\n        })\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/otp/otp.ts","export let isCordovaAvailable = () => {\n\treturn (<any>window).cordova;\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/is-cordova-available.ts"],"sourceRoot":""}